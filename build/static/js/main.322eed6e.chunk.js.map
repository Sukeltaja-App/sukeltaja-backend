{"version":3,"sources":["utils/config.js","services/loginService.js","reducers/authenticationReducer.js","reducers/notificationReducer.js","services/targetService.js","reducers/targetReducer.js","services/eventService.js","reducers/eventReducer.js","reducers/divesReducer.js","services/userService.js","reducers/userReducer.js","services/bouserService.js","reducers/bouserReducer.js","store.js","components/Notification.js","components/Login.js","components/Logout.js","components/Home.js","utils/coordinates.js","components/TargetDetails.js","utils/dates.js","components/DiveDetails.js","components/Dive.js","components/Dives.js","components/Target.js","components/DivingEvent.js","components/FilterFields.js","components/FilterEventsForm.js","utils/JsonToCSV.js","components/Paginator.js","components/DivingEvents.js","components/FilterTargetDivesForm.js","components/TargetDives.js","components/FilterTargetsForm.js","components/Targets.js","components/InputFields.js","components/User.js","components/FilterUsersForm.js","components/Users.js","components/UpdateBOUserForm.js","components/BOUser.js","components/BOUsers.js","components/App.js","index.js"],"names":["kyppiUrl","serviceURL","concat","loginService","login","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","credentials","response","wrap","_context","prev","next","axios","post","sent","abrupt","data","stop","this","_x","apply","arguments","authenticationReducer","state","length","undefined","loggedUser","action","type","setNotification","notClass","notMessage","timeout","dispatch","setTimeout","notificationReducer","targetService","getAll","get","targetReducer","eventService","config","loggedUserJSON","token","window","localStorage","getItem","JSON","parse","headers","Authorization","console","log","eventReducer","divesReducer","userService","userReducer","bouserService","update","_ref2","_callee2","bouser","_response","_context2","_id","put","remove","_ref3","_callee3","_context3","delete","_x2","initializeBOUsers","bousers","sort","b","username","toUpperCase","localeCompare","updateBOUser","deleteBOUser","_x3","bouserReducer","reducer","combineReducers","authentication","notification","targets","events","targetDives","users","store","createStore","applyMiddleware","thunk","connect","props","react_default","createElement","Alert","variant","mapDispatchToProps","loginUser","password","user","setItem","stringify","reLoginUser","_useState","useState","_useState2","slicedToArray","setUsername","_useState3","_useState4","setPassword","initializeAtStartUp","useEffect","storageUserToUser","handleLogin","event","preventDefault","location","href","t0","Form","onSubmit","Group","Label","Control","name","placeholder","onChange","target","value","Button","pathname","Redirect","to","logoutUser","clearEvents","clearDives","clearTargets","clearUsers","clearBOUsers","handleLogout","removeItem","Fragment","style","color","size","onClick","decimalToDMS","coordinate","degrees","Math","floor","minutes","seconds","toFixed","TargetDetails","linkToKyppi","mj_id","Container","id","margins","Row","Col","material","depth","lg","hylyt_link","Settings","defaultLocale","formatDate","date","format","dateTime","toLocaleString","objectSpread","weekday","DateTime","DATETIME_SHORT","fromISO","fromJSDate","DiveDetails","dive","latitude","longitude","Dive","showDiveDetails","setShowDiveDetails","aria-controls","elementId","aria-expanded","odd","backgroundColor","className","colSpan","startdate","enddate","Collapse","in","components_DiveDetails","Dives","dives","showDives","setShowDives","noMargins","width","map","index","components_Dive","key","Target","showTargetDetails","setShowTargetDetails","components_TargetDetails","components_Dives","DivingEvent","showEventDetails","setShowEventDetails","divingEvent","gotDescription","description","gotTarget","gotDives","creator","title","Table","debug","components_Target","StartFilter","startFilter","trigger","Text","EndFilter","endFilter","CreatorFilter","creatorFilter","TitleFilter","titleFilter","DescriptionFilter","descriptionFilter","LocationFilter","as","step","min","max","latitudeFilter","latitudeTrigger","longitudeFilter","longitudeTrigger","TargetFilter","targetFilter","UsernameFilter","usernameFilter","EmailFilter","emailFilter","FilterEventsForm","FilterFields_StartFilter","handleStartFiltering","FilterFields_EndFilter","handleEndFiltering","FilterFields_CreatorFilter","handleCreatorFiltering","FilterFields_TitleFilter","handleTitleFiltering","FilterFields_DescriptionFilter","handleDescriptionFiltering","FilterFields_TargetFilter","handleTargetFiltering","content","_ret","dataHeaders","filename","contentType","require","sep","dec","xdc","forEach","header","label","push","havingArray","arrayIndex","arrayMax","_loop","o","jsonObj","dataRow","val","quo","includes","arrKey","split","obj","objAttr","arr","Array","from","exception","toString","replace","v","blob","Blob","urlForCSV","URL","createObjectURL","React","download","downloadLink","Paginator","current","parseInt","pages","firstNum","lastNum","items","Pagination","Item","handlePageSelect","number","active","allEvents","currentPage","setCurrentPage","setStartFilter","_useState5","_useState6","useStart","setUseStart","_useState7","_useState8","setEndFilter","_useState9","_useState10","useEnd","setUseEnd","_useState11","_useState12","setTitleFilter","_useState13","_useState14","setDescriptionFilter","_useState15","_useState16","setTargetFilter","_useState17","_useState18","setCreatorFilter","initStuff","isValidDate","d","Date","isNaN","filteredEvents","filter","filterByStartdate","filterByEnddate","filterByTitle","filterByDescription","filterByTarget","filterByCreator","ceil","components_FilterEventsForm","fromFormat","toJSDate","error","plus","days","utils_JsonToCSV","bordered","hover","offset","components_DivingEvent","eventsToDisplay","components_Paginator","FilterTargetsForm","FilterFields_LocationFilter","northFilter","handleNorthFiltering","westFilter","handleWestFiltering","southFilter","handleSouthFiltering","eastFilter","handleEastFiltering","setNorthFilter","setWestFilter","setSouthFilter","_useState19","_useState20","setEastFilter","filteredTargets","firstDive","lastDive","filterByNorth","filterByWest","filterBySouth","filterByEast","FilterTargetDivesForm","Number","targetsToDisplay","components_FilterTargetsForm","elementID","UsernameField","defaultValue","usernameField","AdminField","adminField","User","email","gotEvents","gotMessages","messages","FilterUsersForm","FilterFields_UsernameFilter","handleUsernameFiltering","FilterFields_EmailFilter","handleEmailFiltering","allUsers","setUsernameFilter","setEmailFilter","filteredUsers","filterByUsername","filterByEmail","components_FilterUsersForm","components_User","usersToDisplay","UpdateBOUserForm","InputFields_UsernameField","handleUsernameField","InputFields_AdminField","handleAdminField","bouserid","handleBOUserUpdate","buttonText","handleBOUserDelete","showBOUserDetails","setShowBOUserDetails","setUsernameField","admin","setAdminField","updateBouser","deleteBouser","initializeBousers","confirm","details","components_UpdateBOUserForm","bousersCount","components_BOUser","initializeTargets","initializeEvents","mapDivesToTargets","events2","targetDivesMap","Map","has","set","values","initializeUsers","navLinkStyle","components_Notification","components_Login","paddingTop","BrowserRouter","Navbar","fixed","collapseOnSelect","expand","bg","Toggle","Nav","Link","components_Logout","Route","exact","path","render","components_Home","components_Targets","components_TargetDives","components_DivingEvents","components_Users","components_BOUsers","ReactDOM","es","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.322eed6e.chunk.js","sourcesContent":["export const storageKeyUser = 'sukeltajaBOUser'\nexport const kyppiUrl = 'https://www.kyppi.fi/to.aspx?id=112.'\n\n// Filenames for JsonTOCSV:\nexport const eventsfilename = 'sukellustapahtumat.csv'\nexport const targetdivesfilename = 'kohteidensukellukset.csv'\nexport const targetsfilename = 'kohteet.csv'\nexport const usersfilename = 'kayttajat.csv'\n\n// URL and APIs\n//export const baseURL = 'https://sukeltaja.herokuapp.com/'\n//export const baseURL = 'http://localhost:3001/'\nexport const baseURL = ''\nexport const eventsAPI = 'api/events/bo'\nexport const targetsAPI = 'api/targets'\nexport const loginAPI = 'api/login/BO'\nexport const usersAPI = 'api/users'\nexport const bousersAPI = 'api/bousers'\n\nexport default {\n  storageKeyUser,\n  kyppiUrl,\n  eventsfilename, targetdivesfilename, targetsfilename, usersfilename,\n  baseURL, eventsAPI, targetsAPI, loginAPI, usersAPI, bousersAPI\n}","import axios from 'axios'\nimport { baseURL, loginAPI } from '../utils/config'\n\nconst serviceURL = `${baseURL}${loginAPI}`\n\nconst login = async credentials => {\n  const response = await axios.post(serviceURL, credentials)\n  return response.data\n}\n\nexport default { login }","import { storageKeyUser } from '../utils/config'\nimport loginService from '../services/loginService'\n\nexport const loginUser = (username, password) => {\n  return async dispatch => {\n    const user = await loginService.login({\n      username: username,\n      password: password\n    })\n    await window.localStorage.setItem(storageKeyUser, JSON.stringify(user))\n    //console.log(\"Reducer:\", user)\n    await dispatch({\n      type: 'LOGIN_USER',\n      data: {\n        loggedUser: user\n      }\n    })\n  }\n}\n\nexport const reLoginUser = (user) => {\n  return async dispatch => {\n    dispatch({\n      type: 'RELOGIN_USER',\n      data: {\n        loggedUser: user\n      }\n    })\n  }\n}\n\nexport const logoutUser = () => {\n  return async dispatch => {\n    // Clear possible other states\n    dispatch({\n      type: 'LOGOUT_USER',\n      data: {\n        loggedUser: null\n      }\n    })\n  }\n}\n\nconst authenticationReducer = (state = { loggedUser: null }, action) => {\n  switch (action.type) {\n    case 'LOGIN_USER':\n    return action.data\n    case 'RELOGIN_USER':\n      return action.data\n    case 'LOGOUT_USER':\n      return action.data\n    default:\n      return state\n  }\n}\n\nexport default authenticationReducer","\nexport const setNotification = (notClass, notMessage, timeout) => {\n\n  return async dispatch => {\n    dispatch({\n      type: 'SET_NOTIFICATION',\n      data: {\n        notMessage: notMessage,\n        notClass: notClass\n       }\n    })\n    await setTimeout(() => {\n      dispatch({\n        type: 'CLEAR_NOTIFICATION'\n      })\n    }, (timeout * 1000))\n  }\n}\n\nexport const clearNotification = () => {\n  return {\n    type: 'CLEAR_NOTIFICATION'\n  }\n}\n\nconst notificationReducer = (state = { notMessage: '', notClass: 'info' }, action) => {\n  switch (action.type) {\n    case 'SET_NOTIFICATION':\n      return action.data\n    case 'CLEAR_NOTIFICATION':\n      return ''\n    default:\n      return state\n  }\n}\n\n\nexport default notificationReducer","import axios from 'axios'\nimport { baseURL, targetsAPI } from '../utils/config'\n\nconst serviceURL = `${baseURL}${targetsAPI}`\n\nconst getAll = async () => {\n  const response = await axios.get(serviceURL)\n  //console.log(response.data.length, 'targets')\n  return response.data\n}\n\nexport default { getAll }","import targetService from '../services/targetService'\n\nexport const initializeTargets = () => {\n  return async dispatch => {\n    let targets = await targetService.getAll()\n    // Sort the targets by 'name:mj_id'\n    targets = targets.sort((a, b) =>\n      `${a.name}:${a.mj_id}`.toUpperCase().localeCompare(`${b.name}:${b.mj_id}`.toUpperCase()))\n    //console.log('Initialized targets')\n    dispatch({\n      type: 'INIT_TARGETS',\n      data: targets\n    })\n  }\n}\n\nexport const clearTargets = () => {\n  return {\n    type: 'CLEAR_TARGETS'\n  }\n}\n\nconst targetReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'INIT_TARGETS':\n      return action.data\n    case 'CLEAR_TARGETS':\n      return null\n    default:\n      return state\n  }\n}\n\nexport default targetReducer","import axios from 'axios'\nimport { storageKeyUser, baseURL, eventsAPI } from '../utils/config'\n\nconst serviceURL = `${baseURL}${eventsAPI}`\n\nconst getAll = async () => {\n\n  let config = ''\n  const loggedUserJSON = window.localStorage.getItem(storageKeyUser)\n  if (loggedUserJSON && loggedUserJSON.length > 0 && loggedUserJSON !== 'null') {\n    const token = `bearer ${JSON.parse(loggedUserJSON).token}`\n    config = {\n      headers: { Authorization: token },\n    }\n  } else {\n    console.log('Unauthorized call in eventService')\n    return null\n  }\n\n  const response = await axios.get(serviceURL, config)\n  //console.log(response.data.length, 'events')\n  return response.data\n}\n\nexport default { getAll }","import eventService from '../services/eventService'\n\nexport const initializeEvents = () => {\n  return async dispatch => {\n    let events = await eventService.getAll()\n    events = events.sort((a, b) => new Date(b.startdate) - new Date(a.startdate))\n    //console.log('Initialized events')\n    dispatch({\n      type: 'INIT_EVENTS',\n      data: events\n    })\n  }\n}\n\nexport const clearEvents = () => {\n  return {\n    type: 'CLEAR_EVENTS'\n  }\n}\n\nconst eventReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'INIT_EVENTS':\n      return action.data\n    case 'CLEAR_EVENTS':\n      return null\n    default:\n      return state\n  }\n}\n\nexport default eventReducer","import eventService from '../services/eventService'\n\nexport const mapDivesToTargets = () => {\n  return async dispatch => {\n    let targetDives = {}\n    let events2 = await eventService.getAll()\n    // Targets doesn't give us dives. We'll have to scrape them from events.\n    if (events2 !== undefined && events2 !== null && events2.length !== 0) {\n      //console.log('We see', events2.length, 'events')\n      let targetDivesMap = new Map()\n      // First we combine dives from all events under targets\n      await events2.forEach((divingEvent) => {\n        if (divingEvent.target !== undefined && divingEvent.target !== null &&\n          divingEvent.dives !== undefined && divingEvent.dives !== null && divingEvent.dives.length > 0) {\n          let dives = {}\n          let target = {}\n          if (!targetDivesMap.has(`${divingEvent.target.name}${divingEvent.target.mj_id}`)) {\n            target = divingEvent.target\n            dives = Array.from(divingEvent.dives)\n          } else {\n            target = targetDivesMap.get(`${divingEvent.target.name}${divingEvent.target.mj_id}`)\n            dives = target.dives\n            dives.concat(divingEvent.dives)\n          }\n          dives = dives.sort((a, b) => new Date(b.startdate) - new Date(a.startdate))\n          dives.forEach((dive) => {\n            dive.username = dive.user.username\n          })\n          target.dives = dives\n          targetDivesMap.set(`${divingEvent.target.name}${divingEvent.target.mj_id}`, target)\n        }\n      })\n      // Then we need to sort them by target name + mj_id\n      targetDives = Array.from(targetDivesMap.values()).sort((a, b) => {\n        return `${a.name}:${a.mj_id}`.toUpperCase().localeCompare(`${b.name}:${b.mj_id}`.toUpperCase())\n      })\n      //console.log('targetDives', targetDives)\n    }\n    dispatch({\n      type: 'MAP_DIVES_TO_TARGETS',\n      data: targetDives\n    })\n  }\n\n}\n\nexport const clearDives = () => {\n  return {\n    type: 'CLEAR_DIVES'\n  }\n}\n\n\nconst divesReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'MAP_DIVES_TO_TARGETS':\n      return action.data\n    case 'CLEAR_DIVES':\n      return null\n    default:\n      return state\n  }\n}\n\nexport default divesReducer","import axios from 'axios'\nimport { storageKeyUser, baseURL, usersAPI } from '../utils/config'\n\nconst serviceURL = `${baseURL}${usersAPI}`\n\nconst getAll = async () => {\n\n  let config = ''\n  const loggedUserJSON = window.localStorage.getItem(storageKeyUser)\n  if (loggedUserJSON && loggedUserJSON.length > 0 && loggedUserJSON !== 'null') {\n    const token = `bearer ${JSON.parse(loggedUserJSON).token}`\n    config = {\n      headers: { Authorization: token },\n    }\n  } else {\n    console.log('Unauthorized call in userService')\n    return null\n  }\n  const response = await axios.get(serviceURL, config)\n  //console.log(response.data.length, 'users')\n  //console.log(response.data)\n  return response.data\n}\n\nexport default { getAll }","import userService from '../services/userService'\n\nexport const initializeUsers = () => {\n  return async dispatch => {\n    let users = await userService.getAll()\n    users = users.sort((a, b) => a.username.toUpperCase().localeCompare(b.username.toUpperCase()))\n    //console.log('Initialized users')\n    dispatch({\n      type: 'INIT_USERS',\n      data: users\n    })\n  }\n}\n\nexport const clearUsers = () => {\n  return {\n    type: 'CLEAR_USERS'\n  }\n}\n\nconst userReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'INIT_USERS':\n      return action.data\n    case 'CLEAR_USERS':\n      return null\n    default:\n      return state\n  }\n}\n\nexport default userReducer","import axios from 'axios'\nimport { storageKeyUser, baseURL, bousersAPI } from '../utils/config'\n\nconst serviceURL = `${baseURL}${bousersAPI}`\n\nconst getAll = async () => {\n\n  let config = ''\n  const loggedUserJSON = window.localStorage.getItem(storageKeyUser)\n  if (loggedUserJSON && loggedUserJSON.length > 0 && loggedUserJSON !== 'null') {\n    const token = `bearer ${JSON.parse(loggedUserJSON).token}`\n    config = {\n      headers: { Authorization: token },\n    }\n  } else {\n    console.log('Unauthorized call in bouserService')\n    return null\n  }\n  const response = await axios.get(serviceURL, config)\n  console.log(response.data.length, 'bousers')\n  console.log(response.data)\n  return response.data\n}\n\nconst update = async (bouser) => {\n  console.log('bouserService: update', bouser)\n  let config = ''\n  const loggedUserJSON = window.localStorage.getItem(storageKeyUser)\n  if (loggedUserJSON && loggedUserJSON.length > 0 && loggedUserJSON !== 'null') {\n    const token = `bearer ${JSON.parse(loggedUserJSON).token}`\n    config = {\n      headers: { Authorization: token },\n    }\n    if (bouser._id === 'newBOUser') {\n      console.log('bouserService: new', bouser)\n      const response = await axios.post(serviceURL, bouser, config)\n      console.log(response.data)\n    } else {\n      console.log('bouserService: old', bouser)\n      const response = await axios.put(serviceURL, bouser, config)\n      console.log(response.data)\n    }\n  } else {\n    console.log('Unauthorized call in bouserService')\n    return null\n  }\n}\n\nconst remove = async (bouser) => {\n  let config = ''\n  const loggedUserJSON = window.localStorage.getItem(storageKeyUser)\n  if (loggedUserJSON && loggedUserJSON.length > 0 && loggedUserJSON !== 'null') {\n    const token = `bearer ${JSON.parse(loggedUserJSON).token}`\n    config = {\n      headers: { Authorization: token },\n    }\n    const response = await axios.delete(serviceURL, bouser._id, config)\n    console.log(response.data)\n  } else {\n    console.log('Unauthorized call in bouserService')\n    return null\n  }\n}\nexport default { getAll, update, remove }","import bouserService from '../services/bouserService'\n\nexport const initializeBOUsers = () => {\n  return async dispatch => {\n    let bousers = await bouserService.getAll()\n    bousers = bousers.sort((a, b) => a.username.toUpperCase().localeCompare(b.username.toUpperCase()))\n    //console.log('Initialized users')\n    dispatch({\n      type: 'INIT_BOUSERS',\n      data: bousers\n    })\n  }\n}\n\nexport const updateBOUser = (bouser) => {\n  console.log('At the reducer', bouser)\n  return async dispatch => {\n    console('bouserReducer:update', bouser)\n    await bouserService.update(bouser)\n    dispatch({\n      type: 'UPDATE_BOUSER',\n      data: bouser\n    })\n  }\n}\n\nexport const deleteBOUser = (bouser) => {\n  console.log('At the reducer', bouser)\n  return async dispatch => {\n    console('bouserReducer:delete', bouser)\n    await bouserService.remove(bouser)\n    dispatch({\n      type: 'DELETE_BOUSER',\n      data: bouser\n    })\n  }\n}\n\nexport const clearBOUsers = () => {\n  return {\n    type: 'CLEAR_BOUSERS'\n  }\n}\n\nconst bouserReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'INIT_BOUSERS':\n      return action.data\n    case 'CLEAR_BOUSERS':\n      return null\n    default:\n      return state\n  }\n}\n\nexport default bouserReducer","import { createStore, combineReducers, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\n\nimport authenticationReducer from './reducers/authenticationReducer'\nimport notificationReducer from './reducers/notificationReducer'\nimport targetReducer from './reducers/targetReducer'\nimport eventReducer from './reducers/eventReducer'\nimport divesReducer from './reducers/divesReducer'\nimport userReducer from './reducers/userReducer'\nimport bouserReducer from './reducers/bouserReducer'\n\nconst reducer = combineReducers({\n  authentication: authenticationReducer,\n  notification: notificationReducer,\n  targets: targetReducer,\n  events: eventReducer,\n  targetDives: divesReducer,\n  users: userReducer,\n  bousers: bouserReducer\n})\n\nconst store = createStore(reducer, applyMiddleware(thunk))\n\nexport default store","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Alert } from 'react-bootstrap'\nimport PropTypes from 'prop-types'\n\nconst Notification = (props) => {\n\n  if (props.notMessage === undefined || props.notMessage === null || props.notMessage === '') {\n    return null\n  } else {\n    return (\n      <div>\n        <div>\n          &nbsp;\n        </div>\n        <div>\n          <Alert variant={props.notClass}>{props.notMessage}</Alert>\n        </div>\n        <div>\n          &nbsp;\n        </div>\n      </div>\n    )\n  }\n}\n\nNotification.propTypes = {\n  notMessage: PropTypes.string,\n  notClass: PropTypes.string\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    notMessage: state.notification.notMessage,\n    notClass: state.notification.notClass\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  null\n)(Notification)","import React, { useEffect, useState } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { Form, Button } from 'react-bootstrap'\nimport PropTypes from 'prop-types'\nimport { storageKeyUser } from '../utils/config'\nimport { setNotification } from '../reducers/notificationReducer'\nimport { loginUser, reLoginUser } from '../reducers/authenticationReducer'\n\nconst Login = (props) => {\n\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n\n  const storageUserToUser = () => {\n    const loggedUserJSON = window.localStorage.getItem(storageKeyUser)\n    if (loggedUserJSON && loggedUserJSON.length > 0 && loggedUserJSON !== 'null') {\n      return JSON.parse(loggedUserJSON)\n    } else {\n      return null\n    }\n  }\n\n  const initializeAtStartUp = async () => {\n    //console.log('Initialize at Login')\n    // Any initializations at login should be done here async at login if necessary\n  }\n\n  useEffect(() => {\n    // First check from local storage if user is already logged\n    const user = storageUserToUser()\n    if (user !== undefined && user !== null) {\n      // A user token was found\n      // console.log(\"Storage user was\", user)\n      props.reLoginUser(user)\n      initializeAtStartUp()\n    }\n  }, [])\n\n  const handleUsername = (event) => {\n    setUsername(event.target.value)\n  }\n  const handlePassword = (event) => {\n    setPassword(event.target.value)\n  }\n\n  const handleLogin = async (event) => {\n    console.log(\"Logging in\", username)\n    event.preventDefault()\n    try {\n      await props.loginUser(username, password)\n      initializeAtStartUp()\n      window.location.href = \"/\"\n    } catch (exception) {\n      console.log('Exception trying to login', username)\n      await props.setNotification('danger', 'Käyttäjätunnus tai salasana on virheellinen', 5)\n    }\n  }\n\n  if (props.loggedUser === undefined || props.loggedUser === null) {\n    return (\n      <div>\n        <h2>Sukeltaja Back Office</h2>\n        <Form onSubmit={handleLogin}>\n          <Form.Group>\n            <Form.Label>Käyttäjätunnus</Form.Label>\n            <Form.Control type=\"text\" name=\"username\"\n              placeholder=\"Syötä käyttäjätunnus\" onChange={handleUsername} />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>Salasana</Form.Label>\n            <Form.Control type=\"password\" name=\"password\"\n              placeholder=\"Syötä salasana\" onChange={handlePassword} />\n          </Form.Group>\n          <Form.Group>\n            <Button variant=\"primary\" type=\"submit\">Kirjaudu</Button>\n          </Form.Group>\n          <p />\n        </Form>\n      </div >\n    )\n  } else {\n    if (window.location.pathname !== \"/\") {\n      console.log(\"Redirecting to /\")\n      return (\n        <Redirect to=\"/\"></Redirect>\n      )\n    } else {\n      return null\n    }\n  }\n\n}\nLogin.propTypes = {\n  loggedUser: PropTypes.object\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  loginUser,\n  reLoginUser,\n  setNotification\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Button } from 'react-bootstrap'\nimport PropTypes from 'prop-types'\nimport { storageKeyUser } from '../utils/config'\nimport { setNotification } from '../reducers/notificationReducer'\nimport { logoutUser } from '../reducers/authenticationReducer'\nimport { clearEvents } from '../reducers/eventReducer'\nimport { clearDives } from '../reducers/divesReducer'\nimport { clearTargets } from '../reducers/targetReducer'\nimport { clearUsers } from '../reducers/userReducer'\nimport { clearBOUsers } from '../reducers/bouserReducer'\n\nconst Logout = (props) => {\n\n  const handleLogout = async (event) => {\n    event.preventDefault()\n    try {\n      console.log('Logging out user', props.loggedUser.username)\n      await props.logoutUser()\n      window.localStorage.removeItem(storageKeyUser)\n      await props.clearEvents()\n      await props.clearDives()\n      await props.clearTargets()\n      await props.clearUsers()\n      await props.clearBOUsers()\n      await props.setNotification('success', 'Olet kirjautunut ulos', 5)\n      return\n    } catch (exception) {\n      props.setNotification('danger', 'Kautta Neptunuksen! Uloskirjautuminen meni pieleen!', 10)\n    }\n  }\n\n  const logoutForm = () => {\n    return (\n      <div style={{color:\"black\"}}>\n        Sukeltamassa {props.loggedUser.username}&nbsp;\n        <Button variant=\"primary\" size=\"sm\" type=\"button\" onClick={handleLogout}>Kirjaudu ulos</Button>\n      </div>\n    )\n  }\n\n  if (props.loggedUser === undefined || props.loggedUser === null) {\n    return (\n      <>&nbsp;</>\n    )\n  } else {\n    return (\n      <>{logoutForm()}</>\n    )\n  }\n\n}\nLogout.propTypes = {\n  loggedUser: PropTypes.object\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  logoutUser,\n  clearEvents,\n  clearDives,\n  clearTargets,\n  clearUsers,\n  clearBOUsers,\n  setNotification\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Logout)","import React from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { setNotification } from '../reducers/notificationReducer'\n\nconst Home = (props) => {\n\n  if (props.loggedUser !== undefined || props.loggedUser !== null) {\n    return (\n      <div>\n        <h2>Sukeltaja Back Office</h2>\n        <div>\n        </div>\n      </div >\n    )\n  } else {\n    if (window.location.pathname !== \"/\") {\n      return (\n        <Redirect to=\"/\"></Redirect>\n      )\n    } else {\n      return null\n    }\n  }\n\n}\nHome.propTypes = {\n  loggedUser: PropTypes.object\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  //loginUser,\n  //reLoginUser,\n  setNotification\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)","// util\nconst decimalToDMS = (coordinate) => {\n  const mul = 60\n  const degrees = (coordinate) => Math.floor(coordinate)\n  const minutes = (coordinate) => Math.floor((coordinate - degrees(coordinate)) * mul)\n  const seconds = (coordinate) => ((coordinate - degrees(coordinate)) * mul - minutes(coordinate)) * mul\n  const formatted = `${degrees(coordinate)}° ${minutes(coordinate)}' ${seconds(coordinate).toFixed(4)}\"`\n  return formatted\n}\nexport default decimalToDMS\n","import React from 'react'\nimport { Container, Row, Col } from 'react-bootstrap'\nimport { kyppiUrl } from '../utils/config'\n\nconst TargetDetails = (props) => {\n\n  const linkToKyppi = (mj_id) => mj_id ? `${kyppiUrl}${mj_id}` : undefined\n\n  const noMargins = { \"margins\": \"0px\" }\n\n  if (props.target && props.target !== null) {\n    const target = props.target\n    return (\n      <Container id={target._id} style={noMargins}>\n        <Row>\n          <Col id=\"caption\">\n            Tyyppi:\n          </Col>\n          <Col >\n            {target.type}\n          </Col>\n          <Col id=\"caption\">\n            Materiaali:\n            </Col>\n          <Col >\n            {target.material}\n          </Col>\n          <Col id=\"caption\">\n            Syvyys:\n            </Col>\n          <Col >\n            {target.depth}\n          </Col>\n        </Row>\n        <Row>\n          <Col id=\"caption\">\n            Museovirasto:\n            </Col>\n          <Col lg={6}>\n            <a href={linkToKyppi(target.mj_id)}>{linkToKyppi(target.mj_id)}</a>\n          </Col>\n          <Col lg={4}>\n            &nbsp;\n            </Col>\n        </Row>\n        <Row>\n          <Col id=\"caption\">\n            Hylyt.net:\n            </Col>\n          <Col lg={6}>\n            <a href={target.hylyt_link}>{target.hylyt_link}</a>\n          </Col>\n          <Col lg={4}>\n            &nbsp;\n            </Col>\n        </Row>\n      </Container>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default TargetDetails","import { DateTime, Duration, Settings } from 'luxon'\n\nSettings.defaultLocale = 'fi'\n\n// Format given date, either a string or Date() object.\nexport const formatDate = (date) => {\n  const format = (dateTime) => {\n    return dateTime\n      .toLocaleString({\n        weekday: 'short',\n        ...DateTime.DATETIME_SHORT\n      })\n  }\n\n  if (typeof date === 'string') {\n    return format(DateTime.fromISO(date))\n  }\n\n  return format(DateTime.fromJSDate(date))\n}\n\n// Format given duration.\nexport const formatDuration = (duration) => {\n  const day = Duration.fromObject({ days: 1 })\n  const hour = Duration.fromObject({ hours: 1 })\n  const minute = Duration.fromObject({ minutes: 1 })\n\n  const format = [\"d'd'\", \"h'h'\", \"m'm'\", \"s's'\"]\n\n  if (duration >= day) {\n    return duration.toFormat(format.join(' '))\n  } else if (duration >= hour) {\n    return duration.toFormat(format.slice(1).join(' '))\n  } else if (duration >= minute) {\n    return duration.toFormat(format.slice(2).join(' '))\n  }\n\n  // return seconds\n  return duration.toFormat(format.slice(3).join(' '))\n}\n\n// Return current time with the precision of minutes.\nexport const now = () => {\n  const { year, month, day, hour, minute } = DateTime.local()\n\n  return DateTime\n    .local(year, month, day, hour, minute)\n    .toJSDate()\n}\n\n// Return current time plus one hour with the precision of minutes.\nexport const inOneHour = () => {\n  const { year, month, day, hour, minute } = DateTime.local()\n\n  return DateTime\n    .local(year, month, day, hour, minute)\n    .plus({ hours: 1 })\n    .toJSDate()\n}\n\n","import React from 'react'\nimport { Container, Row, Col } from 'react-bootstrap'\nimport decimalToDMS from '../utils/coordinates'\n\nconst DiveDetails = (props) => {\n\n  const noMargins = { \"margins\": \"0px\" }\n\n  if (props.dive && props.dive !== null) {\n    const dive = props.dive\n    return (\n      <Container id={dive._id} style={noMargins}>\n        <Row>\n          <Col id=\"caption\">\n            Sijainti:\n          </Col>\n          <Col lg={6}>\n            {`${decimalToDMS(dive.latitude)}`}{dive.latitude > 0 ? ' N ' : ' S '}\n            {`${decimalToDMS(dive.longitude)}`}{dive.longitude > 0 ? ' E ' : ' W '}\n          </Col>\n          <Col lg={4}>\n            &nbsp;\n          </Col>\n        </Row>\n      </Container>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default DiveDetails","import React, { useState } from 'react'\nimport { Collapse } from 'react-bootstrap'\nimport { formatDate } from '../utils/dates'\nimport DiveDetails from './DiveDetails';\n\nconst Dive = (props) => {\n\n  const [showDiveDetails, setShowDiveDetails] = useState(false)\n\n  if (props.dive) {\n    const dive = props.dive\n    return (\n      <>\n        <tr onClick={() => setShowDiveDetails(!showDiveDetails)}\n          aria-controls={props.elementId}\n          aria-expanded={showDiveDetails}\n          style={props.odd ? { backgroundColor: \"#ffffff\" } : { backgroundColor: \"#eeeeee\" }} >\n          <td>\n            <i className={showDiveDetails ? 'fas fa-caret-down' : 'fas fa-caret-right'}></i>\n          </td>\n          <td colSpan=\"2\" id=\"dive\">{dive.user.username}</td>\n          <td colSpan=\"2\" id=\"dive\">\n            {formatDate(dive.startdate)}\n          </td>\n          <td colSpan=\"2\" id=\"dive\">\n            {formatDate(dive.enddate)}\n          </td>\n        </tr>\n        <tr>\n          <Collapse in={showDiveDetails}>\n            <td colSpan=\"7\" id={dive._id}>\n              <DiveDetails dive={dive} />\n            </td>\n          </Collapse>\n        </tr>\n      </>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default Dive","import React, { useState } from 'react'\nimport { Collapse } from 'react-bootstrap'\nimport Dive from './Dive'\n\nconst Dives = (props) => {\n\n  const dives = props.dives\n\n  const [showDives, setShowDives] = useState(false)\n\n  const noMargins = { \"margins\": \"0px\" }\n\n  //<Container id={props.elementId} style={noMargins}>\n  //</Container>\n\n  if (dives && dives.length > 0) {\n\n    const rows = () => dives.map((dive, index) =>\n      <Dive key={`${dive._id}${index}`} dive={dive} odd={index % 2} />\n    )\n    return (\n      <>\n        <tr onClick={() => setShowDives(!showDives)}\n          aria-controls={props.elementId}\n          aria-expanded={showDives} width=\"100%\">\n          <td width=\"1%\"><i className={showDives ? 'fas fa-caret-down' : 'fas fa-caret-right'}></i></td>\n          <td colSpan=\"2\" id=\"caption\">Sukeltaja</td>\n          <td colSpan=\"2\" id=\"caption\">Alkuaika</td>\n          <td colSpan=\"2\" id=\"caption\">Loppuaika</td>\n        </tr>\n        <Collapse in={showDives}>\n          <tr id={props.elementId} style={noMargins}>\n            <td colSpan=\"7\" style={noMargins}>\n              <table style={noMargins} width=\"100%\">\n                <tbody>\n                  {rows()}\n                </tbody>\n              </table>\n            </td>\n          </tr>\n        </Collapse>\n      </>\n    )\n  } else {\n    return null\n  }\n}\nexport default Dives","import React, { useState } from 'react'\nimport { Collapse } from 'react-bootstrap'\nimport decimalToDMS from '../utils/coordinates'\nimport TargetDetails from './TargetDetails'\nimport Dives from './Dives'\n\nconst Target = (props) => {\n\n  const [showTargetDetails, setShowTargetDetails] = useState(false)\n\n  if (props.target !== undefined && props.target !== null) {\n    const target = props.target\n\n    const dives = () => {\n      if (target.dives !== undefined) {\n        return (\n            <Dives dives={target.dives} />\n        )\n      } else {\n        return null\n      }\n    }\n\n    return (\n      <>\n        <tr onClick={() => setShowTargetDetails(!showTargetDetails)}\n            aria-controls={props.elementId} aria-expanded={showTargetDetails}\n            style={target.dives !== undefined ? {backgroundColor: \"#ddddff\"} : {backgroundColor: \"#ffffff\"}} >\n          <td>\n            <i className={showTargetDetails? 'fas fa-caret-down' : 'fas fa-caret-right'}></i>\n          </td>\n          <td colSpan=\"2\">{target.name}</td>\n          <td colSpan=\"2\">\n            {`${decimalToDMS(target.latitude)}`}{target.latitude > 0 ? ' N ' : ' S '}\n          </td>\n          <td colSpan=\"2\">\n            {`${decimalToDMS(target.longitude)}`}{target.longitude > 0 ? ' E ' : ' W '}\n          </td>\n        </tr>\n          <Collapse in={showTargetDetails}>\n            <tr>\n              <td colSpan=\"7\" id={props.elementId}>\n                <TargetDetails target={target} />\n              </td>\n            </tr>\n          </Collapse>\n          {dives()}\n      </>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default Target","import React, { useState } from 'react'\nimport { Collapse, Table } from 'react-bootstrap'\nimport Target from './Target'\nimport Dives from './Dives'\nimport { formatDate } from '../utils/dates'\n\nconst DivingEvent = (props) => {\n\n  const [showEventDetails, setShowEventDetails] = useState(false)\n\n  const divingEvent = props.divingEvent\n  const gotDescription = (\n    divingEvent.description !== undefined && divingEvent.description !== null && divingEvent.description !== ''\n  )\n  const gotTarget = divingEvent.target !== undefined && divingEvent.target !== null\n  const gotDives = (\n    divingEvent.dives !== undefined && divingEvent.dives !== null && divingEvent.dives.length > 0\n  )\n\n  const dives = () => {\n    if (gotDives) {\n      return (\n        <Dives dives={divingEvent.dives} elementId={`divesOf${divingEvent}`} />\n      )\n    } else {\n      return null\n    }\n  }\n\n  const diveTarget = () => {\n    if (gotTarget) {\n      return (\n        <>\n          <tr id=\"target\">\n            <td width=\"2.5%\"></td>\n            <td width=\"40%\" colSpan=\"2\" id=\"caption\">Kohde</td>\n            <td width=\"57.5%\" colSpan=\"4\" id=\"caption\">Sijainti</td>\n          </tr>\n          <Target target={divingEvent.target} elementId={divingEvent._id.concat(divingEvent.target._id)} />\n        </>\n      )\n    } else {\n      return null\n    }\n  }\n\n  const eventDescription = () => {\n    if (gotDescription) {\n      return (\n        <tr>\n          <td colSpan=\"6\" debug=\"description\">{props.divingEvent.description}</td>\n        </tr>\n      )\n    } else {\n      return null\n    }\n  }\n\n  const detailCaret = () => {\n    if (gotDescription || gotTarget) {\n      return <i className={showEventDetails ? 'fas fa-caret-down' : 'fas fa-caret-right'}></i>\n    } else {\n      return null\n    }\n  }\n\n  const details = () => {\n    if (gotDescription || gotTarget) {\n      return (\n        <Collapse in={showEventDetails}>\n          <tr id={divingEvent._id}>\n            <td colSpan=\"7\">\n              <Table>\n                <tbody>\n                  {eventDescription()}\n                  {diveTarget()}\n                  {dives()}\n                </tbody>\n              </Table>\n            </td>\n          </tr>\n        </Collapse>\n      )\n    } else {\n      return null\n    }\n  }\n\n  return (\n    <>\n      <tr onClick={() => setShowEventDetails(!showEventDetails)}\n        aria-controls={divingEvent._id}\n        aria-expanded={showEventDetails}>\n        <td>{detailCaret()}</td>\n        <td>{formatDate(props.divingEvent.startdate)}</td>\n        <td>{formatDate(props.divingEvent.enddate)}</td>\n        <td>{props.divingEvent.creator.username}</td>\n        <td colSpan=\"3\">{props.divingEvent.title}</td>\n      </tr>\n      {details()}\n    </>\n  )\n\n}\n\nexport default DivingEvent\n","import React from 'react'\nimport { Form, Col } from 'react-bootstrap'\n\nexport const StartFilter = (props) => {\n  return (\n    <>\n      <Form.Label>Alkaen</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"pp.kk.vvvv\" name=\"startdateFilter\"\n        value={props.startFilter} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa alkamispäivän mukaan\n      </Form.Text>\n    </>\n  )\n}\n\nexport const EndFilter = (props) => {\n  return (\n    <>\n      <Form.Label>Päättyen</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"pp.kk.vvvv\" name=\"enddateFilter\"\n        value={props.endFilter} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa päättymispäivän mukaan\n      </Form.Text>\n    </>\n  )\n}\n\n/* Not in use at the moment\nexport const HasDivesFilter = (props) => {\n  return (\n    <>\n      <Form.Label>Sukelluksia tehty</Form.Label>\n      <div key={'inline-checkbox'} className=\"mb-3\">\n        <Form.Check inline label=\"Kyllä\" type=\"checkbox\" checked={props.hasDives} onChange={props.hasTrigger} id={'inline-checkbox-yes'} />\n        <Form.Check inline label=\"Ei\" type=\"checkbox\" checked={props.noDives} onChange={props.noTrigger} id={'inline-checkbox-no'} />\n      </div>\n      <Form.Text className=\"text-muted\">\n        Rajaa tehtyjen sukellusten mukaan\n      </Form.Text>\n    </>\n  )\n}\n*/\n\nexport const CreatorFilter = (props) => {\n  return (\n    <>\n      <Form.Label>Perustaja</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"Perustajan käyttäjänimi\" name=\"creatorFilter\"\n        value={props.creatorFilter} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa tapahtuman perustajan käyttäjänimen osalla\n      </Form.Text>\n    </>\n  )\n}\n\nexport const TitleFilter = (props) => {\n  return (\n    <>\n      <Form.Label>Nimi</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"Tapahtuman nimi\" name=\"titleFilter\"\n        value={props.titleFilter} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa tapahtuman nimen osalla\n      </Form.Text>\n    </>\n  )\n}\n\nexport const DescriptionFilter = (props) => {\n  return (\n    <>\n      <Form.Label>Kuvaus</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"Tapahtuman kuvaus\" name=\"descriptionFilter\"\n        value={props.descriptionFilter} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa tapahtuman kuvauksen osalla\n      </Form.Text>\n    </>\n  )\n}\n\nexport const LocationFilter = (props) => {\n  return (\n    <>\n      <Form.Group as={Col}>\n        <Form.Label>{props.title}</Form.Label>\n        <Form.Control type=\"number\" step=\"0.1\" min=\"-90.0\" max=\"90.0\"\n        placeholder=\"Esim 60,0\" name=\"latitudeFilter\"\n        value={props.latitudeFilter} onChange={props.latitudeTrigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa aluetta leveyspiirillä desimaaleina\n      </Form.Text>\n      </Form.Group>\n      <Form.Group as={Col}>\n        <Form.Control type=\"number\" step=\"0.1\" min=\"-180.0\" max=\"180.0\"\n        placeholder=\"Esim 25,0\" name=\"longitudeFilter\"\n        value={props.longitudeFilter} onChange={props.longitudeTrigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa aluetta pituuspiirillä desimaaleina\n      </Form.Text>\n      </Form.Group>\n    </>\n  )\n}\n\nexport const TargetFilter = (props) => {\n  return (\n    <>\n      <Form.Label>Kohde</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"Kohteen nimi\" name=\"targetFilter\"\n        value={props.targetFilter} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa kohteen nimen osalla\n      </Form.Text>\n    </>\n  )\n}\n\nexport const UsernameFilter = (props) => {\n  return (\n    <>\n      <Form.Label>Käyttäjä</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"Käyttäjänimi\" name=\"usernameFilter\"\n        value={props.usernameFilter} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa käyttäjänimen osalla\n      </Form.Text>\n    </>\n  )\n}\n\nexport const EmailFilter = (props) => {\n  return (\n    <>\n      <Form.Label>Sähköposti</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"joku@jossain.com\" name=\"emailFilter\"\n        value={props.emailFilter} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa sähköpostiosoitteen osalla\n      </Form.Text>\n    </>\n  )\n}\n","import React from 'react'\nimport { Form, Row, Col } from 'react-bootstrap'\nimport { StartFilter, EndFilter, CreatorFilter, TitleFilter, DescriptionFilter, TargetFilter} from './FilterFields'\n\nconst FilterEventsForm = (props) => {\n\n  return (\n\n    <div>\n      <div id=\"caption\">\n        Suodata näytettäviä tapahtumia\n      </div>\n      <Form>\n        <Row>\n          <Col>\n            <StartFilter value={props.startFilter} trigger={props.handleStartFiltering} />\n          </Col>\n          <Col>\n            <EndFilter value={props.endFilter} trigger={props.handleEndFiltering} />\n          </Col>\n          <Col>\n            <CreatorFilter value={props.creatorFilter} trigger={props.handleCreatorFiltering} />\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <TitleFilter value={props.titleFilter} trigger={props.handleTitleFiltering} />\n          </Col>\n          <Col>\n            <DescriptionFilter value={props.descriptionFilter} trigger={props.handleDescriptionFiltering} />\n          </Col>\n          <Col>\n            <TargetFilter value={props.targetFilter} trigger={props.handleTargetFiltering} />\n          </Col>\n        </Row>\n      </Form>\n    </div>\n  )\n\n}\n\nexport default FilterEventsForm\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport decimalToDMS from './coordinates'\nimport { eventsfilename, targetdivesfilename, targetsfilename, usersfilename } from './config'\n\n// We're making a link for downloading the json data in csv format:\nconst JsonToCSV = (props) => {\n\n  if (props.content !== undefined && props.content !== null) {\n\n    //console.log('Making a file for', props.contentType)\n\n    let dataHeaders = {}\n    let filename = ''\n    switch (props.contentType) {\n      case 'events':\n        dataHeaders = require('../utils/eventHeaders.json')\n        filename = eventsfilename\n        break\n      case 'targetDives':\n        dataHeaders = require('../utils/targetDiveHeaders.json')\n        filename = targetdivesfilename\n        break\n      case 'targets':\n        dataHeaders = require('../utils/targetHeaders.json')\n        filename = targetsfilename\n        break\n        case 'users':\n        dataHeaders = require('../utils/userHeaders.json')\n        filename = usersfilename\n        break\n      default:\n        break\n    }\n\n\n    const sep = props.sep // Field separator\n    const dec = props.dec // Decimal separator\n    const xdc = (props.dec === ',' ? '.' : ',')\n\n    let data = []\n\n    // First make the headers\n    let headers = '';\n    dataHeaders.forEach(header => {\n      headers = headers.concat('\"').concat(header.label).concat('\";')\n    })\n    headers = headers.concat('\\n')\n    data.push(headers)\n\n    // Then the actual rows of data\n    let havingArray = false\n    let arrayIndex = 0\n    let arrayMax = 0\n    for (let o = 0; o < props.content.length; !havingArray ? o++ : null) {\n      let jsonObj = props.content[o]\n      let dataRow = ''\n      // eslint-disable-next-line no-loop-func, cause I really really really want to do this\n      dataHeaders.forEach(header => {\n        let val = ''\n        const quo = (header[\"type\"] === \"Number\" ? '' : '\"')\n        if (header[\"type\"] === \"Count\" && jsonObj[header[\"key\"]] !== undefined && jsonObj[header[\"key\"]] !== null) {\n          // Special case first: Type: \"Count\"\n          val = jsonObj[header[\"key\"]].length\n        } else if (header[\"key\"].includes('.')) {\n          // It's an object\n          try {\n            // We'll fish the attribute out if it exists\n            const arrKey = header[\"key\"].split('.')\n            const obj = jsonObj[arrKey[0]]\n            const objAttr = obj[arrKey[1]]\n            if (arrKey[2] !== undefined) {\n              // It's an array of objects\n              havingArray = true\n              let arr = Array.from(obj)\n              arrayMax = arr.length - 1\n              val = arr[arrayIndex][arrKey[2]]\n            } else if (objAttr !== undefined && objAttr != null) {\n              // The attribute was eventually found\n              val = objAttr\n            }\n          } catch (exception) {\n            // Object was perhaps missing\n            // Do nothing\n          }\n        } else {\n          // Just a regular attribute\n          val = (jsonObj[header[\"key\"]] === undefined || jsonObj[header[\"key\"]] === null ? '' : jsonObj[header[\"key\"]])\n        }\n        if (val !== '') {\n          if (header[\"type\"] === \"Number\") {\n            val = val.toString().replace(xdc, dec)\n          } else if (header[\"type\"] === \"Latitude\") {\n            val = `${decimalToDMS(val)}`.concat(val > 0 ? ' N ' : ' S ')\n          } else if (header[\"type\"] === \"Longitude\") {\n            val = `${decimalToDMS(val)}`.concat(val > 0 ? ' E ' : ' W ')\n          }\n        }\n        dataRow = dataRow.concat(quo).concat(val).concat(quo).concat(sep)\n      })\n      dataRow = dataRow.concat('\\n')\n      data.push(dataRow)\n      if (arrayIndex >= arrayMax) {\n        havingArray = false\n        arrayIndex = 0\n      } else {\n        arrayIndex++\n      }\n    }\n    const downloadLink = () => {\n      const contentType = 'text/csv;charset=utf-8'\n      let blob = new Blob(data, { type: contentType })\n      let urlForCSV = window.URL.createObjectURL(blob)\n      const prompt = \"Lataa CSV\"\n      return React.createElement('a', { href: urlForCSV, type: contentType, download: filename }, prompt)\n    }\n\n    return (\n      <>{downloadLink()}</>\n    )\n\n  } else {\n    return null\n  }\n\n}\nconst mapStateToProps = (state) => {\n  return {\n    events: state.events\n  }\n}\n\nexport default connect(mapStateToProps, null)(JsonToCSV)","import React from 'react'\nimport { Pagination } from 'react-bootstrap'\n\n\nconst Paginator = (props) => {\n\n  const current = parseInt(props.current, 10)\n  const pages = props.pages\n  let firstNum = 1\n  let lastNum = pages\n  if (pages > 9) {\n    firstNum = Math.max(1, current - 4)\n    lastNum = Math.min(pages, firstNum + 8)\n    firstNum = Math.max(1, lastNum - 8)\n  }\n\n  let items = []\n  items.push(\n    <Pagination.Item key={-9999999} id={1} onClick={props.handlePageSelect}>\n      &#8676;\n    </Pagination.Item>)\n  items.push(\n    <Pagination.Item key={-9999998} id={Math.max(1, current - 1)} onClick={props.handlePageSelect}>\n      &#8592;\n    </Pagination.Item>)\n  if (firstNum > 1) {\n    items.push(\n      <Pagination.Item key={-9999997} id={Math.max(1, current - 9)} onClick={props.handlePageSelect}>\n        &#8230;\n      </Pagination.Item>)\n  }\n  for (let number = firstNum; number <= lastNum; number++) {\n    items.push(\n      <Pagination.Item key={number} id={number} active={number === current} onClick={props.handlePageSelect}>\n        {number}\n      </Pagination.Item>\n    );\n  }\n  if (lastNum < pages) {\n    items.push(\n      <Pagination.Item key={9999997} id={Math.min(pages, current + 9)} onClick={props.handlePageSelect}>\n        &#8230;\n      </Pagination.Item>)\n  }\n  items.push(\n    <Pagination.Item key={9999998} id={Math.min(pages, current + 1)} onClick={props.handlePageSelect}>\n      &#8594;\n    </Pagination.Item>)\n  items.push(\n    <Pagination.Item key={9999999} id={pages} onClick={props.handlePageSelect}>\n      &#8677;\n    </Pagination.Item>)\n\n  // We won't define onClick on the top level Pagination because then clicking outside the buttons would\n  // trigger unnecessary events without a valid id.\n  return (\n    <Pagination>\n      {items}\n    </Pagination>\n  )\n\n}\n\nexport default Paginator","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { Table } from 'react-bootstrap'\nimport { DateTime, Settings } from 'luxon'\nimport PropTypes from 'prop-types'\nimport { setNotification } from '../reducers/notificationReducer'\nimport DivingEvent from './DivingEvent'\nimport FilterEventsForm from './FilterEventsForm'\nimport JsonToCSV from '../utils/JsonToCSV'\nimport Paginator from './Paginator'\n\nconst DivingEvents = (props) => {\n\n  Settings.defaultLocale = 'fi'\n\n  const allEvents = props.events\n\n  const [currentPage, setCurrentPage] = useState(1)\n  const [startFilter, setStartFilter] = useState('')\n  const [useStart, setUseStart] = useState('')\n  const [endFilter, setEndFilter] = useState('')\n  const [useEnd, setUseEnd] = useState('')\n  const [titleFilter, setTitleFilter] = useState('')\n  const [descriptionFilter, setDescriptionFilter] = useState('')\n  const [targetFilter, setTargetFilter] = useState('')\n  const [creatorFilter, setCreatorFilter] = useState('')\n\n  const initStuff = async () => {\n    // If somenthing needs to be done when page loaded\n  }\n\n  useEffect(() => {\n    initStuff()\n  }, [])\n\n  function isValidDate(d) {\n    return d instanceof Date && !isNaN(d);\n  }\n\n  const handlePageSelect = (event) => {\n    try {\n      setCurrentPage(parseInt(event.target.id))\n    } catch (error) {\n      // Do nothing\n    }\n  }\n\n  const handleStartFiltering = (event) => {\n    try {\n      let startdate = DateTime.fromFormat(event.target.value, 'd.M.yyyy', 'fi-FI').toJSDate()\n      if (isValidDate(startdate)) {\n        setUseStart(startdate)\n      }\n      setStartFilter(event.target.value)\n    } catch (error) {\n      console.log(\"Error with startdate\", event.target.value)\n    }\n  }\n  const handleEndFiltering = (event) => {\n    try {\n      let enddate = DateTime.fromFormat(event.target.value, 'd.M.yyyy', 'fi-FI')\n        .plus({ days: 1 }).plus({ minutes: -1 }).toJSDate()\n      if (isValidDate(enddate)) {\n        setUseEnd(enddate)\n      }\n      setEndFilter(event.target.value)\n    } catch (error) {\n      console.log(\"Error with enddate\", event.target.value)\n    }\n  }\n\n  const handleTitleFiltering = (event) => {\n    setTitleFilter(event.target.value)\n  }\n  const handleDescriptionFiltering = (event) => {\n    setDescriptionFilter(event.target.value)\n  }\n  const handleTargetFiltering = (event) => {\n    setTargetFilter(event.target.value)\n  }\n  const handleCreatorFiltering = (event) => {\n    setCreatorFilter(event.target.value)\n  }\n\n  const filterByStartdate = (divingEvent) => {\n    return ((startFilter.length === 0) ||\n      (new Date(divingEvent.startdate) >= new Date(useStart)))\n  }\n  const filterByEnddate = (divingEvent) => {\n    return ((endFilter.length === 0) ||\n      (new Date(divingEvent.enddate) <= new Date(useEnd)))\n  }\n  const filterByTitle = (divingEvent) => {\n    return ((!(divingEvent.title) && titleFilter.length === 0) ||\n      (divingEvent.title && divingEvent.title.toUpperCase().includes(titleFilter.toUpperCase())))\n  }\n  const filterByDescription = (divingEvent) => {\n    return ((!(divingEvent.description) && descriptionFilter.length === 0) ||\n      (divingEvent.description && divingEvent.description.toUpperCase().includes(descriptionFilter.toUpperCase())))\n  }\n  const filterByTarget = (divingEvent) => {\n    return ((!(divingEvent.target) && targetFilter.length === 0) ||\n      (divingEvent.target && divingEvent.target.name.toUpperCase().includes(targetFilter.toUpperCase())))\n  }\n  const filterByCreator = (divingEvent) => {\n    return ((!(divingEvent.creator.username) && creatorFilter.length === 0) || (divingEvent.creator.username === undefined) ||\n      (divingEvent.creator && divingEvent.creator.username.toUpperCase().includes(creatorFilter.toUpperCase())))\n  }\n\n  const filteredEvents = allEvents.filter(divingEvent =>\n    filterByStartdate(divingEvent) &&\n    filterByEnddate(divingEvent) &&\n    filterByTitle(divingEvent) &&\n    filterByDescription(divingEvent) &&\n    filterByTarget(divingEvent) &&\n    filterByCreator(divingEvent)\n  )\n\n  const itemsOnPage = 20\n  const pages = Math.ceil(filteredEvents.length / itemsOnPage)\n\n  const eventsToDisplay = () => {\n    var offset = (currentPage - 1) * itemsOnPage\n    return (\n      filteredEvents.map((divingEvent, index) => {\n        if (index >= offset && index < (offset + itemsOnPage)) {\n          return <DivingEvent key={divingEvent._id} divingEvent={divingEvent} />\n        } else {\n          return null\n        }\n      })\n    )\n  }\n\n  const jsonToCSV = () => {\n    if (filteredEvents !== undefined && filteredEvents !== null) {\n      return (\n        <JsonToCSV contentType={'events'} content={filteredEvents} sep={';'} dec={','} />\n      )\n    } else {\n      return null\n    }\n  }\n\n  return (\n    <div>\n      <h2>Sukellustapahtumat</h2>\n      <FilterEventsForm\n        startFilter={startFilter}\n        handleStartFiltering={handleStartFiltering}\n        endFilter={endFilter}\n        handleEndFiltering={handleEndFiltering}\n        titleFilter={titleFilter}\n        handleTitleFiltering={handleTitleFiltering}\n        descriptionFilter={descriptionFilter}\n        handleDescriptionFiltering={handleDescriptionFiltering}\n        targetFilter={targetFilter}\n        handleTargetFiltering={handleTargetFiltering}\n        creatorFilter={creatorFilter}\n        handleCreatorFiltering={handleCreatorFiltering}\n      />\n      <div id=\"caption\">\n        Näytetään {filteredEvents.length}/{props.events.length} tapahtumaa.\n        &nbsp;\n        {jsonToCSV()}\n      </div>\n      <Table bordered hover size=\"sm\">\n        <thead>\n          <tr>\n            <th width=\"2.5%\"></th>\n            <th width=\"17.5%\">Alkuaika</th>\n            <th width=\"17.5%\">Loppuaika</th>\n            <th width=\"15%\">Perustaja</th>\n            <th width=\"47.5%\" colSpan=\"3\">Tapahtuma</th>\n          </tr>\n        </thead>\n        <tbody>\n          {eventsToDisplay()}\n        </tbody>\n      </Table>\n      <Paginator current={currentPage} pages={pages} handlePageSelect={handlePageSelect} />\n    </div>\n  )\n}\nDivingEvents.propTypes = {\n  setNotification: PropTypes.func.isRequired,\n  loggedUser: PropTypes.object\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    events: state.events,\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  setNotification\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DivingEvents)","import React from 'react'\nimport { Form, Row, Col } from 'react-bootstrap'\nimport { StartFilter, EndFilter, LocationFilter, TargetFilter} from './FilterFields'\n\nconst FilterTargetsForm = (props) => {\n\n  return (\n\n    <div>\n      <div id=\"caption\">\n        Suodata näytettäviä kohteita\n      </div>\n      <Form>\n        <Row>\n          <Col>\n            <StartFilter value={props.startFilter} trigger={props.handleStartFiltering} />\n          </Col>\n          <Col>\n            <EndFilter value={props.endFilter} trigger={props.handleEndFiltering} />\n          </Col>\n          <Col>\n            <TargetFilter value={props.targetFilter} trigger={props.handleTargetFiltering} />\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <LocationFilter title={'Alueen luoteisnurkka'} \n              latitudeFilter={props.northFilter} latitudeTrigger={props.handleNorthFiltering}\n              longitudeFilter={props.westFilter} longitudeTrigger={props.handleWestFiltering} />\n          </Col>\n          <Col>\n            <LocationFilter title={'Alueen kaakkoisnurkka'}\n              latitudeFilter={props.southFilter} latitudeTrigger={props.handleSouthFiltering}\n              longitudeFilter={props.eastFilter} longitudeTrigger={props.handleEastFiltering} />\n          </Col>\n        </Row>\n      </Form>\n    </div>\n  )\n\n}\n\nexport default FilterTargetsForm\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { Table } from 'react-bootstrap'\nimport { DateTime, Settings } from 'luxon'\nimport PropTypes from 'prop-types'\nimport { setNotification } from '../reducers/notificationReducer'\nimport Target from './Target'\nimport FilterTargetDivesForm from './FilterTargetDivesForm'\nimport JsonToCSV from '../utils/JsonToCSV'\nimport Paginator from './Paginator'\n\nconst TargetDives = (props) => {\n\n  Settings.defaultLocale = 'fi'\n\n  const [currentPage, setCurrentPage] = useState(1)\n  const [startFilter, setStartFilter] = useState('')\n  const [useStart, setUseStart] = useState('')\n  const [endFilter, setEndFilter] = useState('')\n  const [useEnd, setUseEnd] = useState('')\n  const [targetFilter, setTargetFilter] = useState('')\n  const [northFilter, setNorthFilter] = useState(70.1) // Finland northest point\n  const [westFilter, setWestFilter] = useState(19.0) // Finland most western point (at sea)\n  const [southFilter, setSouthFilter] = useState(59.4) // Finland southest point (at sea)\n  const [eastFilter, setEastFilter] = useState(31.6) // Finland most eastern point\n\n  const initStuff = async () => {\n    // Do stuff if needed\n  }\n\n  useEffect(() => {\n    initStuff()\n  }, [])\n\n  function isValidDate(d) {\n    return d instanceof Date && !isNaN(d);\n  }\n\n  const handlePageSelect = (event) => {\n    try {\n      setCurrentPage(parseInt(event.target.id))\n    } catch (error) {\n      // Do nothing\n    }\n  }\n\n  const handleStartFiltering = (event) => {\n    try {\n      let startdate = DateTime.fromFormat(event.target.value, 'd.M.yyyy', 'fi-FI').toJSDate()\n      if (isValidDate(startdate)) {\n        setUseStart(startdate)\n      }\n      setStartFilter(event.target.value)\n      setCurrentPage(1)\n    } catch (error) {\n      console.log(\"Error with startdate\", event.target.value)\n    }\n  }\n  const handleEndFiltering = (event) => {\n    try {\n      let enddate = DateTime.fromFormat(event.target.value, 'd.M.yyyy', 'fi-FI')\n        .plus({ days: 1 }).plus({ minutes: -1 }).toJSDate()\n      if (isValidDate(enddate)) {\n        setUseEnd(enddate)\n      }\n      setEndFilter(event.target.value)\n      setCurrentPage(1)\n    } catch (error) {\n      console.log(\"Error with enddate\", event.target.value)\n    }\n  }\n\n  const handleTargetFiltering = (event) => {\n    setTargetFilter(event.target.value)\n    setCurrentPage(1)\n  }\n  const handleNorthFiltering = (event) => {\n    try {\n      setNorthFilter(Number(event.target.value))\n      setCurrentPage(1)\n    } catch (error) {\n      setNorthFilter(null)\n    }\n  }\n  const handleWestFiltering = (event) => {\n    try {\n      setWestFilter(Number(event.target.value))\n      setCurrentPage(1)\n    } catch (error) {\n      setWestFilter(null)\n    }\n  }\n  const handleSouthFiltering = (event) => {\n    try {\n      setSouthFilter(Number(event.target.value))\n      setCurrentPage(1)\n    } catch (error) {\n      setSouthFilter(null)\n    }\n  }\n  const handleEastFiltering = (event) => {\n    try {\n      setEastFilter(Number(event.target.value))\n      setCurrentPage(1)\n    } catch (error) {\n      setEastFilter(null)\n    }\n  }\n\n  const filterByStartdate = (target) => {\n    return ((startFilter.length === 0) ||\n      ((target.dives !== undefined && new Date(target.firstDive) >= new Date(useStart))))\n  }\n  const filterByEnddate = (target) => {\n    return ((endFilter.length === 0) ||\n    ((target.dives !== undefined && new Date(target.lastDive) >= new Date(useEnd))))\n  }\n  const filterByTarget = (target) => {\n    return ((targetFilter.length === 0) ||\n      (target && target.name.toUpperCase().includes(targetFilter.toUpperCase())))\n  }\n  const filterByNorth = (target) => {\n    return ((northFilter !== null && northFilter.length === 0) ||\n      (target && target.latitude <= northFilter))\n  }\n  const filterByWest = (target) => {\n    return ((westFilter !== null && westFilter.length === 0) ||\n      (target && target.longitude >= westFilter))\n  }\n  const filterBySouth = (target) => {\n    return ((southFilter !== null && southFilter.length === 0) ||\n      (target && target.latitude >= southFilter))\n  }\n  const filterByEast = (target) => {\n    return ((eastFilter !== null && eastFilter.length === 0) ||\n      (target && target.longitude <= eastFilter))\n  }\n\n  const filteredTargets = props.targetDives.filter(target =>\n    filterByStartdate(target) &&\n    filterByEnddate(target) &&\n    filterByTarget(target) &&\n    filterByNorth(target) &&\n    filterByWest(target) &&\n    filterBySouth(target) &&\n    filterByEast(target)\n  )\n\n  const itemsOnPage = 20\n  const pages = Math.ceil(filteredTargets.length / itemsOnPage)\n\n  const targetsToDisplay = () => {\n    var offset = (currentPage - 1) * itemsOnPage\n    return (\n      filteredTargets.map((target, index) => {\n        if (index >= offset && index < (offset + itemsOnPage)) {\n          return <Target key={target._id} target={target} elementId={`divesOf${target._id}`} dives={target.dives}/>\n        } else {\n          return null\n        }\n      })\n    )\n  }\n\n  const jsonToCSV = () => {\n    if (filteredTargets !== undefined && filteredTargets !== null) {\n      return (\n        <JsonToCSV contentType={'targetDives'} content={filteredTargets} sep={';'} dec={','} />\n      )\n    } else {\n      return null\n    }\n  }\n\n  return (\n    <div>\n      <h2>Kohteiden sukellukset</h2>\n      <FilterTargetDivesForm\n        startFilter={startFilter}\n        handleStartFiltering={handleStartFiltering}\n        endFilter={endFilter}\n        handleEndFiltering={handleEndFiltering}\n        targetFilter={targetFilter}\n        handleTargetFiltering={handleTargetFiltering}\n        northFilter={northFilter}\n        handleNorthFiltering={handleNorthFiltering}\n        westFilter={westFilter}\n        handleWestFiltering={handleWestFiltering}\n        southFilter={southFilter}\n        handleSouthFiltering={handleSouthFiltering}\n        eastFilter={eastFilter}\n        handleEastFiltering={handleEastFiltering}\n      />\n      <div id=\"caption\">\n        Näytetään {filteredTargets.length}/{props.targetDives.length} kohteesta, joissa sukelluksia.\n        &nbsp;\n        {jsonToCSV()}\n      </div>\n      <Table bordered hover size=\"sm\">\n        <thead>\n          <tr id=\"target\">\n            <th width=\"2.5%\"></th>\n            <th width=\"40%\" colSpan=\"2\" id=\"caption\">Kohde</th>\n            <th width=\"57.5%\" colSpan=\"4\" id=\"caption\">Sijainti</th>\n          </tr>\n        </thead>\n        <tbody>\n          {targetsToDisplay()}\n        </tbody>\n      </Table>\n      <Paginator current={currentPage} pages={pages} handlePageSelect={handlePageSelect} />\n    </div>\n  )\n}\nTargetDives.propTypes = {\n  setNotification: PropTypes.func.isRequired,\n  loggedUser: PropTypes.object\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    targets: state.targets,\n    targetDives: state.targetDives,\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  setNotification\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TargetDives)","import React from 'react'\nimport { Form, Row, Col } from 'react-bootstrap'\nimport { LocationFilter, TargetFilter} from './FilterFields'\n\nconst FilterTargetsForm = (props) => {\n\n  return (\n\n    <div>\n      <div id=\"caption\">\n        Suodata näytettäviä kohteita\n      </div>\n      <Form>\n        <Row>\n          <Col>\n            <TargetFilter value={props.targetFilter} trigger={props.handleTargetFiltering} />\n          </Col>\n          <Col>\n            <LocationFilter title={'Alueen luoteisnurkka'} \n              latitudeFilter={props.northFilter} latitudeTrigger={props.handleNorthFiltering}\n              longitudeFilter={props.westFilter} longitudeTrigger={props.handleWestFiltering} />\n          </Col>\n          <Col>\n            <LocationFilter title={'Alueen kaakkoisnurkka'}\n              latitudeFilter={props.southFilter} latitudeTrigger={props.handleSouthFiltering}\n              longitudeFilter={props.eastFilter} longitudeTrigger={props.handleEastFiltering} />\n          </Col>\n        </Row>\n      </Form>\n    </div>\n  )\n\n}\n\nexport default FilterTargetsForm\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { Table } from 'react-bootstrap'\nimport PropTypes from 'prop-types'\nimport { setNotification } from '../reducers/notificationReducer'\nimport Target from './Target'\nimport FilterTargetsForm from './FilterTargetsForm'\nimport JsonToCSV from '../utils/JsonToCSV'\nimport Paginator from './Paginator'\n\nconst Targets = (props) => {\n\n  const [currentPage, setCurrentPage] = useState(1)\n  const [targetFilter, setTargetFilter] = useState('')\n  const [northFilter, setNorthFilter] = useState(70.1) // Finland northest point\n  const [westFilter, setWestFilter] = useState(19.0) // Finland most western point (at sea)\n  const [southFilter, setSouthFilter] = useState(59.4) // Finland southest point (at sea)\n  const [eastFilter, setEastFilter] = useState(31.6) // Finland most eastern point\n\n  const initStuff = async () => {\n    // Do stuff if needed\n  }\n\n  useEffect(() => {\n    initStuff()\n  }, [])\n\n  const handlePageSelect = (event) => {\n    try {\n      setCurrentPage(parseInt(event.target.id))\n    } catch (error) {\n      // Do nothing\n    }\n  }\n\n  const handleTargetFiltering = (event) => {\n    setTargetFilter(event.target.value)\n    setCurrentPage(1)\n  }\n  const handleNorthFiltering = (event) => {\n    try {\n      setNorthFilter(Number(event.target.value))\n      setCurrentPage(1)\n    } catch (error) {\n      setNorthFilter(null)\n    }\n  }\n  const handleWestFiltering = (event) => {\n    try {\n      setWestFilter(Number(event.target.value))\n      setCurrentPage(1)\n    } catch (error) {\n      setWestFilter(null)\n    }\n  }\n  const handleSouthFiltering = (event) => {\n    try {\n      setSouthFilter(Number(event.target.value))\n      setCurrentPage(1)\n    } catch (error) {\n      setSouthFilter(null)\n    }\n  }\n  const handleEastFiltering = (event) => {\n    try {\n      setEastFilter(Number(event.target.value))\n      setCurrentPage(1)\n    } catch (error) {\n      setEastFilter(null)\n    }\n  }\n\n  const filterByTarget = (target) => {\n    return ((targetFilter.length === 0) ||\n      (target && target.name.toUpperCase().includes(targetFilter.toUpperCase())))\n  }\n  const filterByNorth = (target) => {\n    return ((northFilter !== null && northFilter.length === 0) ||\n      (target && target.latitude <= northFilter))\n  }\n  const filterByWest = (target) => {\n    return ((westFilter !== null && westFilter.length === 0) ||\n      (target && target.longitude >= westFilter))\n  }\n  const filterBySouth = (target) => {\n    return ((southFilter !== null && southFilter.length === 0) ||\n      (target && target.latitude >= southFilter))\n  }\n  const filterByEast = (target) => {\n    return ((eastFilter !== null && eastFilter.length === 0) ||\n      (target && target.longitude <= eastFilter))\n  }\n\n  const filteredTargets = props.targets.filter(target =>\n    filterByTarget(target) &&\n    filterByNorth(target) &&\n    filterByWest(target) &&\n    filterBySouth(target) &&\n    filterByEast(target)\n  )\n\n  const itemsOnPage = 20\n  const pages = Math.ceil(filteredTargets.length / itemsOnPage)\n\n  const targetsToDisplay = () => {\n    var offset = (currentPage - 1) * itemsOnPage\n    return (\n      filteredTargets.map((target, index) => {\n        if (index >= offset && index < (offset + itemsOnPage)) {\n          return <Target key={target._id} target={target} elementID={target._id}/>\n        } else {\n          return null\n        }\n      })\n    )\n  }\n\n  const jsonToCSV = () => {\n    if (filteredTargets !== undefined && filteredTargets !== null) {\n      return (\n        <JsonToCSV contentType={'targets'} content={filteredTargets} sep={';'} dec={','} />\n      )\n    } else {\n      return null\n    }\n  }\n\n  return (\n    <div>\n      <h2>Kaikki kohteet</h2>\n      <FilterTargetsForm\n        targetFilter={targetFilter}\n        handleTargetFiltering={handleTargetFiltering}\n        northFilter={northFilter}\n        handleNorthFiltering={handleNorthFiltering}\n        westFilter={westFilter}\n        handleWestFiltering={handleWestFiltering}\n        southFilter={southFilter}\n        handleSouthFiltering={handleSouthFiltering}\n        eastFilter={eastFilter}\n        handleEastFiltering={handleEastFiltering}\n      />\n      <div id=\"caption\">\n        Näytetään {filteredTargets.length}/{props.targets.length} kohdetta.\n        &nbsp;\n        {jsonToCSV()}\n      </div>\n      <Table bordered hover size=\"sm\">\n        <thead>\n          <tr id=\"target\">\n            <th width=\"2.5%\"></th>\n            <th width=\"40%\" colSpan=\"2\" id=\"caption\">Kohde</th>\n            <th width=\"57.5%\" colSpan=\"4\" id=\"caption\">Sijainti</th>\n          </tr>\n        </thead>\n        <tbody>\n          {targetsToDisplay()}\n        </tbody>\n      </Table>\n      <Paginator current={currentPage} pages={pages} handlePageSelect={handlePageSelect} />\n    </div>\n  )\n}\nTargets.propTypes = {\n  setNotification: PropTypes.func.isRequired,\n  loggedUser: PropTypes.object\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    targets: state.targets,\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  setNotification\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Targets)","import React from 'react'\nimport { Form } from 'react-bootstrap'\n\nexport const UsernameField = (props) => {\n  return (\n    <>\n      <Form.Label>Käyttäjätunnus</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"Käyttäjänimi\" name=\"usernameField\"\n        defaultValue={props.usernameField} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Syötä käyttäjätunnus\n      </Form.Text>\n    </>\n  )\n}\n\nexport const EmailField = (props) => {\n  return (\n    <>\n      <Form.Label>Sähköposti</Form.Label>\n      <Form.Control type=\"email\" placeholder=\"joku@jossain.com\" name=\"emailField\"\n        defaultValue={props.emailField} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Syötä sähköpostiosoite\n      </Form.Text>\n    </>\n  )\n}\n\nexport const AdminField = (props) => {\n  return (\n    <>\n      <Form.Label>Pääkäyttäjä</Form.Label>\n      <Form.Control as=\"select\" name=\"adminField\" defaultValue={props.adminField ? true : false} onChange={props.trigger}>\n        <option value=\"false\">Ei</option>\n        <option value=\"true\">Kyllä</option>\n      </Form.Control>\n      <Form.Text className=\"text-muted\">\n        Valitse onko pääkäyttäjä\n      </Form.Text>\n    </>\n  )\n}","import React, { useState } from 'react'\nimport { Collapse } from 'react-bootstrap'\nimport UpdateUserForm from './UpdateUserForm'\n\nconst User = (props) => {\n\n  const user = props.user\n\n  const updatingInUse = false; // Updating regular users is not yet implemented in the backend\n\n  const [showUserDetails, setShowUserDetails] = useState(false)\n  const [usernameField, setUsernameField] = useState(user.username)\n  const [emailField, setEmailField] = useState(user.email)\n\n  const handleUsernameField = (event) => {\n    setUsernameField(event.target.value)\n  }\n  const handleEmailField = (event) => {\n    setEmailField(event.target.value)\n  }\n\n  const gotEvents = (\n    user.events !== undefined && user.events !== null && user.events.length > 0\n  )\n  const gotDives = (\n    user.dives !== undefined && user.dives !== null && user.dives.length > 0\n  )\n  const gotMessages = (\n    user.messages !== undefined && user.messages !== null && user.messages.length > 0\n  )\n\n  const handleUserUpdate = (event) => {\n    try {\n      console.log('Handle update, id =', event.target.value, 'username =', usernameField, 'email =', emailField)\n    } catch (error) {\n      console.log('Error handling update', error, event.target.value)\n    }\n  }\n\n  const details = () => {\n    return (\n      <Collapse in={showUserDetails}>\n        <tr id={user._id}>\n          <td colSpan=\"7\">\n            <UpdateUserForm userid={user._id}\n              usernameField={usernameField}\n              handleUsernameField={handleUsernameField}\n              emailField={emailField}\n              handleEmailField={handleEmailField}\n              handleUserUpdate={handleUserUpdate} />\n          </td>\n        </tr>\n      </Collapse>\n    )\n  }\n\n  if (updatingInUse) {\n    return (\n      <>\n        <tr onClick={() => setShowUserDetails(!showUserDetails)}\n          aria-controls={user._id}\n          aria-expanded={showUserDetails}>\n          <td><i className={showUserDetails ? 'fas fa-user-edit' : 'fas fa-user'}></i></td>\n          <td>{user.username}</td>\n          <td>{user.email}</td>\n          <td>{gotEvents ? user.events.length : 0}</td>\n          <td>{gotDives ? user.dives.length : 0}</td>\n          <td colSpan=\"2\">{gotMessages ? user.messages.length : 0}</td>\n        </tr>\n        {details()}\n      </>\n    )\n  } else {\n    return (\n        <tr>\n          <td><i className='fas fa-user'></i></td>\n          <td>{user.username}</td>\n          <td>{user.email}</td>\n          <td>{gotEvents ? user.events.length : 0}</td>\n          <td>{gotDives ? user.dives.length : 0}</td>\n          <td colSpan=\"2\">{gotMessages ? user.messages.length : 0}</td>\n        </tr>\n    )\n  }\n\n}\n\nexport default User\n","import React from 'react'\nimport { Form, Row, Col } from 'react-bootstrap'\nimport { UsernameFilter, EmailFilter} from './FilterFields'\n\nconst FilterUsersForm = (props) => {\n\n  return (\n\n    <div>\n      <div id=\"caption\">\n        Suodata näytettäviä käyttäjiä\n      </div>\n      <Form>\n        <Row>\n          <Col>\n            <UsernameFilter value={props.usernameFilter} trigger={props.handleUsernameFiltering} />\n          </Col>\n          <Col>\n            <EmailFilter value={props.emailFilter} trigger={props.handleEmailFiltering} />\n          </Col>\n        </Row>\n      </Form>\n    </div>\n  )\n\n}\n\nexport default FilterUsersForm\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { Table } from 'react-bootstrap'\nimport PropTypes from 'prop-types'\nimport { setNotification } from '../reducers/notificationReducer'\nimport User from './User'\nimport FilterUsersForm from './FilterUsersForm'\nimport JsonToCSV from '../utils/JsonToCSV'\nimport Paginator from './Paginator'\n\nconst Users = (props) => {\n\n  const allUsers = props.users\n\n  const [currentPage, setCurrentPage] = useState(1)\n  const [usernameFilter, setUsernameFilter] = useState('')\n  const [emailFilter, setEmailFilter] = useState('')\n\n  const initStuff = async () => {\n    // If something needs to be done when page loaded\n  }\n\n  useEffect(() => {\n    initStuff()\n  }, [])\n\n  const handlePageSelect = (event) => {\n    try {\n      setCurrentPage(parseInt(event.target.id))\n    } catch (error) {\n      // Do nothing\n    }\n  }\n\n  const handleUsernameFiltering = (event) => {\n    setUsernameFilter(event.target.value)\n  }\n  const handleEmailFiltering = (event) => {\n    setEmailFilter(event.target.value)\n  }\n\n  const filterByUsername = (user) => {\n    return ((!(user.username) && usernameFilter.length === 0) ||\n      (user.username && user.username.toUpperCase().includes(usernameFilter.toUpperCase())))\n  }\n  const filterByEmail = (user) => {\n    return ((!(user.email) && emailFilter.length === 0) ||\n      (user.email && user.email.toUpperCase().includes(emailFilter.toUpperCase())))\n  }\n\n  const filteredUsers = allUsers.filter(user =>\n    filterByUsername(user) &&\n    filterByEmail(user)\n  )\n\n  const itemsOnPage = 20\n  const pages = Math.ceil(filteredUsers.length / itemsOnPage)\n\n  const usersToDisplay = () => {\n    var offset = (currentPage - 1) * itemsOnPage\n    return (\n      filteredUsers.map((user, index) => {\n        if (index >= offset && index < (offset + itemsOnPage)) {\n          return <User key={user._id} user={user} />\n        } else {\n          return null\n        }\n      })\n    )\n  }\n\n  const jsonToCSV = () => {\n    if (filteredUsers !== undefined && filteredUsers !== null) {\n      return (\n        <JsonToCSV contentType={'users'} content={filteredUsers} sep={';'} dec={','} />\n      )\n    } else {\n      return null\n    }\n  }\n\n  return (\n    <div>\n      <h2>Sukeltajat</h2>\n      <FilterUsersForm\n        usernameFilter={usernameFilter}\n        handleUsernameFiltering={handleUsernameFiltering}\n        emailFilter={emailFilter}\n        handleEmailFiltering={handleEmailFiltering}\n      />\n      <div id=\"caption\">\n        Näytetään {filteredUsers.length}/{props.users.length} käyttäjää.\n        &nbsp;\n        {jsonToCSV()}\n      </div>\n      <Table bordered hover size=\"sm\">\n        <thead>\n          <tr>\n            <th width=\"2.5%\"></th>\n            <th width=\"30%\">Käyttäjä</th>\n            <th width=\"30%\">Sähköposti</th>\n            <th width=\"12.5%\">Tapahtumia</th>\n            <th width=\"12.5%\">Sukelluksia</th>\n            <th width=\"12.5%\" colSpan=\"2\">Viestejä</th>\n          </tr>\n        </thead>\n        <tbody>\n          {usersToDisplay()}\n        </tbody>\n      </Table>\n      <Paginator current={currentPage} pages={pages} handlePageSelect={handlePageSelect} />\n    </div>\n  )\n}\nUsers.propTypes = {\n  setNotification: PropTypes.func.isRequired,\n  loggedUser: PropTypes.object\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    users: state.users,\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  setNotification\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Users)","import React from 'react'\nimport { Form, Row, Col, Button } from 'react-bootstrap'\nimport { UsernameField, AdminField } from './InputFields'\n\nconst UpdateBOUserForm = (props) => {\n\n  const removeButton = () => {\n    if (props.bouserid !== 'newBOUser') {\n      return (\n        <Button variant=\"danger\" type=\"button\" value={props.bouserid}\n          onClick={props.handleBOUserDelete}>Poista</Button>\n      )\n    } else {\n      return null\n    }\n  }\n\n  return (\n\n    <div>\n      <Form>\n        <Row>\n          <Col>\n            <UsernameField usernameField={props.usernameField} trigger={props.handleUsernameField} />\n          </Col>\n          <Col>\n            <AdminField adminField={props.adminField} trigger={props.handleAdminField} />\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <Button variant=\"primary\" type=\"button\" value={props.bouserid}\n              onClick={props.handleBOUserUpdate}>{props.buttonText}</Button>\n          </Col>\n          <Col>\n            {removeButton()}\n          </Col>\n        </Row>\n      </Form>\n    </div>\n  )\n\n}\n\nexport default UpdateBOUserForm\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { Collapse } from 'react-bootstrap'\nimport UpdateBOUserForm from './UpdateBOUserForm'\nimport { updateBOUser, deleteBOUser, initializeBOUsers } from '../reducers/bouserReducer'\n\nconst BOUser = (props) => {\n\n  const bouser = props.bouser\n\n  const [showBOUserDetails, setShowBOUserDetails] = useState(false)\n  const [usernameField, setUsernameField] = useState(bouser.username)\n  const [adminField, setAdminField] = useState(bouser.admin)\n\n  const handleUsernameField = (event) => {\n    setUsernameField(event.target.value)\n  }\n  const handleAdminField = (event) => {\n    setAdminField(event.target.value)\n  }\n\n  const updateBouser = async () => {\n    console.log('Update bouser', usernameField, adminField)\n    bouser.username = usernameField\n    bouser.admin = adminField\n    await updateBOUser(bouser)\n  }\n  const deleteBouser = async () => {\n    await deleteBOUser(bouser)\n  }\n  const initializeBousers = async () => {\n    await initializeBOUsers()\n  }\n\n  const handleBOUserUpdate = (event) => {\n    try {\n      console.log('Handle update, id =', event.target.value, 'username =', usernameField, 'admin =', adminField)\n      updateBouser()\n      initializeBousers()\n    } catch (error) {\n      console.log('Error handling update', error, event.target.value)\n    }\n  }\n\n  const handleBOUserDelete = (event) => {\n    try {\n      if (window.confirm(`Haluatko varmasti poistaa käyttäjän ${usernameField}?`)) {\n        console.log('Handle delete, id =', event.target.value, 'username =', usernameField, 'admin =', adminField)\n        deleteBouser()\n        initializeBousers()\n      }\n    } catch (error) {\n      console.log('Error handling delete', error, event.target.value)\n    }\n  }\n\n  const details = () => {\n    return (\n      <Collapse in={showBOUserDetails}>\n        <tr id={bouser._id}>\n          <td colSpan=\"7\">\n            <UpdateBOUserForm bouserid={bouser._id}\n              usernameField={usernameField}\n              handleUsernameField={handleUsernameField}\n              adminField={adminField}\n              handleAdminField={handleAdminField}\n              handleBOUserUpdate={handleBOUserUpdate}\n              handleBOUserDelete={handleBOUserDelete}\n              buttonText={bouser._id === 'newBOUser' ? 'Lisää' : 'Päivitä'} />\n          </td>\n        </tr>\n      </Collapse>\n    )\n  }\n\n  if (bouser._id === 'newBOUser') {\n    return (\n      <>\n        <tr onClick={() => setShowBOUserDetails(!showBOUserDetails)}\n          aria-controls={bouser._id}\n          aria-expanded={showBOUserDetails}>\n          <td><i className='fas fa-user-plus'></i></td>\n          <td>Lisää uusi Back Office käyttäjä</td>\n          <td>&nbsp;</td>\n        </tr>\n        {details()}\n      </>\n    )\n  } else {\n    return (\n      <>\n        <tr onClick={() => setShowBOUserDetails(!showBOUserDetails)}\n          aria-controls={bouser._id}\n          aria-expanded={showBOUserDetails}>\n          <td><i className={showBOUserDetails ? 'fas fa-user-edit' : 'fas fa-user'}></i></td>\n          <td>{bouser.username}</td>\n          <td>{bouser.admin ? 'Pääkäyttäjä' : ''}</td>\n        </tr>\n        {details()}\n      </>\n    )\n  }\n\n\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    bousers: state.bousers,\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  updateBOUser, deleteBOUser, initializeBOUsers\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BOUser)","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { Table } from 'react-bootstrap'\nimport PropTypes from 'prop-types'\nimport { setNotification } from '../reducers/notificationReducer'\nimport BOUser from './BOUser'\n\nconst BOUsers = (props) => {\n\n  const bousers = props.bousers\n  const bousersCount = ((props.bousers === undefined || props.bousers === null) ? 0 : props.bousers.length)\n\n  const initStuff = async () => {\n    // If something needs to be done when page loaded\n  }\n\n  useEffect(() => {\n    initStuff()\n  }, [])\n\n  const usersToDisplay = () => {\n    if (bousers !== undefined && bousers !== null) {\n      //console.log('Logged user', props.loggedUser)\n      return (\n        bousers.map((bouser) => {\n          return <BOUser key={bouser._id} bouser={bouser} />\n        })\n      )\n    } else {\n      return null\n    }\n  }\n\n  return (\n    <div>\n      <h2>Back Office käyttäjät</h2>\n      <div id=\"caption\">\n        Näytetään {bousersCount}/{bousersCount} back office käyttäjää.\n      </div>\n      <Table bordered hover size=\"sm\">\n        <thead>\n          <tr>\n            <th width=\"2.5%\"></th>\n            <th width=\"47.5%\">Käyttäjä</th>\n            <th width=\"50%\">Pääkäyttäjä</th>\n          </tr>\n        </thead>\n        <tbody>\n          {usersToDisplay()}\n          <BOUser key={'newBOUser'} bouser={{\"_id\": \"newBOUser\", \"admin\": false}} />\n        </tbody>\n      </Table>\n    </div>\n  )\n}\nBOUsers.propTypes = {\n  setNotification: PropTypes.func.isRequired,\n  loggedUser: PropTypes.object\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    bousers: state.bousers,\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  setNotification\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BOUsers)","import React, { useEffect } from 'react'\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { Navbar, Nav, Container } from 'react-bootstrap'\nimport { storageKeyUser } from '../utils/config'\nimport { initializeTargets } from '../reducers/targetReducer'\nimport { initializeEvents } from '../reducers/eventReducer'\nimport { mapDivesToTargets } from '../reducers/divesReducer'\nimport { initializeUsers } from '../reducers/userReducer'\nimport { initializeBOUsers } from '../reducers/bouserReducer'\nimport { setNotification } from '../reducers/notificationReducer'\nimport Notification from './Notification'\nimport Login from './Login'\nimport Logout from './Logout'\nimport Home from './Home'\nimport DivingEvents from './DivingEvents'\nimport TargetDives from './TargetDives'\nimport Targets from './Targets'\nimport Users from './Users'\nimport BOUsers from './BOUsers'\n\nconst App = (props) => {\n\n  const haveUser = () => {\n    return (props.loggedUser !== undefined && props.loggedUser !== null)\n  }\n\n  const storageUserToUser = () => {\n    const loggedUserJSON = window.localStorage.getItem(storageKeyUser)\n    if (loggedUserJSON && loggedUserJSON.length > 0 && loggedUserJSON !== 'null') {\n      return JSON.parse(loggedUserJSON)\n    } else {\n      return null\n    }\n  }\n\n  const initializeAtStartUp = async () => {\n    //console.log('Initialize at App')\n    // Any initializations at login should be done here async at login if necessary\n    props.setNotification('success', 'Tervetuloa! Muista hengittää rauhallisesti!', 5)\n    if (props.events === undefined || props.events === null || props.events.length === 0) {\n      await props.initializeEvents()\n      await props.mapDivesToTargets()\n    }\n    if (props.targets === undefined || props.targets === null || props.targets.length === 0) {\n      await props.initializeTargets()\n    }\n    if (props.users === undefined || props.users === null || props.users.length === 0) {\n      await props.initializeUsers()\n    }\n    if (props.bousers === undefined || props.bousers === null || props.bousers.length === 0) {\n      await props.initializeBOUsers()\n    }\n  }\n\n  useEffect(() => {\n    //console.log(\"Checking if we have a token...\")\n    const user = storageUserToUser()\n    if (user !== undefined && user !== null) {\n      //console.log(\"Storage user was\", user)\n      initializeAtStartUp()\n    }\n  }, [])\n\n\n  // Define preferred link style in Nav\n  const navLinkStyle = {}\n\n  // This is to prevent the top of the page to be hiding behind the Navbar\n  const topPadding = { \"paddingTop\": \"70px\" }\n\n  if (!haveUser()) {\n    return (\n      <Container>\n        <div className=\"justify-content-sm-center\">\n          &nbsp;\n        </div>\n        <div className=\"justify-content-sm-center\">\n          <Notification />\n        </div>\n        <div className=\"justify-content-sm-center\">\n          <Login />\n        </div>\n      </Container>\n    )\n  } else {\n    return (\n      <Container style={topPadding}>\n        <Router>\n          <div>\n            <div>\n              <Navbar fixed=\"top\" collapseOnSelect expand=\"md\" bg=\"warning\" variant=\"dark\">\n                <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n                <Navbar.Collapse id=\"responsive-navbar-nav\">\n                  <Nav>\n                    <Nav.Link as=\"span\">\n                      <Link style={navLinkStyle} to=\"/\">Alkuun</Link>\n                    </Nav.Link>\n                    <Nav.Link as=\"span\">\n                      <Link style={navLinkStyle} to=\"/targets\">Kohteet</Link>\n                    </Nav.Link>\n                    <Nav.Link as=\"span\">\n                      <Link style={navLinkStyle} to=\"/targetDives\">Kohteiden sukellukset</Link>\n                    </Nav.Link>\n                    <Nav.Link as=\"span\">\n                      <Link style={navLinkStyle} to=\"/events\">Sukellustapahtumat</Link>\n                    </Nav.Link>\n                    <Nav.Link as=\"span\">\n                      <Link style={navLinkStyle} to=\"/users\">Sukeltajat</Link>\n                    </Nav.Link>\n                    <Nav.Link as=\"span\">\n                      <Link style={navLinkStyle} to=\"/bousers\">Backofficerit</Link>\n                    </Nav.Link>\n                    <Navbar.Text as=\"span\">\n                      <Logout />\n                    </Navbar.Text>\n                  </Nav>\n                </Navbar.Collapse>\n              </Navbar>\n            </div>\n            <div>\n              <div>\n                <Notification />\n                <Route exact path=\"/\" render={() => <Home />} />\n                <Route exact path=\"/targets\" render={() => <Targets />} />\n                <Route exact path=\"/targetDives\" render={() => <TargetDives />} />\n                <Route exact path=\"/events\" render={() => <DivingEvents />} />\n                <Route exact path=\"/users\" render={() => <Users />} />\n                <Route exact path=\"/bousers\" render={() => <BOUsers />} />\n              </div>\n            </div>\n          </div>\n        </Router>\n      </Container>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    targets: state.targets,\n    events: state.events,\n    targetDives: state.targetDives,\n    users: state.users,\n    bousers: state.bousers,\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  initializeTargets,\n  initializeEvents,\n  mapDivesToTargets,\n  initializeUsers,\n  initializeBOUsers,\n  setNotification\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport store from './store' \nimport App from './components/App'\nimport './index.css'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)\n\n"],"sourceRoot":""}