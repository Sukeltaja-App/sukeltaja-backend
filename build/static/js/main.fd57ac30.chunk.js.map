{"version":3,"sources":["utils/config.js","services/loginService.js","reducers/authenticationReducer.js","reducers/notificationReducer.js","services/targetService.js","reducers/targetReducer.js","services/eventService.js","reducers/eventReducer.js","reducers/divesReducer.js","services/userService.js","reducers/userReducer.js","services/bouserService.js","reducers/bouserReducer.js","store.js","components/Notification.js","components/Login.js","components/Logout.js","utils/coordinates.js","components/TargetDetails.js","utils/dates.js","components/Dive.js","components/Dives.js","components/Target.js","components/DivingEvent.js","components/Home.js","components/FilterFields.js","components/FilterEventsForm.js","utils/JsonToCSV.js","components/Paginator.js","components/DivingEvents.js","components/FilterTargetDivesForm.js","components/TargetDives.js","components/FilterTargetsForm.js","components/Targets.js","components/InputFields.js","components/User.js","components/FilterUsersForm.js","components/Users.js","components/UpdateBOUserForm.js","components/CreateBOUserForm.js","components/BOUser.js","components/BOUsers.js","components/App.js","index.js"],"names":["kyppiUrl","serviceURL","concat","loginService","login","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","credentials","response","wrap","_context","prev","next","axios","post","sent","abrupt","data","stop","_x","apply","this","arguments","authenticationReducer","state","length","undefined","loggedUser","action","type","setNotification","notClass","notMessage","timeout","dispatch","setTimeout","notificationReducer","targetService","getAll","get","targetReducer","eventService","config","loggedUserJSON","token","window","localStorage","getItem","JSON","parse","headers","Authorization","console","log","eventReducer","divesReducer","userService","userReducer","getConfig","bouserService","t0","create","_ref2","_callee2","username","password","admin","_context2","_x2","_x3","update","_ref3","_callee3","bouser","_context3","put","_x4","remove","_ref4","_callee4","_context4","delete","_id","_x5","initializeBOUsers","bousers","sort","b","toUpperCase","localeCompare","bouserReducer","toConsumableArray","map","filter","reducer","combineReducers","authentication","notification","targets","events","diveStats","users","store","createStore","applyMiddleware","thunk","connect","props","react_default","createElement","Alert","variant","mapDispatchToProps","loginUser","user","setItem","stringify","reLoginUser","_useState","useState","_useState2","slicedToArray","setUsername","_useState3","_useState4","setPassword","initializeAtStartUp","useEffect","storageUserToUser","handleLogin","event","preventDefault","location","href","Form","onSubmit","Group","Label","Control","name","placeholder","onChange","target","value","Button","pathname","Redirect","to","logoutUser","clearEvents","clearDives","clearTargets","clearUsers","clearBOUsers","handleLogout","removeItem","Fragment","style","color","size","onClick","decimalToDMS","coordinate","degrees","Math","floor","minutes","seconds","toFixed","TargetDetails","linkToKyppi","mj_id","Container","id","margins","Row","Col","material","depth","lg","hylyt_link","Settings","defaultLocale","formatDate","date","format","dateTime","toLocaleString","objectSpread","weekday","DateTime","DATETIME_SHORT","fromISO","fromJSDate","Dive","dive","colSpan","startdate","enddate","latitude","longitude","Dives","dives","showDives","setShowDives","noMargins","aria-controls","elementId","aria-expanded","width","className","Collapse","in","index","components_Dive","key","odd","Target","showTargetDetails","setShowTargetDetails","noDetails","backgroundColor","components_TargetDetails","components_Dives","DivingEvent","showEventDetails","setShowEventDetails","divingEvent","gotDescription","description","gotTarget","gotDives","title","creator","Table","debug","components_Target","popularTargetsAllTime","popularTargetsPastYear","recentDivingEvents","upcomingDivingEvents","allTimeTopTargets","pastYearTopTargets","borderless","responsive","striped","elementID","components_DivingEvent","StartFilter","startFilter","trigger","alt","Text","EndFilter","endFilter","CreatorFilter","creatorFilter","TitleFilter","titleFilter","DescriptionFilter","descriptionFilter","LocationFilter","as","step","min","max","latitudeFilter","latitudeTrigger","longitudeFilter","longitudeTrigger","TargetFilter","targetFilter","UsernameFilter","usernameFilter","EmailFilter","emailFilter","FilterEventsForm","FilterFields_StartFilter","handleStartFiltering","FilterFields_EndFilter","handleEndFiltering","FilterFields_CreatorFilter","handleCreatorFiltering","FilterFields_TitleFilter","handleTitleFiltering","FilterFields_DescriptionFilter","handleDescriptionFiltering","FilterFields_TargetFilter","handleTargetFiltering","content","_ret","dataHeaders","filename","contentType","require","sep","dec","xdc","forEach","header","label","push","havingArray","arrayIndex","arrayMax","_loop","o","jsonObj","dataRow","val","quo","includes","arrKey","split","obj","objAttr","arr","Array","from","exception","toString","replace","v","blob","Blob","urlForCSV","URL","createObjectURL","React","download","downloadLink","Paginator","current","parseInt","pages","firstNum","lastNum","items","Pagination","Item","handlePageSelect","number","active","allEvents","currentPage","setCurrentPage","setStartFilter","_useState5","_useState6","useStart","setUseStart","_useState7","_useState8","setEndFilter","_useState9","_useState10","useEnd","setUseEnd","_useState11","_useState12","setTitleFilter","_useState13","_useState14","setDescriptionFilter","_useState15","_useState16","setTargetFilter","_useState17","_useState18","setCreatorFilter","initStuff","isValidDate","d","Date","isNaN","filteredEvents","filterByStartdate","filterByEnddate","filterByTitle","filterByDescription","filterByTarget","filterByCreator","ceil","components_FilterEventsForm","fromFormat","toJSDate","error","plus","days","utils_JsonToCSV","bordered","hover","offset","eventsToDisplay","components_Paginator","FilterTargetsForm","FilterFields_LocationFilter","northFilter","handleNorthFiltering","westFilter","handleWestFiltering","southFilter","handleSouthFiltering","eastFilter","handleEastFiltering","setNorthFilter","setWestFilter","setSouthFilter","_useState19","_useState20","setEastFilter","filteredTargets","targetDives","firstDive","lastDive","filterByNorth","filterByWest","filterBySouth","filterByEast","FilterTargetDivesForm","Number","targetsToDisplay","components_FilterTargetsForm","UsernameField","required","setusername","defaultValue","usernameField","disabled","usernamehint","PasswordField","setpassword","passwordField","passwordhint","VerifyField","setverify","verifyField","verifyhint","AdminField","adminField","setadmin","adminhint","User","email","gotEvents","gotMessages","messages","FilterUsersForm","FilterFields_UsernameFilter","handleUsernameFiltering","FilterFields_EmailFilter","handleEmailFiltering","allUsers","setUsernameFilter","setEmailFilter","filteredUsers","filterByUsername","filterByEmail","components_FilterUsersForm","components_User","usersToDisplay","UpdateBOUserForm","InputFields_UsernameField","handleUsernameField","bouserid","InputFields_AdminField","handleAdminField","InputFields_PasswordField","handlePasswordField","InputFields_VerifyField","handleVerifyField","handleBOUserUpdate","handleBOUserCancel","handleBOUserDelete","CreateBOUserForm","handleBOUserCreate","handleNewBOUserCancel","createBOUser","updateBOUser","status","deleteBOUser","_ref5","_callee5","_context5","currentuser","newuser","showBOUserDetails","setShowBOUserDetails","setUsernameField","setPasswordField","setVerifyField","setAdminField","isAdmin","setIsAdmin","nameInUse","some","bou","trim","document","getElementById","innerHTML","clearFields","revertFields","handleToggleBOUserDetails","components_CreateBOUserForm","components_UpdateBOUserForm","confirm","bousersCount","components_BOUser","initializeTargets","initializeEvents","mapDivesToTargets","events2","targetDivesMap","allTime","aYearAgo","pastYear","recent","upcoming","Map","has","set","values","atTarget","slice","setFullYear","getFullYear","pyTarget","initializeUsers","navLinkStyle","components_Notification","components_Login","paddingTop","BrowserRouter","Navbar","fixed","collapseOnSelect","expand","bg","Toggle","Nav","Link","components_Logout","Route","exact","path","render","components_Home","components_Targets","components_TargetDives","components_DivingEvents","components_Users","components_BOUsers","ReactDOM","es","components_App"],"mappings":"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","file":"static/js/main.fd57ac30.chunk.js","sourcesContent":["export const storageKeyUser = 'sukeltajaBOUser'\nexport const kyppiUrl = 'https://www.kyppi.fi/to.aspx?id=112.'\n\n// Filenames for JsonTOCSV:\nexport const eventsfilename = 'sukellustapahtumat.csv'\nexport const targetdivesfilename = 'kohteidensukellukset.csv'\nexport const targetsfilename = 'kohteet.csv'\nexport const usersfilename = 'kayttajat.csv'\n\n// URL and APIs\n//export const baseURL = 'http://localhost:3001/' // When testing with a local backend\nexport const baseURL = '' // When in production\nexport const eventsAPI = 'api/events/bo'\nexport const targetsAPI = 'api/targets'\nexport const loginAPI = 'api/login/BO'\nexport const usersAPI = 'api/users'\nexport const bousersAPI = 'api/bousers'\n\nexport default {\n  storageKeyUser,\n  kyppiUrl,\n  eventsfilename, targetdivesfilename, targetsfilename, usersfilename,\n  baseURL, eventsAPI, targetsAPI, loginAPI, usersAPI, bousersAPI\n}","import axios from 'axios'\nimport { baseURL, loginAPI } from '../utils/config'\n\nconst serviceURL = `${baseURL}${loginAPI}`\n\nconst login = async credentials => {\n  const response = await axios.post(serviceURL, credentials)\n  return response.data\n}\n\nexport default { login }","import { storageKeyUser } from '../utils/config'\nimport loginService from '../services/loginService'\n\nexport const loginUser = (username, password) => {\n  return async dispatch => {\n    const user = await loginService.login({\n      username: username,\n      password: password\n    })\n    await window.localStorage.setItem(storageKeyUser, JSON.stringify(user))\n    //console.log(\"Reducer:\", user)\n    await dispatch({\n      type: 'LOGIN_USER',\n      data: {\n        loggedUser: user\n      }\n    })\n  }\n}\n\nexport const reLoginUser = (user) => {\n  return async dispatch => {\n    dispatch({\n      type: 'RELOGIN_USER',\n      data: {\n        loggedUser: user\n      }\n    })\n  }\n}\n\nexport const logoutUser = () => {\n  return async dispatch => {\n    // Clear possible other states\n    dispatch({\n      type: 'LOGOUT_USER',\n      data: {\n        loggedUser: null\n      }\n    })\n  }\n}\n\nconst authenticationReducer = (state = { loggedUser: null }, action) => {\n  switch (action.type) {\n    case 'LOGIN_USER':\n    return action.data\n    case 'RELOGIN_USER':\n      return action.data\n    case 'LOGOUT_USER':\n      return action.data\n    default:\n      return state\n  }\n}\n\nexport default authenticationReducer","\nexport const setNotification = (notClass, notMessage, timeout) => {\n\n  return async dispatch => {\n    dispatch({\n      type: 'SET_NOTIFICATION',\n      data: {\n        notMessage: notMessage,\n        notClass: notClass\n       }\n    })\n    await setTimeout(() => {\n      dispatch({\n        type: 'CLEAR_NOTIFICATION'\n      })\n    }, (timeout * 1000))\n  }\n}\n\nexport const clearNotification = () => {\n  return {\n    type: 'CLEAR_NOTIFICATION'\n  }\n}\n\nconst notificationReducer = (state = { notMessage: '', notClass: 'info' }, action) => {\n  switch (action.type) {\n    case 'SET_NOTIFICATION':\n      return action.data\n    case 'CLEAR_NOTIFICATION':\n      return ''\n    default:\n      return state\n  }\n}\n\n\nexport default notificationReducer","import axios from 'axios'\nimport { baseURL, targetsAPI } from '../utils/config'\n\nconst serviceURL = `${baseURL}${targetsAPI}`\n\nconst getAll = async () => {\n  const response = await axios.get(serviceURL)\n  //console.log(response.data.length, 'targets')\n  return response.data\n}\n\nexport default { getAll }","import targetService from '../services/targetService'\n\nexport const initializeTargets = () => {\n  return async dispatch => {\n    let targets = await targetService.getAll()\n    // Sort the targets by 'name:mj_id'\n    targets = targets.sort((a, b) =>\n      `${a.name}:${a.mj_id}`.toUpperCase().localeCompare(`${b.name}:${b.mj_id}`.toUpperCase()))\n    //console.log('Initialized targets')\n    dispatch({\n      type: 'INIT_TARGETS',\n      data: targets\n    })\n  }\n}\n\nexport const clearTargets = () => {\n  return {\n    type: 'CLEAR_TARGETS'\n  }\n}\n\nconst targetReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'INIT_TARGETS':\n      return action.data\n    case 'CLEAR_TARGETS':\n      return null\n    default:\n      return state\n  }\n}\n\nexport default targetReducer","import axios from 'axios'\nimport { storageKeyUser, baseURL, eventsAPI } from '../utils/config'\n\nconst serviceURL = `${baseURL}${eventsAPI}`\n\nconst getAll = async () => {\n\n  let config = ''\n  const loggedUserJSON = window.localStorage.getItem(storageKeyUser)\n  if (loggedUserJSON && loggedUserJSON.length > 0 && loggedUserJSON !== 'null') {\n    const token = `bearer ${JSON.parse(loggedUserJSON).token}`\n    config = {\n      headers: { Authorization: token },\n    }\n  } else {\n    console.log('Unauthorized call in eventService')\n    return null\n  }\n\n  const response = await axios.get(serviceURL, config)\n  //console.log(response.data.length, 'events')\n  return response.data\n}\n\nexport default { getAll }","import eventService from '../services/eventService'\n\nexport const initializeEvents = () => {\n  return async dispatch => {\n    let events = await eventService.getAll()\n    events = events.sort((a, b) => new Date(b.startdate) - new Date(a.startdate))\n    //console.log('Initialized events')\n    dispatch({\n      type: 'INIT_EVENTS',\n      data: events\n    })\n  }\n}\n\nexport const clearEvents = () => {\n  return {\n    type: 'CLEAR_EVENTS'\n  }\n}\n\nconst eventReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'INIT_EVENTS':\n      return action.data\n    case 'CLEAR_EVENTS':\n      return null\n    default:\n      return state\n  }\n}\n\nexport default eventReducer","import eventService from '../services/eventService'\n\nexport const mapDivesToTargets = () => {\n  return async dispatch => {\n    let diveStats = {}\n    let targetDives = {}\n    let events2 = await eventService.getAll()\n    // Targets doesn't give us dives. We'll have to scrape them from events.\n    if (events2 !== undefined && events2 !== null && events2.length !== 0) {\n      //console.log('We see', events2.length, 'events')\n      let targetDivesMap = new Map()\n      // First we combine dives from all events under targets\n      await events2.forEach((divingEvent) => {\n        if (divingEvent.target !== undefined && divingEvent.target !== null &&\n          divingEvent.dives !== undefined && divingEvent.dives !== null && divingEvent.dives.length > 0) {\n          let dives = {}\n          let target = {}\n          if (!targetDivesMap.has(`${divingEvent.target.name}${divingEvent.target.mj_id}`)) {\n            target = divingEvent.target\n            dives = Array.from(divingEvent.dives)\n          } else {\n            target = targetDivesMap.get(`${divingEvent.target.name}${divingEvent.target.mj_id}`)\n            dives = target.dives\n            dives.concat(divingEvent.dives)\n          }\n          dives = dives.sort((a, b) => new Date(b.startdate) - new Date(a.startdate))\n          dives.forEach((dive) => {\n            dive.username = dive.user.username\n          })\n          target.dives = dives\n          targetDivesMap.set(`${divingEvent.target.name}${divingEvent.target.mj_id}`, target)\n        }\n      })\n      // Then we need to sort them by target name + mj_id\n      targetDives = Array.from(targetDivesMap.values()).sort((a, b) => {\n        return `${a.name}:${a.mj_id}`.toUpperCase().localeCompare(`${b.name}:${b.mj_id}`.toUpperCase())\n      })\n      //console.log('targetDives', targetDives)\n    }\n    diveStats.targetDives = targetDives\n    // All time top targets\n    let allTime = targetDives\n    allTime = await allTime.filter((atTarget) => {\n      return atTarget.dives !== undefined && atTarget.dives !== null && atTarget.dives.length > 0\n    })\n    allTime = await allTime.sort((a, b) => b.dives.length - a.dives.length)\n    allTime = allTime.slice(0, 5)\n    diveStats.allTimeTopTargets = allTime\n    // Past year top targets\n    let aYearAgo = new Date()\n    aYearAgo.setFullYear(aYearAgo.getFullYear() - 1)\n    let pastYear = targetDives\n    pastYear = await pastYear.filter((pyTarget) => {\n      pyTarget.dives = pyTarget.dives.filter((dive) => {\n        return new Date(dive.startdate) > aYearAgo\n      })\n      return pyTarget.dives !== undefined && pyTarget.dives !== null && pyTarget.dives.length > 0\n    })\n    pastYear = await pastYear.sort((a, b) => b.dives.length - a.dives.length)\n    pastYear = pastYear.slice(0, 5)\n    diveStats.pastYearTopTargets = pastYear\n    // Recent events\n    let recent = events2.filter((event) => new Date(event.startdate) < new Date())\n    recent = recent.sort((a, b) => new Date(b.startdate) - new Date(a.startdate))\n    recent = recent.slice(0, 5)\n    diveStats.recentDivingEvents = recent\n    // Upcoming events\n    let upcoming = events2.filter((event) => new Date(event.startdate) >= new Date())\n    upcoming = upcoming.sort((a, b) => new Date(a.startdate) - new Date(b.startdate))\n    upcoming = upcoming.slice(0, 5)\n    diveStats.upcomingDivingEvents = upcoming\n    dispatch({\n      type: 'MAP_DIVES_TO_TARGETS',\n      data: diveStats\n    })\n  }\n\n}\n\nexport const clearDives = () => {\n  return {\n    type: 'CLEAR_DIVES'\n  }\n}\n\n\nconst divesReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'MAP_DIVES_TO_TARGETS':\n      return action.data\n    case 'CLEAR_DIVES':\n      return null\n    default:\n      return state\n  }\n}\n\nexport default divesReducer","import axios from 'axios'\nimport { storageKeyUser, baseURL, usersAPI } from '../utils/config'\n\nconst serviceURL = `${baseURL}${usersAPI}`\n\nconst getAll = async () => {\n\n  let config = ''\n  const loggedUserJSON = window.localStorage.getItem(storageKeyUser)\n  if (loggedUserJSON && loggedUserJSON.length > 0 && loggedUserJSON !== 'null') {\n    const token = `bearer ${JSON.parse(loggedUserJSON).token}`\n    config = {\n      headers: { Authorization: token },\n    }\n  } else {\n    console.log('Unauthorized call in userService')\n    return null\n  }\n  const response = await axios.get(serviceURL, config)\n  //console.log(response.data.length, 'users')\n  //console.log(response.data)\n  return response.data\n}\n\nexport default { getAll }","import userService from '../services/userService'\n\nexport const initializeUsers = () => {\n  return async dispatch => {\n    let users = await userService.getAll()\n    users = users.sort((a, b) => a.username.toUpperCase().localeCompare(b.username.toUpperCase()))\n    //console.log('Initialized users')\n    dispatch({\n      type: 'INIT_USERS',\n      data: users\n    })\n  }\n}\n\nexport const clearUsers = () => {\n  return {\n    type: 'CLEAR_USERS'\n  }\n}\n\nconst userReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'INIT_USERS':\n      return action.data\n    case 'CLEAR_USERS':\n      return null\n    default:\n      return state\n  }\n}\n\nexport default userReducer","import axios from 'axios'\nimport { storageKeyUser, baseURL, bousersAPI } from '../utils/config'\n\nconst serviceURL = `${baseURL}${bousersAPI}`\n\nconst getConfig = () => {\n  const loggedUserJSON = window.localStorage.getItem(storageKeyUser)\n  if (loggedUserJSON && loggedUserJSON.length > 0 && loggedUserJSON !== 'null') {\n    const token = `bearer ${JSON.parse(loggedUserJSON).token}`\n    const config = {\n      headers: { Authorization: token },\n    }\n    return config\n  } else {\n    console.log('Unauthorized call in bouserService')\n    return null\n  }\n\n}\n\nconst getAll = async () => {\n  const config = getConfig()\n  try {\n    if (config !== null) {\n      const response = await axios.get(serviceURL, config)\n      //console.log(response.data.length, 'bousers')\n      //console.log(response.data)\n      return response.data\n    }\n  } catch (error) {\n    //console.log('Perhaps not allowed to getAll bousers')\n    return null\n  }\n  return null\n}\n\nconst create = async (username, password, admin) => {\n  //console.log('bouserService: add', username)\n  const config = getConfig()\n  if (config !== null) {\n    try {\n      const response = await axios.post(serviceURL, { username: username, password: password, admin: admin }, config)\n      return response\n    } catch (error) {\n      console.log('Error creating new bo user', error)\n      return error\n    }\n  }\n  return null\n}\n\nconst update = async (bouser) => {\n  //console.log('bouserService: update', bouser)\n  let config = getConfig()\n  if (config !== null) {\n    const response = await axios.put(serviceURL, bouser, config)\n    return response\n  }\n  return null\n}\n\nconst remove = async (bouser) => {\n  //console.log('delete bouser:', bouser)\n  let config = getConfig()\n  if (config !== null) {\n    try {\n      const response = await axios.delete(`${serviceURL}/${bouser._id}`, config)\n      return response\n    } catch (error) {\n      console.log(error)\n      return null\n    }\n  }\n  return null\n}\n\nexport default { getAll, create, update, remove }","import bouserService from '../services/bouserService'\n\nexport const initializeBOUsers = () => {\n  return async dispatch => {\n    let bousers = await bouserService.getAll()\n    bousers = bousers.sort((a, b) => a.username.toUpperCase().localeCompare(b.username.toUpperCase()))\n    //console.log('Initialized users')\n    dispatch({\n      type: 'INIT_BOUSERS',\n      data: bousers\n    })\n  }\n}\n\nexport const createBOUser = (username, password, admin) => {\n  //console.log('At the reducer trying to add bouser', username)\n  return async dispatch => {\n    //console.log('bouserReducer:create:', username)\n    try {\n      const response = await bouserService.create(username, password, admin)\n      //console.log('bouserReducer:new bouser:', newBOUser)\n      dispatch({\n        type: 'CREATE_BOUSER',\n        data: response.data\n      })\n    } catch (error) {\n      console.log('Something went wrong when adding a bo user', error)\n      dispatch({\n        type: 'CREATE_FAILED'\n      })\n    }\n  }\n}\n\nexport const updateBOUser = bouser => {\n  //console.log('At the reducer trying to update bouser', bouser)\n  return async dispatch => {\n    const response = await bouserService.update(bouser)\n    if (response.status === 204) {\n      dispatch({\n        type: 'UPDATE_BOUSER',\n        data: bouser\n      })\n    } else {\n      console.log('Something went wrong when updating a bo user')\n      dispatch({\n        type: 'UPDATE_FAILED'\n      })\n    }\n  }\n}\n\nexport const deleteBOUser = (bouser) => {\n  //console.log('At the reducer', bouser)\n  if (!bouser.admin) {\n    // Not allowed to delete admins\n    return async dispatch => {\n      //console.log('bouserReducer:delete', bouser)\n      const response = await bouserService.remove(bouser)\n      if (response.status === 204) {\n        dispatch({\n          type: 'DELETE_BOUSER',\n          data: bouser\n        })\n      } else {\n        console.log('Something went wrong when deleting a bo user')\n        dispatch({\n          type: 'DELETE_FAILED'\n        })\n      }\n    }\n  } else {\n    return async dispatch => {\n      dispatch({\n        type: 'DELETE_FAILED'\n      })\n    }\n  }\n}\n\nexport const clearBOUsers = () => {\n  return {\n    type: 'CLEAR_BOUSERS'\n  }\n}\n\nconst bouserReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'INIT_BOUSERS':\n      return action.data\n    case 'CREATE_BOUSER':\n      state = [...state, action.data]\n      state.sort((a, b) => a.username.toUpperCase().localeCompare(b.username.toUpperCase()))\n      return state\n    case 'UPDATE_BOUSER':\n      state = state.map((bouser) => {\n        return (bouser._id === action.data._id ? action.data : bouser)\n      })\n      state.sort((a, b) => a.username.toUpperCase().localeCompare(b.username.toUpperCase()))\n      return state\n    case 'DELETE_BOUSER':\n      return state.filter(bouser => bouser._id !== action.data._id)\n    case 'CLEAR_BOUSERS':\n      return null\n    default:\n      return state\n  }\n}\n\nexport default bouserReducer","import { createStore, combineReducers, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\n\nimport authenticationReducer from './reducers/authenticationReducer'\nimport notificationReducer from './reducers/notificationReducer'\nimport targetReducer from './reducers/targetReducer'\nimport eventReducer from './reducers/eventReducer'\nimport divesReducer from './reducers/divesReducer'\nimport userReducer from './reducers/userReducer'\nimport bouserReducer from './reducers/bouserReducer'\n\nconst reducer = combineReducers({\n  authentication: authenticationReducer,\n  notification: notificationReducer,\n  targets: targetReducer,\n  events: eventReducer,\n  diveStats: divesReducer,\n  users: userReducer,\n  bousers: bouserReducer\n})\n\nconst store = createStore(reducer, applyMiddleware(thunk))\n\nexport default store","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Alert } from 'react-bootstrap'\nimport PropTypes from 'prop-types'\n\nconst Notification = (props) => {\n\n  if (props.notMessage === undefined || props.notMessage === null || props.notMessage === '') {\n    return null\n  } else {\n    return (\n      <div>\n        <div>\n          &nbsp;\n        </div>\n        <div>\n          <Alert variant={props.notClass}>{props.notMessage}</Alert>\n        </div>\n        <div>\n          &nbsp;\n        </div>\n      </div>\n    )\n  }\n}\n\nNotification.propTypes = {\n  notMessage: PropTypes.string,\n  notClass: PropTypes.string\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    notMessage: state.notification.notMessage,\n    notClass: state.notification.notClass\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  null\n)(Notification)","import React, { useEffect, useState } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { Form, Button } from 'react-bootstrap'\nimport PropTypes from 'prop-types'\nimport { storageKeyUser } from '../utils/config'\nimport { setNotification } from '../reducers/notificationReducer'\nimport { loginUser, reLoginUser } from '../reducers/authenticationReducer'\n\nconst Login = (props) => {\n\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n\n  const storageUserToUser = () => {\n    const loggedUserJSON = window.localStorage.getItem(storageKeyUser)\n    if (loggedUserJSON && loggedUserJSON.length > 0 && loggedUserJSON !== 'null') {\n      return JSON.parse(loggedUserJSON)\n    } else {\n      return null\n    }\n  }\n\n  const initializeAtStartUp = async () => {\n    //console.log('Initialize at Login')\n    // Any initializations at login should be done here async at login if necessary\n  }\n\n  useEffect(() => {\n    // First check from local storage if user is already logged\n    const user = storageUserToUser()\n    if (user !== undefined && user !== null) {\n      // A user token was found\n      // console.log(\"Storage user was\", user)\n      props.reLoginUser(user)\n      initializeAtStartUp()\n    }\n  }, [])\n\n  const handleUsername = (event) => {\n    setUsername(event.target.value)\n  }\n  const handlePassword = (event) => {\n    setPassword(event.target.value)\n  }\n\n  const handleLogin = async (event) => {\n    console.log(\"Logging in\", username)\n    event.preventDefault()\n    try {\n      await props.loginUser(username, password)\n      initializeAtStartUp()\n      window.location.href = \"/\"\n    } catch (exception) {\n      console.log('Exception trying to login', username)\n      await props.setNotification('danger', 'Käyttäjätunnus tai salasana on virheellinen', 5)\n    }\n  }\n\n  if (props.loggedUser === undefined || props.loggedUser === null) {\n    return (\n      <div>\n        <h2>Sukeltaja Back Office</h2>\n        <Form onSubmit={handleLogin}>\n          <Form.Group>\n            <Form.Label>Käyttäjätunnus</Form.Label>\n            <Form.Control type=\"text\" name=\"username\"\n              placeholder=\"Syötä käyttäjätunnus\" onChange={handleUsername} />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>Salasana</Form.Label>\n            <Form.Control type=\"password\" name=\"password\"\n              placeholder=\"Syötä salasana\" onChange={handlePassword} />\n          </Form.Group>\n          <Form.Group>\n            <Button variant=\"primary\" type=\"submit\">Kirjaudu</Button>\n          </Form.Group>\n          <p />\n        </Form>\n      </div >\n    )\n  } else {\n    if (window.location.pathname !== \"/\") {\n      console.log(\"Redirecting to /\")\n      return (\n        <Redirect to=\"/\"></Redirect>\n      )\n    } else {\n      return null\n    }\n  }\n\n}\nLogin.propTypes = {\n  loggedUser: PropTypes.object\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  loginUser,\n  reLoginUser,\n  setNotification\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Button } from 'react-bootstrap'\nimport PropTypes from 'prop-types'\nimport { storageKeyUser } from '../utils/config'\nimport { setNotification } from '../reducers/notificationReducer'\nimport { logoutUser } from '../reducers/authenticationReducer'\nimport { clearEvents } from '../reducers/eventReducer'\nimport { clearDives } from '../reducers/divesReducer'\nimport { clearTargets } from '../reducers/targetReducer'\nimport { clearUsers } from '../reducers/userReducer'\nimport { clearBOUsers } from '../reducers/bouserReducer'\n\nconst Logout = (props) => {\n\n  const handleLogout = async (event) => {\n    event.preventDefault()\n    try {\n      console.log('Logging out user', props.loggedUser.username)\n      await props.logoutUser()\n      window.localStorage.removeItem(storageKeyUser)\n      await props.clearEvents()\n      await props.clearDives()\n      await props.clearTargets()\n      await props.clearUsers()\n      await props.clearBOUsers()\n      await props.setNotification('success', 'Olet kirjautunut ulos', 5)\n      return\n    } catch (exception) {\n      props.setNotification('danger', 'Kautta Neptunuksen! Uloskirjautuminen meni pieleen!', 10)\n    }\n  }\n\n  const logoutForm = () => {\n    return (\n      <div style={{color:\"black\"}}>\n        Sukeltamassa {props.loggedUser.username}&nbsp;\n        <Button variant=\"primary\" size=\"sm\" type=\"button\" onClick={handleLogout}>Kirjaudu ulos</Button>\n      </div>\n    )\n  }\n\n  if (props.loggedUser === undefined || props.loggedUser === null) {\n    return (\n      <>&nbsp;</>\n    )\n  } else {\n    return (\n      <>{logoutForm()}</>\n    )\n  }\n\n}\nLogout.propTypes = {\n  loggedUser: PropTypes.object\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  logoutUser,\n  clearEvents,\n  clearDives,\n  clearTargets,\n  clearUsers,\n  clearBOUsers,\n  setNotification\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Logout)","// util\nconst decimalToDMS = (coordinate) => {\n  const mul = 60\n  const degrees = (coordinate) => Math.floor(coordinate)\n  const minutes = (coordinate) => Math.floor((coordinate - degrees(coordinate)) * mul)\n  const seconds = (coordinate) => ((coordinate - degrees(coordinate)) * mul - minutes(coordinate)) * mul\n  const formatted = `${degrees(coordinate)}° ${minutes(coordinate)}' ${seconds(coordinate).toFixed(4)}\"`\n  return formatted\n}\nexport default decimalToDMS\n","import React from 'react'\nimport { Container, Row, Col } from 'react-bootstrap'\nimport { kyppiUrl } from '../utils/config'\n\nconst TargetDetails = (props) => {\n\n  const linkToKyppi = (mj_id) => mj_id ? `${kyppiUrl}${mj_id}` : undefined\n\n  const noMargins = { \"margins\": \"0px\" }\n\n  if (props.target && props.target !== null) {\n    const target = props.target\n    return (\n      <Container id={target._id} style={noMargins}>\n        <Row>\n          <Col id=\"caption\">\n            Tyyppi:\n          </Col>\n          <Col >\n            {target.type}\n          </Col>\n          <Col id=\"caption\">\n            Materiaali:\n            </Col>\n          <Col >\n            {target.material}\n          </Col>\n          <Col id=\"caption\">\n            Syvyys:\n            </Col>\n          <Col >\n            {target.depth}\n          </Col>\n        </Row>\n        <Row>\n          <Col id=\"caption\">\n            Museovirasto:\n            </Col>\n          <Col lg={6}>\n            <a href={linkToKyppi(target.mj_id)}>{linkToKyppi(target.mj_id)}</a>\n          </Col>\n          <Col lg={4}>\n            &nbsp;\n            </Col>\n        </Row>\n        <Row>\n          <Col id=\"caption\">\n            Hylyt.net:\n            </Col>\n          <Col lg={6}>\n            <a href={target.hylyt_link}>{target.hylyt_link}</a>\n          </Col>\n          <Col lg={4}>\n            &nbsp;\n            </Col>\n        </Row>\n      </Container>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default TargetDetails","import { DateTime, Duration, Settings } from 'luxon'\n\nSettings.defaultLocale = 'fi'\n\n// Format given date, either a string or Date() object.\nexport const formatDate = (date) => {\n  const format = (dateTime) => {\n    return dateTime\n      .toLocaleString({\n        weekday: 'short',\n        ...DateTime.DATETIME_SHORT\n      })\n  }\n\n  if (typeof date === 'string') {\n    return format(DateTime.fromISO(date))\n  }\n\n  return format(DateTime.fromJSDate(date))\n}\n\n// Format given duration.\nexport const formatDuration = (duration) => {\n  const day = Duration.fromObject({ days: 1 })\n  const hour = Duration.fromObject({ hours: 1 })\n  const minute = Duration.fromObject({ minutes: 1 })\n\n  const format = [\"d'd'\", \"h'h'\", \"m'm'\", \"s's'\"]\n\n  if (duration >= day) {\n    return duration.toFormat(format.join(' '))\n  } else if (duration >= hour) {\n    return duration.toFormat(format.slice(1).join(' '))\n  } else if (duration >= minute) {\n    return duration.toFormat(format.slice(2).join(' '))\n  }\n\n  // return seconds\n  return duration.toFormat(format.slice(3).join(' '))\n}\n\n// Return current time with the precision of minutes.\nexport const now = () => {\n  const { year, month, day, hour, minute } = DateTime.local()\n\n  return DateTime\n    .local(year, month, day, hour, minute)\n    .toJSDate()\n}\n\n// Return current time plus one hour with the precision of minutes.\nexport const inOneHour = () => {\n  const { year, month, day, hour, minute } = DateTime.local()\n\n  return DateTime\n    .local(year, month, day, hour, minute)\n    .plus({ hours: 1 })\n    .toJSDate()\n}\n\nexport const inTenMinutes = () => {\n  const { year, month, day, hour, minute } = DateTime.local()\n\n  return DateTime\n    .local(year, month, day, hour, minute)\n    .plus({ minutes: 10 })\n    .toJSDate()\n}","import React from 'react'\nimport { formatDate } from '../utils/dates'\nimport decimalToDMS from '../utils/coordinates'\n\nconst Dive = (props) => {\n\n  if (props.dive) {\n    const dive = props.dive\n    return (\n      <>\n        <tr>\n          <td colSpan=\"3\" id=\"dive\">{dive.user.username}</td>\n          <td colSpan=\"1\" id=\"dive\">\n            {formatDate(dive.startdate)}\n          </td>\n          <td colSpan=\"1\" id=\"dive\">\n            {formatDate(dive.enddate)}\n          </td>\n          <td colSpan=\"2\" id=\"dive\">\n            {`${decimalToDMS(dive.latitude)}`}{dive.latitude > 0 ? ' N ' : ' S '}\n            {`${decimalToDMS(dive.longitude)}`}{dive.longitude > 0 ? ' E ' : ' W '}\n        </td>\n        </tr>\n      </>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default Dive","import React, { useState } from 'react'\nimport { Collapse } from 'react-bootstrap'\nimport Dive from './Dive'\n\nconst Dives = (props) => {\n\n  const dives = props.dives\n\n  const [showDives, setShowDives] = useState(false)\n\n  const noMargins = { \"margins\": \"0px\" }\n\n  //<Container id={props.elementId} style={noMargins}>\n  //</Container>\n\n  if (dives && dives.length > 0) {\n\n    const rows = () => dives.map((dive, index) =>\n      <Dive key={`${dive._id}${index}`} dive={dive} odd={index % 2} />\n    )\n    return (\n      <>\n        <tr onClick={() => setShowDives(!showDives)}\n          aria-controls={props.elementId}\n          aria-expanded={showDives} width=\"100%\">\n          <td width=\"1%\"><i className={showDives ? 'fas fa-caret-down' : 'fas fa-caret-right'}></i></td>\n          <td colSpan=\"2\" id=\"caption\">Sukeltaja</td>\n          <td colSpan=\"1\" id=\"caption\">Alkuaika</td>\n          <td colSpan=\"1\" id=\"caption\">Loppuaika</td>\n          <td colSpan=\"2\" id=\"caption\">Sijainti</td>\n        </tr>\n        <Collapse in={showDives}>\n          <tr id={props.elementId} style={noMargins}>\n            <td colSpan=\"7\" style={noMargins}>\n              <table style={noMargins} width=\"100%\">\n                <tbody>\n                  {rows()}\n                </tbody>\n              </table>\n            </td>\n          </tr>\n        </Collapse>\n      </>\n    )\n  } else {\n    return null\n  }\n}\nexport default Dives","import React, { useState } from 'react'\nimport { Collapse } from 'react-bootstrap'\nimport decimalToDMS from '../utils/coordinates'\nimport TargetDetails from './TargetDetails'\nimport Dives from './Dives'\n\nconst Target = (props) => {\n\n  const [showTargetDetails, setShowTargetDetails] = useState(false)\n\n  if (props.target !== undefined && props.target !== null) {\n    const target = props.target\n\n    const dives = () => {\n      if (target.dives !== undefined) {\n        return (\n          <Dives dives={target.dives} />\n        )\n      } else {\n        return null\n      }\n    }\n\n    if (props.noDetails) {\n      return (\n        <tr>\n          <td>{target.name}</td><td>{target.dives.length}</td>\n        </tr>\n      )\n    } else {\n      return (\n        <>\n          <tr onClick={() => setShowTargetDetails(!showTargetDetails)}\n            aria-controls={props.elementId} aria-expanded={showTargetDetails}\n            style={target.dives !== undefined ? { backgroundColor: \"#ddddff\" } : { backgroundColor: \"#ffffff\" }} >\n            <td>\n              <i className={showTargetDetails ? 'fas fa-caret-down' : 'fas fa-caret-right'}></i>\n            </td>\n            <td colSpan=\"2\">{target.name}</td>\n            <td colSpan=\"2\">\n              {`${decimalToDMS(target.latitude)}`}{target.latitude > 0 ? ' N ' : ' S '}\n            </td>\n            <td colSpan=\"2\">\n              {`${decimalToDMS(target.longitude)}`}{target.longitude > 0 ? ' E ' : ' W '}\n            </td>\n          </tr>\n          <Collapse in={showTargetDetails}>\n            <tr>\n              <td colSpan=\"7\" id={props.elementId}>\n                <TargetDetails target={target} />\n              </td>\n            </tr>\n          </Collapse>\n          {dives()}\n        </>\n      )\n    }\n  } else {\n    return null\n  }\n}\n\nexport default Target","import React, { useState } from 'react'\nimport { Collapse, Table } from 'react-bootstrap'\nimport Target from './Target'\nimport Dives from './Dives'\nimport { formatDate } from '../utils/dates'\n\nconst DivingEvent = (props) => {\n\n  const [showEventDetails, setShowEventDetails] = useState(false)\n\n  const divingEvent = props.divingEvent\n  const gotDescription = (\n    divingEvent.description !== undefined && divingEvent.description !== null && divingEvent.description !== ''\n  )\n  const gotTarget = divingEvent.target !== undefined && divingEvent.target !== null\n  const gotDives = (\n    divingEvent.dives !== undefined && divingEvent.dives !== null && divingEvent.dives.length > 0\n  )\n\n  const dives = () => {\n    if (gotDives) {\n      return (\n        <Dives dives={divingEvent.dives} elementId={`divesOf${divingEvent}`} />\n      )\n    } else {\n      return null\n    }\n  }\n\n  const diveTarget = () => {\n    if (gotTarget) {\n      return (\n        <>\n          <tr id=\"target\">\n            <td width=\"2.5%\"></td>\n            <td width=\"40%\" colSpan=\"2\" id=\"caption\">Kohde</td>\n            <td width=\"57.5%\" colSpan=\"4\" id=\"caption\">Sijainti</td>\n          </tr>\n          <Target target={divingEvent.target} elementId={divingEvent._id.concat(divingEvent.target._id)} />\n        </>\n      )\n    } else {\n      return null\n    }\n  }\n\n  const eventDescription = () => {\n    if (gotDescription) {\n      return (\n        <tr>\n          <td colSpan=\"6\" debug=\"description\">{props.divingEvent.description}</td>\n        </tr>\n      )\n    } else {\n      return null\n    }\n  }\n\n  const detailCaret = () => {\n    if (gotDescription || gotTarget) {\n      return <i className={showEventDetails ? 'fas fa-caret-down' : 'fas fa-caret-right'}></i>\n    } else {\n      return null\n    }\n  }\n\n  const details = () => {\n    if (gotDescription || gotTarget) {\n      return (\n        <Collapse in={showEventDetails}>\n          <tr id={divingEvent._id}>\n            <td colSpan=\"7\">\n              <Table>\n                <tbody>\n                  {eventDescription()}\n                  {diveTarget()}\n                  {dives()}\n                </tbody>\n              </Table>\n            </td>\n          </tr>\n        </Collapse>\n      )\n    } else {\n      return null\n    }\n  }\n\n  if (props.noDetails) {\n    return (\n      <tr>\n        <td>{formatDate(props.divingEvent.startdate)}</td><td>{props.divingEvent.title}</td>\n      </tr>\n    )\n  } else {\n    return (\n      <>\n        <tr onClick={() => setShowEventDetails(!showEventDetails)}\n          aria-controls={divingEvent._id}\n          aria-expanded={showEventDetails}>\n          <td>{detailCaret()}</td>\n          <td>{formatDate(props.divingEvent.startdate)}</td>\n          <td>{formatDate(props.divingEvent.enddate)}</td>\n          <td>{props.divingEvent.creator.username}</td>\n          <td colSpan=\"3\">{props.divingEvent.title}</td>\n        </tr>\n        {details()}\n      </>\n    )\n    }\n\n\n}\n\nexport default DivingEvent\n","import React from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { Container, Row, Col, Table, Alert } from 'react-bootstrap'\nimport Target from './Target'\nimport PropTypes from 'prop-types'\nimport { setNotification } from '../reducers/notificationReducer'\nimport DivingEvent from './DivingEvent';\n\nconst Home = (props) => {\n\n  let popularTargetsAllTime = []\n  let popularTargetsPastYear = []\n  let recentDivingEvents = []\n  let upcomingDivingEvents = []\n\n  if (props.diveStats !== undefined && props.diveStats != null) {\n\n    popularTargetsAllTime = props.diveStats.allTimeTopTargets\n    popularTargetsPastYear = props.diveStats.pastYearTopTargets\n    recentDivingEvents = props.diveStats.recentDivingEvents\n    upcomingDivingEvents = props.diveStats.upcomingDivingEvents\n\n  }\n  \n  const displayPopTargsAllTime = () => {\n    if (popularTargetsAllTime !== undefined && popularTargetsAllTime !== null && popularTargetsAllTime.length > 0) {\n      return (\n        popularTargetsAllTime.map((target) => {\n          return (\n            <Target key={`atpop${target._id}`} target={target} elementID={target._id} noDetails={true} />\n          )\n        })\n      )\n    } else\n      return (<tr><td colSpan=\"2\"><span>Näyttäisi siltä, että yhtään sukelluksia ei ole tehty</span></td></tr>)\n  }\n\n  const displayPopTargsPastYear = () => {\n    if (popularTargetsPastYear !== undefined && popularTargetsPastYear !== null && popularTargetsPastYear.length > 0) {\n      return (\n        popularTargetsPastYear.map((target) => {\n          return (\n            <Target key={`pypop${target._id}`} target={target} elementID={target._id} noDetails={true} />\n          )\n        })\n      )\n    } else\n      return (<tr><td colSpan=\"2\"><span>Näyttäisi siltä, että yhtään sukelluksia ei ole tehty</span></td></tr>)\n  }\n\n  const displayRecentDivingEvents = () => {\n    if (recentDivingEvents !== undefined && recentDivingEvents !== null && recentDivingEvents.length > 0) {\n      return (\n        recentDivingEvents.map((divingEvent) => {\n          return (\n            <DivingEvent key={`recent${divingEvent._id}`} divingEvent={divingEvent} noDetails={true} />\n          )\n        })\n      )\n    } else\n      return (<tr><td colSpan=\"2\"><span>Näyttäisi siltä, että yhtään tapahtumia ei ole järjestetty</span></td></tr>)\n  }\n\n  const displayUpcomingDivingEvents = () => {\n    if (upcomingDivingEvents !== undefined && upcomingDivingEvents !== null && upcomingDivingEvents.length > 0) {\n      return (\n        upcomingDivingEvents.map((divingEvent) => {\n          return (\n            <DivingEvent key={`recent${divingEvent._id}`} divingEvent={divingEvent} noDetails={true} />\n          )\n        })\n      )\n    } else\n      return (<tr><td colSpan=\"2\"><span>Näyttäisi siltä, että yhtään tapahtumia ei olla järjestämässä</span></td></tr>)\n  }\n\n  if (props.loggedUser !== undefined || props.loggedUser !== null) {\n    return (\n      <div>\n        <div>\n          <Container>\n            <Row>\n              <Col>\n                <Row>\n                  <Col><Alert variant=\"primary\">\n                    <span id=\"caption\">Suosituimmat sukelluskohteet</span>\n                    </Alert></Col>\n                  <Col><Alert variant=\"primary\">\n                    <span id=\"caption\">Kuluneen vuoden suosituimmat sukelluskohteet</span>\n                    </Alert></Col>\n                </Row>\n                <Row>\n                  <Col>\n                    <Table borderless responsive striped size=\"sm\">\n                      <thead>\n                        <tr>\n                          <th>Kohde</th>\n                          <th>Sukelluksia</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {displayPopTargsAllTime()}\n                      </tbody>\n                    </Table>\n                  </Col>\n                  <Col>\n                    <Table borderless responsive striped size=\"sm\">\n                      <thead>\n                        <tr>\n                          <th>Kohde</th>\n                          <th>Sukelluksia</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {displayPopTargsPastYear()}\n                      </tbody>\n                    </Table>\n                  </Col>\n                </Row>\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n                <Row>\n                  <Col><Alert variant=\"primary\">\n                    <span id=\"caption\">Viimeisimmät tapahtumat</span>\n                    </Alert></Col>\n                  <Col><Alert variant=\"primary\">\n                    <span id=\"caption\">Tulevat tapahtumat</span>\n                    </Alert></Col>\n                </Row>\n                <Row>\n                  <Col>\n                    <Table borderless responsive striped size=\"sm\">\n                      <thead>\n                        <tr>\n                          <th colSpan=\"2\">Tapahtuma</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {displayRecentDivingEvents()}\n                      </tbody>\n                    </Table>\n                  </Col>\n                  <Col>\n                    <Table borderless responsive striped size=\"sm\">\n                      <thead>\n                        <tr>\n                          <th colSpan=\"2\">Tapahtuma</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {displayUpcomingDivingEvents()}\n                      </tbody>\n                    </Table>\n                  </Col>\n                </Row>\n              </Col>\n            </Row>\n          </Container>\n        </div>\n      </div>\n    )\n  } else {\n    if (window.location.pathname !== \"/\") {\n      return (\n        <Redirect to=\"/\"></Redirect>\n      )\n    } else {\n      return null\n    }\n  }\n\n}\nHome.propTypes = {\n  setNotification: PropTypes.func.isRequired,\n  loggedUser: PropTypes.object\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    diveStats: state.diveStats,\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  //loginUser,\n  //reLoginUser,\n  setNotification\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)","import React from 'react'\nimport { Form, Col } from 'react-bootstrap'\n\nexport const StartFilter = (props) => {\n  return (\n    <>\n      <Form.Label>Alkaen</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"pp.kk.vvvv\" name=\"startdateFilter\"\n        value={props.startFilter} onChange={props.trigger} alt=\"Alkaen\" />\n      <Form.Text className=\"text-muted\">\n        Rajaa alkamispäivän mukaan\n      </Form.Text>\n    </>\n  )\n}\n\nexport const EndFilter = (props) => {\n  return (\n    <>\n      <Form.Label>Päättyen</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"pp.kk.vvvv\" name=\"enddateFilter\"\n        value={props.endFilter} onChange={props.trigger} alt=\"Päättyen\" />\n      <Form.Text className=\"text-muted\">\n        Rajaa päättymispäivän mukaan\n      </Form.Text>\n    </>\n  )\n}\n\n/* Not in use at the moment\nexport const HasDivesFilter = (props) => {\n  return (\n    <>\n      <Form.Label>Sukelluksia tehty</Form.Label>\n      <div key={'inline-checkbox'} className=\"mb-3\">\n        <Form.Check inline label=\"Kyllä\" type=\"checkbox\" checked={props.hasDives} onChange={props.hasTrigger} id={'inline-checkbox-yes'} />\n        <Form.Check inline label=\"Ei\" type=\"checkbox\" checked={props.noDives} onChange={props.noTrigger} id={'inline-checkbox-no'} />\n      </div>\n      <Form.Text className=\"text-muted\">\n        Rajaa tehtyjen sukellusten mukaan\n      </Form.Text>\n    </>\n  )\n}\n*/\n\nexport const CreatorFilter = (props) => {\n  return (\n    <>\n      <Form.Label>Perustaja</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"Perustajan käyttäjänimi\" name=\"creatorFilter\"\n        value={props.creatorFilter} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa tapahtuman perustajan käyttäjänimen osalla\n      </Form.Text>\n    </>\n  )\n}\n\nexport const TitleFilter = (props) => {\n  return (\n    <>\n      <Form.Label>Nimi</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"Tapahtuman nimi\" name=\"titleFilter\"\n        value={props.titleFilter} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa tapahtuman nimen osalla\n      </Form.Text>\n    </>\n  )\n}\n\nexport const DescriptionFilter = (props) => {\n  return (\n    <>\n      <Form.Label>Kuvaus</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"Tapahtuman kuvaus\" name=\"descriptionFilter\"\n        value={props.descriptionFilter} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa tapahtuman kuvauksen osalla\n      </Form.Text>\n    </>\n  )\n}\n\nexport const LocationFilter = (props) => {\n  return (\n    <>\n      <Form.Group as={Col}>\n        <Form.Label>{props.title}</Form.Label>\n        <Form.Control type=\"number\" step=\"0.1\" min=\"-90.0\" max=\"90.0\"\n        placeholder=\"Esim 60,0\" name=\"latitudeFilter\"\n        value={props.latitudeFilter} onChange={props.latitudeTrigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa aluetta leveyspiirillä desimaaleina\n      </Form.Text>\n      </Form.Group>\n      <Form.Group as={Col}>\n        <Form.Control type=\"number\" step=\"0.1\" min=\"-180.0\" max=\"180.0\"\n        placeholder=\"Esim 25,0\" name=\"longitudeFilter\"\n        value={props.longitudeFilter} onChange={props.longitudeTrigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa aluetta pituuspiirillä desimaaleina\n      </Form.Text>\n      </Form.Group>\n    </>\n  )\n}\n\nexport const TargetFilter = (props) => {\n  return (\n    <>\n      <Form.Label>Kohde</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"Kohteen nimi\" name=\"targetFilter\"\n        value={props.targetFilter} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa kohteen nimen osalla\n      </Form.Text>\n    </>\n  )\n}\n\nexport const UsernameFilter = (props) => {\n  return (\n    <>\n      <Form.Label>Käyttäjä</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"Käyttäjänimi\" name=\"usernameFilter\"\n        value={props.usernameFilter} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa käyttäjänimen osalla\n      </Form.Text>\n    </>\n  )\n}\n\nexport const EmailFilter = (props) => {\n  return (\n    <>\n      <Form.Label>Sähköposti</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"joku@jossain.com\" name=\"emailFilter\"\n        value={props.emailFilter} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa sähköpostiosoitteen osalla\n      </Form.Text>\n    </>\n  )\n}\n","import React from 'react'\nimport { Form, Row, Col } from 'react-bootstrap'\nimport { StartFilter, EndFilter, CreatorFilter, TitleFilter, DescriptionFilter, TargetFilter} from './FilterFields'\n\nconst FilterEventsForm = (props) => {\n\n  return (\n\n    <div>\n      <div id=\"caption\">\n        Suodata näytettäviä tapahtumia\n      </div>\n      <Form>\n        <Row>\n          <Col>\n            <StartFilter value={props.startFilter} trigger={props.handleStartFiltering} />\n          </Col>\n          <Col>\n            <EndFilter value={props.endFilter} trigger={props.handleEndFiltering} />\n          </Col>\n          <Col>\n            <CreatorFilter value={props.creatorFilter} trigger={props.handleCreatorFiltering} />\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <TitleFilter value={props.titleFilter} trigger={props.handleTitleFiltering} />\n          </Col>\n          <Col>\n            <DescriptionFilter value={props.descriptionFilter} trigger={props.handleDescriptionFiltering} />\n          </Col>\n          <Col>\n            <TargetFilter value={props.targetFilter} trigger={props.handleTargetFiltering} />\n          </Col>\n        </Row>\n      </Form>\n    </div>\n  )\n\n}\n\nexport default FilterEventsForm\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport decimalToDMS from './coordinates'\nimport { eventsfilename, targetdivesfilename, targetsfilename, usersfilename } from './config'\n\n// We're making a link for downloading the json data in csv format:\nconst JsonToCSV = (props) => {\n\n  if (props.content !== undefined && props.content !== null) {\n\n    //console.log('Making a file for', props.contentType)\n\n    let dataHeaders = {}\n    let filename = ''\n    switch (props.contentType) {\n      case 'events':\n        dataHeaders = require('../utils/eventHeaders.json')\n        filename = eventsfilename\n        break\n      case 'targetDives':\n        dataHeaders = require('../utils/targetDiveHeaders.json')\n        filename = targetdivesfilename\n        break\n      case 'targets':\n        dataHeaders = require('../utils/targetHeaders.json')\n        filename = targetsfilename\n        break\n        case 'users':\n        dataHeaders = require('../utils/userHeaders.json')\n        filename = usersfilename\n        break\n      default:\n        break\n    }\n\n\n    const sep = props.sep // Field separator\n    const dec = props.dec // Decimal separator\n    const xdc = (props.dec === ',' ? '.' : ',')\n\n    let data = []\n\n    // First make the headers\n    let headers = '';\n    dataHeaders.forEach(header => {\n      headers = headers.concat('\"').concat(header.label).concat('\";')\n    })\n    headers = headers.concat('\\n')\n    data.push(headers)\n\n    // Then the actual rows of data\n    let havingArray = false\n    let arrayIndex = 0\n    let arrayMax = 0\n    for (let o = 0; o < props.content.length; !havingArray ? o++ : null) {\n      let jsonObj = props.content[o]\n      let dataRow = ''\n      // eslint-disable-next-line no-loop-func, cause I really really really want to do this\n      dataHeaders.forEach(header => {\n        let val = ''\n        const quo = (header[\"type\"] === \"Number\" ? '' : '\"')\n        if (header[\"type\"] === \"Count\" && jsonObj[header[\"key\"]] !== undefined && jsonObj[header[\"key\"]] !== null) {\n          // Special case first: Type: \"Count\"\n          val = jsonObj[header[\"key\"]].length\n        } else if (header[\"key\"].includes('.')) {\n          // It's an object\n          try {\n            // We'll fish the attribute out if it exists\n            const arrKey = header[\"key\"].split('.')\n            const obj = jsonObj[arrKey[0]]\n            const objAttr = obj[arrKey[1]]\n            if (arrKey[2] !== undefined) {\n              // It's an array of objects\n              havingArray = true\n              let arr = Array.from(obj)\n              arrayMax = arr.length - 1\n              val = arr[arrayIndex][arrKey[2]]\n            } else if (objAttr !== undefined && objAttr != null) {\n              // The attribute was eventually found\n              val = objAttr\n            }\n          } catch (exception) {\n            // Object was perhaps missing\n            // Do nothing\n          }\n        } else {\n          // Just a regular attribute\n          val = (jsonObj[header[\"key\"]] === undefined || jsonObj[header[\"key\"]] === null ? '' : jsonObj[header[\"key\"]])\n        }\n        if (val !== '') {\n          if (header[\"type\"] === \"Number\") {\n            val = val.toString().replace(xdc, dec)\n          } else if (header[\"type\"] === \"Latitude\") {\n            val = `${decimalToDMS(val)}`.concat(val > 0 ? ' N ' : ' S ')\n          } else if (header[\"type\"] === \"Longitude\") {\n            val = `${decimalToDMS(val)}`.concat(val > 0 ? ' E ' : ' W ')\n          }\n        }\n        dataRow = dataRow.concat(quo).concat(val).concat(quo).concat(sep)\n      })\n      dataRow = dataRow.concat('\\n')\n      data.push(dataRow)\n      if (arrayIndex >= arrayMax) {\n        havingArray = false\n        arrayIndex = 0\n      } else {\n        arrayIndex++\n      }\n    }\n    const downloadLink = () => {\n      const contentType = 'text/csv;charset=utf-8'\n      let blob = new Blob(data, { type: contentType })\n      let urlForCSV = window.URL.createObjectURL(blob)\n      const prompt = \"Lataa CSV\"\n      return React.createElement('a', { href: urlForCSV, type: contentType, download: filename }, prompt)\n    }\n\n    return (\n      <>{downloadLink()}</>\n    )\n\n  } else {\n    return null\n  }\n\n}\nconst mapStateToProps = (state) => {\n  return {\n    events: state.events\n  }\n}\n\nexport default connect(mapStateToProps, null)(JsonToCSV)","import React from 'react'\nimport { Pagination } from 'react-bootstrap'\n\n\nconst Paginator = (props) => {\n\n  const current = parseInt(props.current, 10)\n  const pages = props.pages\n  let firstNum = 1\n  let lastNum = pages\n  if (pages > 9) {\n    firstNum = Math.max(1, current - 4)\n    lastNum = Math.min(pages, firstNum + 8)\n    firstNum = Math.max(1, lastNum - 8)\n  }\n\n  let items = []\n  items.push(\n    <Pagination.Item key={-9999999} id={1} onClick={props.handlePageSelect}>\n      &#8676;\n    </Pagination.Item>)\n  items.push(\n    <Pagination.Item key={-9999998} id={Math.max(1, current - 1)} onClick={props.handlePageSelect}>\n      &#8592;\n    </Pagination.Item>)\n  if (firstNum > 1) {\n    items.push(\n      <Pagination.Item key={-9999997} id={Math.max(1, current - 9)} onClick={props.handlePageSelect}>\n        &#8230;\n      </Pagination.Item>)\n  }\n  for (let number = firstNum; number <= lastNum; number++) {\n    items.push(\n      <Pagination.Item key={number} id={number} active={number === current} onClick={props.handlePageSelect}>\n        {number}\n      </Pagination.Item>\n    );\n  }\n  if (lastNum < pages) {\n    items.push(\n      <Pagination.Item key={9999997} id={Math.min(pages, current + 9)} onClick={props.handlePageSelect}>\n        &#8230;\n      </Pagination.Item>)\n  }\n  items.push(\n    <Pagination.Item key={9999998} id={Math.min(pages, current + 1)} onClick={props.handlePageSelect}>\n      &#8594;\n    </Pagination.Item>)\n  items.push(\n    <Pagination.Item key={9999999} id={pages} onClick={props.handlePageSelect}>\n      &#8677;\n    </Pagination.Item>)\n\n  // We won't define onClick on the top level Pagination because then clicking outside the buttons would\n  // trigger unnecessary events without a valid id.\n  return (\n    <Pagination>\n      {items}\n    </Pagination>\n  )\n\n}\n\nexport default Paginator","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { Table } from 'react-bootstrap'\nimport { DateTime, Settings } from 'luxon'\nimport PropTypes from 'prop-types'\nimport { setNotification } from '../reducers/notificationReducer'\nimport DivingEvent from './DivingEvent'\nimport FilterEventsForm from './FilterEventsForm'\nimport JsonToCSV from '../utils/JsonToCSV'\nimport Paginator from './Paginator'\n\nconst DivingEvents = (props) => {\n\n  Settings.defaultLocale = 'fi'\n\n  const allEvents = props.events\n\n  const [currentPage, setCurrentPage] = useState(1)\n  const [startFilter, setStartFilter] = useState('')\n  const [useStart, setUseStart] = useState('')\n  const [endFilter, setEndFilter] = useState('')\n  const [useEnd, setUseEnd] = useState('')\n  const [titleFilter, setTitleFilter] = useState('')\n  const [descriptionFilter, setDescriptionFilter] = useState('')\n  const [targetFilter, setTargetFilter] = useState('')\n  const [creatorFilter, setCreatorFilter] = useState('')\n\n  const initStuff = async () => {\n    // If somenthing needs to be done when page loaded\n  }\n\n  useEffect(() => {\n    initStuff()\n  }, [])\n\n  function isValidDate(d) {\n    return d instanceof Date && !isNaN(d);\n  }\n\n  const handlePageSelect = (event) => {\n    try {\n      setCurrentPage(parseInt(event.target.id))\n    } catch (error) {\n      // Do nothing\n    }\n  }\n\n  const handleStartFiltering = (event) => {\n    try {\n      let startdate = DateTime.fromFormat(event.target.value, 'd.L.yyyy').toJSDate()\n      if (isValidDate(startdate)) {\n        setUseStart(startdate)\n      }\n      setStartFilter(event.target.value)\n    } catch (error) {\n      console.log(\"Error with startdate\", event.target.value)\n    }\n  }\n  const handleEndFiltering = (event) => {\n    try {\n      let enddate = DateTime.fromFormat(event.target.value, 'd.L.yyyy')\n        .plus({ days: 1 }).plus({ minutes: -1 }).toJSDate()\n      if (isValidDate(enddate)) {\n        setUseEnd(enddate)\n      }\n      setEndFilter(event.target.value)\n    } catch (error) {\n      console.log(\"Error with enddate\", event.target.value)\n    }\n  }\n\n  const handleTitleFiltering = (event) => {\n    setTitleFilter(event.target.value)\n  }\n  const handleDescriptionFiltering = (event) => {\n    setDescriptionFilter(event.target.value)\n  }\n  const handleTargetFiltering = (event) => {\n    setTargetFilter(event.target.value)\n  }\n  const handleCreatorFiltering = (event) => {\n    setCreatorFilter(event.target.value)\n  }\n\n  const filterByStartdate = (divingEvent) => {\n    return ((startFilter.length === 0) ||\n      (new Date(divingEvent.startdate) >= new Date(useStart)))\n  }\n  const filterByEnddate = (divingEvent) => {\n    return ((endFilter.length === 0) ||\n      (new Date(divingEvent.enddate) <= new Date(useEnd)))\n  }\n  const filterByTitle = (divingEvent) => {\n    return ((!(divingEvent.title) && titleFilter.length === 0) ||\n      (divingEvent.title && divingEvent.title.toUpperCase().includes(titleFilter.toUpperCase())))\n  }\n  const filterByDescription = (divingEvent) => {\n    return ((!(divingEvent.description) && descriptionFilter.length === 0) ||\n      (divingEvent.description && divingEvent.description.toUpperCase().includes(descriptionFilter.toUpperCase())))\n  }\n  const filterByTarget = (divingEvent) => {\n    return ((!(divingEvent.target) && targetFilter.length === 0) ||\n      (divingEvent.target && divingEvent.target.name.toUpperCase().includes(targetFilter.toUpperCase())))\n  }\n  const filterByCreator = (divingEvent) => {\n    return ((!(divingEvent.creator.username) && creatorFilter.length === 0) || (divingEvent.creator.username === undefined) ||\n      (divingEvent.creator && divingEvent.creator.username.toUpperCase().includes(creatorFilter.toUpperCase())))\n  }\n\n  const filteredEvents = allEvents.filter(divingEvent =>\n    filterByStartdate(divingEvent) &&\n    filterByEnddate(divingEvent) &&\n    filterByTitle(divingEvent) &&\n    filterByDescription(divingEvent) &&\n    filterByTarget(divingEvent) &&\n    filterByCreator(divingEvent)\n  )\n\n  const itemsOnPage = 20\n  const pages = Math.ceil(filteredEvents.length / itemsOnPage)\n\n  const eventsToDisplay = () => {\n    var offset = (currentPage - 1) * itemsOnPage\n    if (filteredEvents !== undefined && filteredEvents !== null) {\n      return (\n        filteredEvents.map((divingEvent, index) => {\n          if (index >= offset && index < (offset + itemsOnPage)) {\n            return <DivingEvent key={divingEvent._id} divingEvent={divingEvent} />\n          } else {\n            return null\n          }\n        })\n      )\n    } else {\n      return null\n    }\n  }\n\n  const jsonToCSV = () => {\n    if (filteredEvents !== undefined && filteredEvents !== null) {\n      return (\n        <JsonToCSV contentType={'events'} content={filteredEvents} sep={';'} dec={','} />\n      )\n    } else {\n      return null\n    }\n  }\n\n  return (\n    <div>\n      <h2>Sukellustapahtumat</h2>\n      <FilterEventsForm\n        startFilter={startFilter}\n        handleStartFiltering={handleStartFiltering}\n        endFilter={endFilter}\n        handleEndFiltering={handleEndFiltering}\n        titleFilter={titleFilter}\n        handleTitleFiltering={handleTitleFiltering}\n        descriptionFilter={descriptionFilter}\n        handleDescriptionFiltering={handleDescriptionFiltering}\n        targetFilter={targetFilter}\n        handleTargetFiltering={handleTargetFiltering}\n        creatorFilter={creatorFilter}\n        handleCreatorFiltering={handleCreatorFiltering}\n      />\n      <div id=\"caption\">\n        Näytetään {filteredEvents.length}/{props.events.length} tapahtumaa.\n        &nbsp;\n        {jsonToCSV()}\n      </div>\n      <Table bordered hover size=\"sm\">\n        <thead>\n          <tr>\n            <th width=\"2.5%\"></th>\n            <th width=\"17.5%\">Alkuaika</th>\n            <th width=\"17.5%\">Loppuaika</th>\n            <th width=\"15%\">Perustaja</th>\n            <th width=\"47.5%\" colSpan=\"3\">Tapahtuma</th>\n          </tr>\n        </thead>\n        <tbody>\n          {eventsToDisplay()}\n        </tbody>\n      </Table>\n      <Paginator current={currentPage} pages={pages} handlePageSelect={handlePageSelect} />\n    </div>\n  )\n}\nDivingEvents.propTypes = {\n  setNotification: PropTypes.func.isRequired,\n  loggedUser: PropTypes.object\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    events: state.events,\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  setNotification\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DivingEvents)","import React from 'react'\nimport { Form, Row, Col } from 'react-bootstrap'\nimport { StartFilter, EndFilter, LocationFilter, TargetFilter} from './FilterFields'\n\nconst FilterTargetsForm = (props) => {\n\n  return (\n\n    <div>\n      <div id=\"caption\">\n        Suodata näytettäviä kohteita\n      </div>\n      <Form>\n        <Row>\n          <Col>\n            <StartFilter value={props.startFilter} trigger={props.handleStartFiltering} />\n          </Col>\n          <Col>\n            <EndFilter value={props.endFilter} trigger={props.handleEndFiltering} />\n          </Col>\n          <Col>\n            <TargetFilter value={props.targetFilter} trigger={props.handleTargetFiltering} />\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <LocationFilter title={'Alueen luoteisnurkka'} \n              latitudeFilter={props.northFilter} latitudeTrigger={props.handleNorthFiltering}\n              longitudeFilter={props.westFilter} longitudeTrigger={props.handleWestFiltering} />\n          </Col>\n          <Col>\n            <LocationFilter title={'Alueen kaakkoisnurkka'}\n              latitudeFilter={props.southFilter} latitudeTrigger={props.handleSouthFiltering}\n              longitudeFilter={props.eastFilter} longitudeTrigger={props.handleEastFiltering} />\n          </Col>\n        </Row>\n      </Form>\n    </div>\n  )\n\n}\n\nexport default FilterTargetsForm\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { Table } from 'react-bootstrap'\nimport { DateTime, Settings } from 'luxon'\nimport PropTypes from 'prop-types'\nimport { setNotification } from '../reducers/notificationReducer'\nimport Target from './Target'\nimport FilterTargetDivesForm from './FilterTargetDivesForm'\nimport JsonToCSV from '../utils/JsonToCSV'\nimport Paginator from './Paginator'\n\nconst TargetDives = (props) => {\n\n  Settings.defaultLocale = 'fi'\n\n  const [currentPage, setCurrentPage] = useState(1)\n  const [startFilter, setStartFilter] = useState('')\n  const [useStart, setUseStart] = useState('')\n  const [endFilter, setEndFilter] = useState('')\n  const [useEnd, setUseEnd] = useState('')\n  const [targetFilter, setTargetFilter] = useState('')\n  const [northFilter, setNorthFilter] = useState(70.1) // Finland northest point\n  const [westFilter, setWestFilter] = useState(19.0) // Finland most western point (at sea)\n  const [southFilter, setSouthFilter] = useState(59.4) // Finland southest point (at sea)\n  const [eastFilter, setEastFilter] = useState(31.6) // Finland most eastern point\n\n  const initStuff = async () => {\n    // Do stuff if needed\n  }\n\n  useEffect(() => {\n    initStuff()\n  }, [])\n\n  function isValidDate(d) {\n    return d instanceof Date && !isNaN(d);\n  }\n\n  const handlePageSelect = (event) => {\n    try {\n      setCurrentPage(parseInt(event.target.id))\n    } catch (error) {\n      // Do nothing\n    }\n  }\n\n  const handleStartFiltering = (event) => {\n    try {\n      let startdate = DateTime.fromFormat(event.target.value, 'd.M.yyyy', 'fi-FI').toJSDate()\n      if (isValidDate(startdate)) {\n        setUseStart(startdate)\n      }\n      setStartFilter(event.target.value)\n      setCurrentPage(1)\n    } catch (error) {\n      console.log(\"Error with startdate\", event.target.value)\n    }\n  }\n  const handleEndFiltering = (event) => {\n    try {\n      let enddate = DateTime.fromFormat(event.target.value, 'd.M.yyyy', 'fi-FI')\n        .plus({ days: 1 }).plus({ minutes: -1 }).toJSDate()\n      if (isValidDate(enddate)) {\n        setUseEnd(enddate)\n      }\n      setEndFilter(event.target.value)\n      setCurrentPage(1)\n    } catch (error) {\n      console.log(\"Error with enddate\", event.target.value)\n    }\n  }\n\n  const handleTargetFiltering = (event) => {\n    setTargetFilter(event.target.value)\n    setCurrentPage(1)\n  }\n  const handleNorthFiltering = (event) => {\n    try {\n      setNorthFilter(Number(event.target.value))\n      setCurrentPage(1)\n    } catch (error) {\n      setNorthFilter(null)\n    }\n  }\n  const handleWestFiltering = (event) => {\n    try {\n      setWestFilter(Number(event.target.value))\n      setCurrentPage(1)\n    } catch (error) {\n      setWestFilter(null)\n    }\n  }\n  const handleSouthFiltering = (event) => {\n    try {\n      setSouthFilter(Number(event.target.value))\n      setCurrentPage(1)\n    } catch (error) {\n      setSouthFilter(null)\n    }\n  }\n  const handleEastFiltering = (event) => {\n    try {\n      setEastFilter(Number(event.target.value))\n      setCurrentPage(1)\n    } catch (error) {\n      setEastFilter(null)\n    }\n  }\n\n  const filterByStartdate = (target) => {\n    return ((startFilter.length === 0) ||\n      ((target.dives !== undefined && new Date(target.firstDive) >= new Date(useStart))))\n  }\n  const filterByEnddate = (target) => {\n    return ((endFilter.length === 0) ||\n    ((target.dives !== undefined && new Date(target.lastDive) >= new Date(useEnd))))\n  }\n  const filterByTarget = (target) => {\n    return ((targetFilter.length === 0) ||\n      (target && target.name.toUpperCase().includes(targetFilter.toUpperCase())))\n  }\n  const filterByNorth = (target) => {\n    return ((northFilter !== null && northFilter.length === 0) ||\n      (target && target.latitude <= northFilter))\n  }\n  const filterByWest = (target) => {\n    return ((westFilter !== null && westFilter.length === 0) ||\n      (target && target.longitude >= westFilter))\n  }\n  const filterBySouth = (target) => {\n    return ((southFilter !== null && southFilter.length === 0) ||\n      (target && target.latitude >= southFilter))\n  }\n  const filterByEast = (target) => {\n    return ((eastFilter !== null && eastFilter.length === 0) ||\n      (target && target.longitude <= eastFilter))\n  }\n\n  const filteredTargets = props.diveStats.targetDives.filter(target =>\n    filterByStartdate(target) &&\n    filterByEnddate(target) &&\n    filterByTarget(target) &&\n    filterByNorth(target) &&\n    filterByWest(target) &&\n    filterBySouth(target) &&\n    filterByEast(target)\n  )\n\n  const itemsOnPage = 20\n  const pages = Math.ceil(filteredTargets.length / itemsOnPage)\n\n  const targetsToDisplay = () => {\n    var offset = (currentPage - 1) * itemsOnPage\n    return (\n      filteredTargets.map((target, index) => {\n        if (index >= offset && index < (offset + itemsOnPage)) {\n          return <Target key={target._id} target={target} elementId={`divesOf${target._id}`} dives={target.dives}/>\n        } else {\n          return null\n        }\n      })\n    )\n  }\n\n  const jsonToCSV = () => {\n    if (filteredTargets !== undefined && filteredTargets !== null) {\n      return (\n        <JsonToCSV contentType={'targetDives'} content={filteredTargets} sep={';'} dec={','} />\n      )\n    } else {\n      return null\n    }\n  }\n\n  return (\n    <div>\n      <h2>Kohteiden sukellukset</h2>\n      <FilterTargetDivesForm\n        startFilter={startFilter}\n        handleStartFiltering={handleStartFiltering}\n        endFilter={endFilter}\n        handleEndFiltering={handleEndFiltering}\n        targetFilter={targetFilter}\n        handleTargetFiltering={handleTargetFiltering}\n        northFilter={northFilter}\n        handleNorthFiltering={handleNorthFiltering}\n        westFilter={westFilter}\n        handleWestFiltering={handleWestFiltering}\n        southFilter={southFilter}\n        handleSouthFiltering={handleSouthFiltering}\n        eastFilter={eastFilter}\n        handleEastFiltering={handleEastFiltering}\n      />\n      <div id=\"caption\">\n        Näytetään {filteredTargets.length}/{props.diveStats.targetDives.length} kohteesta, joissa sukelluksia.\n        &nbsp;\n        {jsonToCSV()}\n      </div>\n      <Table bordered hover size=\"sm\">\n        <thead>\n          <tr id=\"target\">\n            <th width=\"2.5%\"></th>\n            <th width=\"40%\" colSpan=\"2\" id=\"caption\">Kohde</th>\n            <th width=\"57.5%\" colSpan=\"4\" id=\"caption\">Sijainti</th>\n          </tr>\n        </thead>\n        <tbody>\n          {targetsToDisplay()}\n        </tbody>\n      </Table>\n      <Paginator current={currentPage} pages={pages} handlePageSelect={handlePageSelect} />\n    </div>\n  )\n}\nTargetDives.propTypes = {\n  setNotification: PropTypes.func.isRequired,\n  loggedUser: PropTypes.object\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    targets: state.targets,\n    diveStats: state.diveStats,\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  setNotification\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TargetDives)","import React from 'react'\nimport { Form, Row, Col } from 'react-bootstrap'\nimport { LocationFilter, TargetFilter} from './FilterFields'\n\nconst FilterTargetsForm = (props) => {\n\n  return (\n\n    <div>\n      <div id=\"caption\">\n        Suodata näytettäviä kohteita\n      </div>\n      <Form>\n        <Row>\n          <Col>\n            <TargetFilter value={props.targetFilter} trigger={props.handleTargetFiltering} />\n          </Col>\n          <Col>\n            <LocationFilter title={'Alueen luoteisnurkka'} \n              latitudeFilter={props.northFilter} latitudeTrigger={props.handleNorthFiltering}\n              longitudeFilter={props.westFilter} longitudeTrigger={props.handleWestFiltering} />\n          </Col>\n          <Col>\n            <LocationFilter title={'Alueen kaakkoisnurkka'}\n              latitudeFilter={props.southFilter} latitudeTrigger={props.handleSouthFiltering}\n              longitudeFilter={props.eastFilter} longitudeTrigger={props.handleEastFiltering} />\n          </Col>\n        </Row>\n      </Form>\n    </div>\n  )\n\n}\n\nexport default FilterTargetsForm\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { Table } from 'react-bootstrap'\nimport PropTypes from 'prop-types'\nimport { setNotification } from '../reducers/notificationReducer'\nimport Target from './Target'\nimport FilterTargetsForm from './FilterTargetsForm'\nimport JsonToCSV from '../utils/JsonToCSV'\nimport Paginator from './Paginator'\n\nconst Targets = (props) => {\n\n  const [currentPage, setCurrentPage] = useState(1)\n  const [targetFilter, setTargetFilter] = useState('')\n  const [northFilter, setNorthFilter] = useState(70.1) // Finland northest point\n  const [westFilter, setWestFilter] = useState(19.0) // Finland most western point (at sea)\n  const [southFilter, setSouthFilter] = useState(59.4) // Finland southest point (at sea)\n  const [eastFilter, setEastFilter] = useState(31.6) // Finland most eastern point\n\n  const initStuff = async () => {\n    // Do stuff if needed\n  }\n\n  useEffect(() => {\n    initStuff()\n  }, [])\n\n  const handlePageSelect = (event) => {\n    try {\n      setCurrentPage(parseInt(event.target.id))\n    } catch (error) {\n      // Do nothing\n    }\n  }\n\n  const handleTargetFiltering = (event) => {\n    setTargetFilter(event.target.value)\n    setCurrentPage(1)\n  }\n  const handleNorthFiltering = (event) => {\n    try {\n      setNorthFilter(Number(event.target.value))\n      setCurrentPage(1)\n    } catch (error) {\n      setNorthFilter(null)\n    }\n  }\n  const handleWestFiltering = (event) => {\n    try {\n      setWestFilter(Number(event.target.value))\n      setCurrentPage(1)\n    } catch (error) {\n      setWestFilter(null)\n    }\n  }\n  const handleSouthFiltering = (event) => {\n    try {\n      setSouthFilter(Number(event.target.value))\n      setCurrentPage(1)\n    } catch (error) {\n      setSouthFilter(null)\n    }\n  }\n  const handleEastFiltering = (event) => {\n    try {\n      setEastFilter(Number(event.target.value))\n      setCurrentPage(1)\n    } catch (error) {\n      setEastFilter(null)\n    }\n  }\n\n  const filterByTarget = (target) => {\n    return ((targetFilter.length === 0) ||\n      (target && target.name.toUpperCase().includes(targetFilter.toUpperCase())))\n  }\n  const filterByNorth = (target) => {\n    return ((northFilter !== null && northFilter.length === 0) ||\n      (target && target.latitude <= northFilter))\n  }\n  const filterByWest = (target) => {\n    return ((westFilter !== null && westFilter.length === 0) ||\n      (target && target.longitude >= westFilter))\n  }\n  const filterBySouth = (target) => {\n    return ((southFilter !== null && southFilter.length === 0) ||\n      (target && target.latitude >= southFilter))\n  }\n  const filterByEast = (target) => {\n    return ((eastFilter !== null && eastFilter.length === 0) ||\n      (target && target.longitude <= eastFilter))\n  }\n\n  const filteredTargets = props.targets.filter(target =>\n    filterByTarget(target) &&\n    filterByNorth(target) &&\n    filterByWest(target) &&\n    filterBySouth(target) &&\n    filterByEast(target)\n  )\n\n  const itemsOnPage = 20\n  const pages = Math.ceil(filteredTargets.length / itemsOnPage)\n\n  const targetsToDisplay = () => {\n    var offset = (currentPage - 1) * itemsOnPage\n    return (\n      filteredTargets.map((target, index) => {\n        if (index >= offset && index < (offset + itemsOnPage)) {\n          return <Target key={target._id} target={target} elementID={target._id}/>\n        } else {\n          return null\n        }\n      })\n    )\n  }\n\n  const jsonToCSV = () => {\n    if (filteredTargets !== undefined && filteredTargets !== null) {\n      return (\n        <JsonToCSV contentType={'targets'} content={filteredTargets} sep={';'} dec={','} />\n      )\n    } else {\n      return null\n    }\n  }\n\n  return (\n    <div>\n      <h2>Kaikki kohteet</h2>\n      <FilterTargetsForm\n        targetFilter={targetFilter}\n        handleTargetFiltering={handleTargetFiltering}\n        northFilter={northFilter}\n        handleNorthFiltering={handleNorthFiltering}\n        westFilter={westFilter}\n        handleWestFiltering={handleWestFiltering}\n        southFilter={southFilter}\n        handleSouthFiltering={handleSouthFiltering}\n        eastFilter={eastFilter}\n        handleEastFiltering={handleEastFiltering}\n      />\n      <div id=\"caption\">\n        Näytetään {filteredTargets.length}/{props.targets.length} kohdetta.\n        &nbsp;\n        {jsonToCSV()}\n      </div>\n      <Table bordered hover size=\"sm\">\n        <thead>\n          <tr id=\"target\">\n            <th width=\"2.5%\"></th>\n            <th width=\"40%\" colSpan=\"2\" id=\"caption\">Kohde</th>\n            <th width=\"57.5%\" colSpan=\"4\" id=\"caption\">Sijainti</th>\n          </tr>\n        </thead>\n        <tbody>\n          {targetsToDisplay()}\n        </tbody>\n      </Table>\n      <Paginator current={currentPage} pages={pages} handlePageSelect={handlePageSelect} />\n    </div>\n  )\n}\nTargets.propTypes = {\n  setNotification: PropTypes.func.isRequired,\n  loggedUser: PropTypes.object\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    targets: state.targets,\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  setNotification\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Targets)","import React from 'react'\nimport { Form } from 'react-bootstrap'\n\nexport const UsernameField = (props) => {\n  return (\n    <>\n      <Form.Label>Käyttäjätunnus</Form.Label>\n      <Form.Control type=\"text\" required placeholder=\"Käyttäjätunnus\" name=\"usernameField\" id={props.setusername}\n        defaultValue={props.usernameField} onChange={props.trigger} disabled={props.disabled} />\n      <Form.Text className=\"text-muted\" id={props.usernamehint}></Form.Text>\n    </>\n  )\n}\n\nexport const PasswordField = (props) => {\n  return (\n    <>\n      <Form.Label>Salasana</Form.Label>\n      <Form.Control type=\"password\" placeholder=\"Salasana\" name=\"passwordField\" id={props.setpassword}\n        defaultValue={props.passwordField} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\" id={props.passwordhint}></Form.Text>\n    </>\n  )\n}\n\nexport const VerifyField = (props) => {\n  return (\n    <>\n      <Form.Label>Varmista salasana</Form.Label>\n      <Form.Control type=\"password\" placeholder=\"Salasana uudestaan\" name=\"verifyField\" id={props.setverify}\n        defaultValue={props.verifyField} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\" id={props.verifyhint}></Form.Text>\n    </>\n  )\n}\n\nexport const EmailField = (props) => {\n  return (\n    <>\n      <Form.Label>Sähköposti</Form.Label>\n      <Form.Control type=\"email\" placeholder=\"joku@jossain.com\" name=\"emailField\"\n        defaultValue={props.emailField} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">Syötä sähköpostiosoite</Form.Text>\n    </>\n  )\n}\n\nexport const AdminField = (props) => {\n  return (\n    <>\n      <Form.Label>Pääkäyttäjä</Form.Label>\n      <Form.Control as=\"select\" name=\"adminField\" defaultValue={props.adminField ? true : false}\n        onChange={props.trigger} id={props.setadmin}>\n        <option value=\"false\">Ei</option>\n        <option value=\"true\">Kyllä</option>\n      </Form.Control>\n      <Form.Text className=\"text-muted\" id={props.adminhint}></Form.Text>\n    </>\n  )\n}","import React, { useState } from 'react'\nimport { Collapse } from 'react-bootstrap'\nimport UpdateUserForm from './UpdateUserForm'\n\nconst User = (props) => {\n\n  const user = props.user\n\n  const updatingInUse = false; // Updating regular users is not yet implemented in the backend\n\n  const [showUserDetails, setShowUserDetails] = useState(false)\n  const [usernameField, setUsernameField] = useState(user.username)\n  const [emailField, setEmailField] = useState(user.email)\n\n  const handleUsernameField = (event) => {\n    setUsernameField(event.target.value)\n  }\n  const handleEmailField = (event) => {\n    setEmailField(event.target.value)\n  }\n\n  const gotEvents = (\n    user.events !== undefined && user.events !== null && user.events.length > 0\n  )\n  const gotDives = (\n    user.dives !== undefined && user.dives !== null && user.dives.length > 0\n  )\n  const gotMessages = (\n    user.messages !== undefined && user.messages !== null && user.messages.length > 0\n  )\n\n  const handleUserUpdate = (event) => {\n    try {\n      console.log('Handle update, id =', event.target.value, 'username =', usernameField, 'email =', emailField)\n    } catch (error) {\n      console.log('Error handling update', error, event.target.value)\n    }\n  }\n\n  const details = () => {\n    return (\n      <Collapse in={showUserDetails}>\n        <tr id={user._id}>\n          <td colSpan=\"7\">\n            <UpdateUserForm userid={user._id}\n              usernameField={usernameField}\n              handleUsernameField={handleUsernameField}\n              emailField={emailField}\n              handleEmailField={handleEmailField}\n              handleUserUpdate={handleUserUpdate} />\n          </td>\n        </tr>\n      </Collapse>\n    )\n  }\n\n  if (updatingInUse) {\n    return (\n      <>\n        <tr onClick={() => setShowUserDetails(!showUserDetails)}\n          aria-controls={user._id}\n          aria-expanded={showUserDetails}>\n          <td><i className={showUserDetails ? 'fas fa-user-edit' : 'fas fa-user'}></i></td>\n          <td>{user.username}</td>\n          <td>{user.email}</td>\n          <td>{gotEvents ? user.events.length : 0}</td>\n          <td>{gotDives ? user.dives.length : 0}</td>\n          <td colSpan=\"2\">{gotMessages ? user.messages.length : 0}</td>\n        </tr>\n        {details()}\n      </>\n    )\n  } else {\n    return (\n        <tr>\n          <td><i className='fas fa-user'></i></td>\n          <td>{user.username}</td>\n          <td>{user.email}</td>\n          <td>{gotEvents ? user.events.length : 0}</td>\n          <td>{gotDives ? user.dives.length : 0}</td>\n          <td colSpan=\"2\">{gotMessages ? user.messages.length : 0}</td>\n        </tr>\n    )\n  }\n\n}\n\nexport default User\n","import React from 'react'\nimport { Form, Row, Col } from 'react-bootstrap'\nimport { UsernameFilter, EmailFilter} from './FilterFields'\n\nconst FilterUsersForm = (props) => {\n\n  return (\n\n    <div>\n      <div id=\"caption\">\n        Suodata näytettäviä käyttäjiä\n      </div>\n      <Form>\n        <Row>\n          <Col>\n            <UsernameFilter value={props.usernameFilter} trigger={props.handleUsernameFiltering} />\n          </Col>\n          <Col>\n            <EmailFilter value={props.emailFilter} trigger={props.handleEmailFiltering} />\n          </Col>\n        </Row>\n      </Form>\n    </div>\n  )\n\n}\n\nexport default FilterUsersForm\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { Table } from 'react-bootstrap'\nimport PropTypes from 'prop-types'\nimport { setNotification } from '../reducers/notificationReducer'\nimport User from './User'\nimport FilterUsersForm from './FilterUsersForm'\nimport JsonToCSV from '../utils/JsonToCSV'\nimport Paginator from './Paginator'\n\nconst Users = (props) => {\n\n  const allUsers = props.users\n\n  const [currentPage, setCurrentPage] = useState(1)\n  const [usernameFilter, setUsernameFilter] = useState('')\n  const [emailFilter, setEmailFilter] = useState('')\n\n  const initStuff = async () => {\n    // If something needs to be done when page loaded\n  }\n\n  useEffect(() => {\n    initStuff()\n  }, [])\n\n  const handlePageSelect = (event) => {\n    try {\n      setCurrentPage(parseInt(event.target.id))\n    } catch (error) {\n      // Do nothing\n    }\n  }\n\n  const handleUsernameFiltering = (event) => {\n    setUsernameFilter(event.target.value)\n  }\n  const handleEmailFiltering = (event) => {\n    setEmailFilter(event.target.value)\n  }\n\n  const filterByUsername = (user) => {\n    return ((!(user.username) && usernameFilter.length === 0) ||\n      (user.username && user.username.toUpperCase().includes(usernameFilter.toUpperCase())))\n  }\n  const filterByEmail = (user) => {\n    return ((!(user.email) && emailFilter.length === 0) ||\n      (user.email && user.email.toUpperCase().includes(emailFilter.toUpperCase())))\n  }\n\n  const filteredUsers = allUsers.filter(user =>\n    filterByUsername(user) &&\n    filterByEmail(user)\n  )\n\n  const itemsOnPage = 20\n  const pages = Math.ceil(filteredUsers.length / itemsOnPage)\n\n  const usersToDisplay = () => {\n    var offset = (currentPage - 1) * itemsOnPage\n    return (\n      filteredUsers.map((user, index) => {\n        if (index >= offset && index < (offset + itemsOnPage)) {\n          return <User key={user._id} user={user} />\n        } else {\n          return null\n        }\n      })\n    )\n  }\n\n  const jsonToCSV = () => {\n    if (filteredUsers !== undefined && filteredUsers !== null) {\n      return (\n        <JsonToCSV contentType={'users'} content={filteredUsers} sep={';'} dec={','} />\n      )\n    } else {\n      return null\n    }\n  }\n\n  return (\n    <div>\n      <h2>Sukeltajat</h2>\n      <FilterUsersForm\n        usernameFilter={usernameFilter}\n        handleUsernameFiltering={handleUsernameFiltering}\n        emailFilter={emailFilter}\n        handleEmailFiltering={handleEmailFiltering}\n      />\n      <div id=\"caption\">\n        Näytetään {filteredUsers.length}/{props.users.length} käyttäjää.\n        &nbsp;\n        {jsonToCSV()}\n      </div>\n      <Table bordered hover size=\"sm\">\n        <thead>\n          <tr>\n            <th width=\"2.5%\"></th>\n            <th width=\"30%\">Käyttäjä</th>\n            <th width=\"30%\">Sähköposti</th>\n            <th width=\"12.5%\">Tapahtumia</th>\n            <th width=\"12.5%\">Sukelluksia</th>\n            <th width=\"12.5%\" colSpan=\"2\">Viestejä</th>\n          </tr>\n        </thead>\n        <tbody>\n          {usersToDisplay()}\n        </tbody>\n      </Table>\n      <Paginator current={currentPage} pages={pages} handlePageSelect={handlePageSelect} />\n    </div>\n  )\n}\nUsers.propTypes = {\n  setNotification: PropTypes.func.isRequired,\n  loggedUser: PropTypes.object\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    users: state.users,\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  setNotification\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Users)","import React from 'react'\nimport { Form, Row, Col, Button } from 'react-bootstrap'\nimport { UsernameField, PasswordField, VerifyField, AdminField } from './InputFields'\n\nconst UpdateBOUserForm = (props) => {\n\n  return (\n    <div>\n      <Form>\n        <Row>\n          <Col>\n            <UsernameField usernameField={props.usernameField} trigger={props.handleUsernameField}\n             usernamehint={`usernamehint${props.bouserid}`} disabled={true} />\n          </Col>\n          <Col>\n            <AdminField adminField={props.adminField} trigger={props.handleAdminField}\n              adminhint={`adminhint${props.bouserid}`} setadmin={`setadmin${props.bouserid}`} />\n          </Col>\n        </Row>\n        <Row>\n        <Col>\n            <PasswordField passwordField={props.passwordField} trigger={props.handlePasswordField}\n              passwordhint={`passwordhint${props.bouserid}`} setpassword={`setpassword${props.bouserid}`} />\n          </Col>\n          <Col>\n            <VerifyField verifyField={props.verifyField} trigger={props.handleVerifyField}\n              verifyhint={`verifyhint${props.bouserid}`} setverify={`setverify${props.bouserid}`} />\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <Button variant=\"success\" type=\"button\" value={props.bouserid}\n              onClick={props.handleBOUserUpdate}>Päivitä</Button>\n            &nbsp;\n            <Button variant=\"primary\" type=\"button\" value={props.bouserid}\n              onClick={props.handleBOUserCancel}>Peru</Button>\n            &nbsp;\n            <Button variant=\"danger\" type=\"button\" value={props.bouserid} id={`delete${props.bouserid}`}\n              onClick={props.handleBOUserDelete}>Poista</Button>\n            &nbsp;\n            <Form.Text className=\"text-muted\" id={`delhint${props.bouserid}`}></Form.Text>\n          </Col>\n          <Col>\n          </Col>\n          <Col>\n          </Col>\n        </Row>\n      </Form>\n    </div>\n  )\n\n}\n\nexport default UpdateBOUserForm\n","import React from 'react'\nimport { Form, Row, Col, Button } from 'react-bootstrap'\nimport { UsernameField, PasswordField, VerifyField, AdminField } from './InputFields'\n\nconst CreateBOUserForm = (props) => {\n\n  return (\n    <div>\n      <Form>\n        <Row>\n          <Col>\n            <UsernameField usernameField={props.usernameField} trigger={props.handleUsernameField}\n             usernamehint={`usernamehint${props.bouserid}`} disabled={false} setusername={`setusername${props.bouserid}`} />\n          </Col>\n          <Col>\n            <AdminField adminField={props.adminField} trigger={props.handleAdminField}\n              adminhint={`adminhint${props.bouserid}`} setadmin={`setadmin${props.bouserid}`} />\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <PasswordField passwordField={props.passwordField} trigger={props.handlePasswordField}\n              passwordhint={`passwordhint${props.bouserid}`} setpassword={`setpassword${props.bouserid}`} />\n          </Col>\n          <Col>\n            <VerifyField verifyField={props.verifyField} trigger={props.handleVerifyField}\n              verifyhint={`verifyhint${props.bouserid}`} setverify={`setverify${props.bouserid}`} />\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <Button variant=\"success\" type=\"button\" value={props.bouserid}\n              onClick={props.handleBOUserCreate}>Lisää</Button>\n            &nbsp;\n            <Button variant=\"primary\" type=\"button\" value={props.bouserid}\n              onClick={props.handleNewBOUserCancel}>Peru</Button>\n          </Col>\n          <Col>\n          </Col>\n          <Col>\n          </Col>\n        </Row>\n      </Form>\n    </div>\n  )\n\n}\n\nexport default CreateBOUserForm\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { Collapse } from 'react-bootstrap'\nimport UpdateBOUserForm from './UpdateBOUserForm'\nimport CreateBOUserForm from './CreateBOUserForm'\nimport { createBOUser, updateBOUser, deleteBOUser, initializeBOUsers } from '../reducers/bouserReducer'\n\nconst BOUser = (props) => {\n\n  const bouser = props.bouser\n  const currentuser = (props.bouser._id === props.loggedUser.id)\n  const newuser = (bouser._id === 'newBOUser')\n\n  const [showBOUserDetails, setShowBOUserDetails] = useState(false)\n  const [usernameField, setUsernameField] = useState(bouser.username || '')\n  const [passwordField, setPasswordField] = useState('')\n  const [verifyField, setVerifyField] = useState('')\n  const [adminField, setAdminField] = useState(bouser.admin)\n  const [isAdmin, setIsAdmin] = useState(bouser.admin)\n\n  const nameInUse = () => { return (props.bousers.some(bou => bou.username === usernameField.trim())) }\n\n  const controlUsername = () => {\n    if (document.getElementById(`usernamehint${bouser._id}`)) {\n      if (newuser) {\n        if (usernameField.trim() === '') {\n          document.getElementById(`usernamehint${bouser._id}`).innerHTML = 'Syötä käyttäjätunnus'\n        } else {\n          document.getElementById(`usernamehint${bouser._id}`).innerHTML =\n            (nameInUse() ? 'Tämä käyttäjätunnus on jo käytössä' : 'Tämä käyttäjätunnus on vapaana')\n        }\n      } else {\n        document.getElementById(`usernamehint${bouser._id}`).innerHTML = 'Käyttäjätunnusta ei voi vaihtaa'\n      }\n    }\n  }\n  const controlPassword = () => {\n    if (document.getElementById(`passwordhint${bouser._id}`) && document.getElementById(`verifyhint${bouser._id}`)) {\n      if (passwordField === '' && verifyField === '') {\n        if (newuser) {\n          document.getElementById(`passwordhint${bouser._id}`).innerHTML = 'Syötä salasana'\n          document.getElementById(`verifyhint${bouser._id}`).innerHTML = 'Syötä salasana uudestaan'\n        } else {\n          document.getElementById(`passwordhint${bouser._id}`).innerHTML =\n            'Syötä uusi salasana, jos haluat vaihtaa salasanan'\n          document.getElementById(`verifyhint${bouser._id}`).innerHTML =\n            'Syötä salasana uudestaan, jos haluat vaihtaa salasanan'\n        }\n      } else {\n        if (passwordField !== verifyField) {\n          document.getElementById(`passwordhint${bouser._id}`).innerHTML = 'Salasanat eivät täsmää'\n          document.getElementById(`verifyhint${bouser._id}`).innerHTML = 'Salasanat eivät täsmää'\n        } else {\n          document.getElementById(`passwordhint${bouser._id}`).innerHTML = 'Salasanat täsmäävät'\n          document.getElementById(`verifyhint${bouser._id}`).innerHTML = 'Salasanat täsmäävät'\n        }\n      }\n    }\n  }\n  const controlAdmin = () => {\n    if (document.getElementById(`isAdmin${bouser._id}`)) {\n      document.getElementById(`isAdmin${bouser._id}`).innerHTML = (isAdmin ? 'Pääkäyttäjä' : 'Ei pääkäyttäjä')\n    }\n    if (document.getElementById(`setadmin${props.bouser._id}`)) {\n      document.getElementById(`setadmin${props.bouser._id}`).disabled = currentuser\n    }\n    if (document.getElementById(`adminhint${bouser._id}`)) {\n      document.getElementById(`adminhint${bouser._id}`).innerHTML =\n        (currentuser ? 'Et voi poistaa itseltäsi pääkäyttäjyyttä' : 'Valitse onko käyttäjä pääkäyttäjä')\n    }\n    if (document.getElementById(`delete${props.bouser._id}`)) {\n      document.getElementById(`delete${props.bouser._id}`).disabled = isAdmin\n    }\n    if (document.getElementById(`delhint${props.bouser._id}`)) {\n      document.getElementById(`delhint${props.bouser._id}`).innerHTML = (isAdmin ? 'Et voi poistaa pääkäyttäjää' : '')\n    }\n  }\n\n  useEffect(() => {\n    controlUsername()\n    controlPassword()\n    controlAdmin()\n  })\n\n  const handleUsernameField = (event) => {\n    setUsernameField(event.target.value)\n  }\n  const handlePasswordField = (event) => {\n    setPasswordField(event.target.value)\n  }\n  const handleVerifyField = (event) => {\n    setVerifyField(event.target.value)\n  }\n  const handleAdminField = (event) => {\n    setAdminField(event.target.value)\n  }\n\n  const clearFields = () => {\n    setUsernameField('')\n    document.getElementById(`setusername${bouser._id}`).value = ''\n    setPasswordField('')\n    document.getElementById(`setpassword${bouser._id}`).value = ''\n    setVerifyField('')\n    document.getElementById(`setverify${bouser._id}`).value = ''\n    setAdminField(false)\n  }\n\n  const revertFields = () => {\n    setPasswordField('')\n    document.getElementById(`setpassword${bouser._id}`).value = ''\n    setVerifyField('')\n    document.getElementById(`setverify${bouser._id}`).value = ''\n    setAdminField(bouser.admin)\n    document.getElementById(`setadmin${bouser._id}`).value = bouser.admin\n  }\n\n  const handleToggleBOUserDetails = () => {\n    setShowBOUserDetails(!showBOUserDetails)\n    if (!showBOUserDetails) {\n      if (newuser) {\n        clearFields()\n      } else {\n        revertFields()\n      }\n    }\n  }\n\n  const handleNewBOUserCancel = (event) => {\n    event.preventDefault()\n    clearFields()\n    setShowBOUserDetails(false)\n  }\n\n  const handleBOUserCancel = (event) => {\n    event.preventDefault()\n    revertFields()\n    setShowBOUserDetails(false)\n  }\n\n  const handleBOUserCreate = (event) => {\n    event.preventDefault()\n    if (passwordField === verifyField) {\n      if (!nameInUse() && usernameField.trim() !== '') {\n        try {\n          props.createBOUser(usernameField.trim(), passwordField, adminField)\n          clearFields()\n        } catch (error) {\n          //console.log('Error handling create', error, event.target.value)\n        }\n      } else {\n        console.log('Username is taken or empty')\n      }\n    }\n  }\n\n  const handleBOUserUpdate = async (event) => {\n    event.preventDefault()\n    if (passwordField === verifyField) {\n      try {\n        //console.log('Handle update, id =', event.target.value, 'username =', usernameField, 'admin =', adminField)\n        bouser.username = usernameField\n        bouser.password = passwordField\n        bouser.admin = (adminField === 'true') // because it's a string\n        await props.updateBOUser(bouser)\n        setIsAdmin(adminField === 'true') // because it's a string\n        setShowBOUserDetails(false)\n      } catch (error) {\n        //console.log('Error handling update', error, event.target.value)\n      }\n    }\n  }\n\n  const handleBOUserDelete = (event) => {\n    event.preventDefault()\n    try {\n      if (window.confirm(`Haluatko varmasti poistaa käyttäjän ${usernameField}?`)) {\n        //console.log('Handle delete, id =', event.target.value, 'username =', usernameField, 'admin =', adminField)\n        props.deleteBOUser(bouser)\n        setShowBOUserDetails(false)\n      }\n    } catch (error) {\n      //console.log('Error handling delete', error, event.target.value)\n    }\n  }\n\n  if (newuser) {\n    return (\n      <>\n        <tr onClick={() => handleToggleBOUserDetails()}\n          aria-controls={bouser._id}\n          aria-expanded={showBOUserDetails}>\n          <td><i className='fas fa-user-plus'></i></td>\n          <td>Lisää uusi Back Office käyttäjä</td>\n          <td>&nbsp;</td>\n        </tr>\n        <Collapse in={showBOUserDetails}>\n          <tr id={bouser._id}>\n            <td colSpan=\"7\">\n              <CreateBOUserForm bouserid={bouser._id}\n                usernameField={usernameField}\n                handleUsernameField={handleUsernameField}\n                passwordField={passwordField}\n                handlePasswordField={handlePasswordField}\n                verifyField={verifyField}\n                handleVerifyField={handleVerifyField}\n                adminField={adminField}\n                handleAdminField={handleAdminField}\n                handleNewBOUserCancel={handleNewBOUserCancel}\n                handleBOUserCreate={handleBOUserCreate} />\n            </td>\n          </tr>\n        </Collapse>\n      </>\n    )\n  } else {\n    return (\n      <>\n        <tr onClick={() => handleToggleBOUserDetails()}\n          aria-controls={bouser._id}\n          aria-expanded={showBOUserDetails}>\n          <td><i className={showBOUserDetails ? 'fas fa-user-edit' : 'fas fa-user'}></i></td>\n          <td>{bouser.username}</td>\n          <td><span id={`isAdmin${bouser._id}`}></span></td>\n        </tr>\n        <Collapse in={showBOUserDetails}>\n          <tr id={bouser._id}>\n            <td colSpan=\"7\">\n              <UpdateBOUserForm bouserid={bouser._id}\n                usernameField={usernameField}\n                passwordField={passwordField}\n                handlePasswordField={handlePasswordField}\n                verifyField={verifyField}\n                handleVerifyField={handleVerifyField}\n                adminField={adminField}\n                handleAdminField={handleAdminField}\n                handleBOUserCancel={handleBOUserCancel}\n                handleBOUserUpdate={handleBOUserUpdate}\n                handleBOUserDelete={handleBOUserDelete} />\n            </td>\n          </tr>\n        </Collapse>\n      </>\n    )\n  }\n\n\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    bousers: state.bousers,\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  createBOUser, updateBOUser, deleteBOUser, initializeBOUsers\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BOUser)","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { Table } from 'react-bootstrap'\nimport PropTypes from 'prop-types'\nimport { setNotification } from '../reducers/notificationReducer'\nimport BOUser from './BOUser'\n\nconst BOUsers = (props) => {\n\n  const bousers = props.bousers\n  const bousersCount = ((props.bousers === undefined || props.bousers === null) ? 0 : props.bousers.length)\n\n  const initStuff = async () => {\n    // If something needs to be done when page loaded\n  }\n\n  useEffect(() => {\n    initStuff()\n  }, [])\n\n  const usersToDisplay = () => {\n    if (bousers !== undefined && bousers !== null) {\n      //console.log('Logged user', props.loggedUser)\n      return (\n        bousers.map((bouser) => {\n          return <BOUser key={bouser._id} bouser={bouser} />\n        })\n      )\n    } else {\n      return null\n    }\n  }\n\n  return (\n    <div>\n      <h2>Back Office käyttäjät</h2>\n      <div id=\"caption\">\n        Näytetään {bousersCount}/{bousersCount} Back Office käyttäjää.\n      </div>\n      <Table bordered hover size=\"sm\">\n        <thead>\n          <tr>\n            <th width=\"2.5%\"></th>\n            <th width=\"47.5%\">Käyttäjä</th>\n            <th width=\"50%\">Pääkäyttäjä</th>\n          </tr>\n        </thead>\n        <tbody>\n          <BOUser key={'newBOUser'} bouser={{\"_id\": \"newBOUser\", \"admin\": false}} />\n          {usersToDisplay()}\n        </tbody>\n      </Table>\n    </div>\n  )\n}\nBOUsers.propTypes = {\n  setNotification: PropTypes.func.isRequired,\n  loggedUser: PropTypes.object\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    bousers: state.bousers,\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  setNotification\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BOUsers)","import React, { useState, useEffect } from 'react'\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { Navbar, Nav, Container } from 'react-bootstrap'\nimport { storageKeyUser } from '../utils/config'\nimport { initializeTargets } from '../reducers/targetReducer'\nimport { initializeEvents } from '../reducers/eventReducer'\nimport { mapDivesToTargets } from '../reducers/divesReducer'\nimport { initializeUsers } from '../reducers/userReducer'\nimport { initializeBOUsers } from '../reducers/bouserReducer'\nimport { setNotification } from '../reducers/notificationReducer'\nimport Notification from './Notification'\nimport Login from './Login'\nimport Logout from './Logout'\nimport Home from './Home'\nimport DivingEvents from './DivingEvents'\nimport TargetDives from './TargetDives'\nimport Targets from './Targets'\nimport Users from './Users'\nimport BOUsers from './BOUsers'\n\nconst App = (props) => {\n\n  const [isAdmin, setIsAdmin] = useState(false)\n\n  const haveUser = () => {\n    return (props.loggedUser !== undefined && props.loggedUser !== null)\n  }\n\n  const storageUserToUser = () => {\n    const loggedUserJSON = window.localStorage.getItem(storageKeyUser)\n    if (loggedUserJSON && loggedUserJSON.length > 0 && loggedUserJSON !== 'null') {\n      return JSON.parse(loggedUserJSON)\n    } else {\n      return null\n    }\n  }\n\n  const initializeAtStartUp = async () => {\n    //console.log('Initialize at App')\n    // Any initializations at login should be done here async at login if necessary\n    props.setNotification('success', 'Tervetuloa! Muista hengittää rauhallisesti!', 5)\n    if (props.events === undefined || props.events === null || props.events.length === 0) {\n      await props.initializeEvents()\n      await props.mapDivesToTargets()\n    }\n    if (props.targets === undefined || props.targets === null || props.targets.length === 0) {\n      await props.initializeTargets()\n    }\n    if (props.users === undefined || props.users === null || props.users.length === 0) {\n      await props.initializeUsers()\n    }\n    if (props.bousers === undefined || props.bousers === null || props.bousers.length === 0) {\n      try {\n        await props.initializeBOUsers()\n        setIsAdmin(true)\n      } catch (error) {\n        setIsAdmin(false)\n      }\n    }\n  }\n\n  useEffect(() => {\n    //console.log(\"Checking if we have a token...\")\n    const user = storageUserToUser()\n    if (user !== undefined && user !== null) {\n      //console.log(\"Storage user was\", user)\n      initializeAtStartUp()\n    }\n  }, [])\n\n\n  // Define preferred link style in Nav\n  const navLinkStyle = {}\n\n  // This is to prevent the top of the page to be hiding behind the Navbar\n  const topPadding = { \"paddingTop\": \"70px\" }\n\n  if (!haveUser()) {\n    return (\n      <Container>\n        <div className=\"justify-content-sm-center\">\n          &nbsp;\n        </div>\n        <div className=\"justify-content-sm-center\">\n          <Notification />\n        </div>\n        <div className=\"justify-content-sm-center\">\n          <Login />\n        </div>\n      </Container>\n    )\n  } else {\n    return (\n      <Container style={topPadding}>\n        <Router>\n          <div>\n            <div>\n              <Navbar fixed=\"top\" collapseOnSelect expand=\"md\" bg=\"warning\" variant=\"dark\">\n                <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n                <Navbar.Collapse id=\"responsive-navbar-nav\">\n                  <Nav>\n                    <Nav.Link as=\"span\">\n                      <Link style={navLinkStyle} to=\"/\">Alkuun</Link>\n                    </Nav.Link>\n                    <Nav.Link as=\"span\">\n                      <Link style={navLinkStyle} to=\"/targets\">Kohteet</Link>\n                    </Nav.Link>\n                    <Nav.Link as=\"span\">\n                      <Link style={navLinkStyle} to=\"/targetDives\">Kohteiden sukellukset</Link>\n                    </Nav.Link>\n                    <Nav.Link as=\"span\">\n                      <Link style={navLinkStyle} to=\"/events\">Sukellustapahtumat</Link>\n                    </Nav.Link>\n                    <Nav.Link as=\"span\">\n                      <Link style={navLinkStyle} to=\"/users\">Sukeltajat</Link>\n                    </Nav.Link>\n                    { isAdmin ?\n                      <Nav.Link as=\"span\">\n                        <Link style={navLinkStyle} to=\"/bousers\">Backofficerit</Link>\n                      </Nav.Link>\n                      : '' }\n                    <Navbar.Text as=\"span\">\n                      <Logout />\n                    </Navbar.Text>\n                  </Nav>\n                </Navbar.Collapse>\n              </Navbar>\n            </div>\n            <div>\n              <div>\n                <Notification />\n                <Route exact path=\"/\" render={() => <Home />} />\n                <Route exact path=\"/targets\" render={() => <Targets />} />\n                <Route exact path=\"/targetDives\" render={() => <TargetDives />} />\n                <Route exact path=\"/events\" render={() => <DivingEvents />} />\n                <Route exact path=\"/users\" render={() => <Users />} />\n                { isAdmin ? <Route exact path=\"/bousers\" render={() => <BOUsers />} /> : '' }\n              </div>\n            </div>\n          </div>\n        </Router>\n      </Container>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    targets: state.targets,\n    events: state.events,\n    diveStats: state.diveStats,\n    users: state.users,\n    bousers: state.bousers,\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  initializeTargets,\n  initializeEvents,\n  mapDivesToTargets,\n  initializeUsers,\n  initializeBOUsers,\n  setNotification\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport store from './store' \nimport App from './components/App'\nimport './index.css'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)\n\n"],"sourceRoot":""}