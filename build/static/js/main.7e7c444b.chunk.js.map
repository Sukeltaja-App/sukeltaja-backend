{"version":3,"sources":["utils/config.js","services/loginService.js","reducers/authenticationReducer.js","reducers/notificationReducer.js","services/targetService.js","reducers/targetReducer.js","services/eventService.js","reducers/eventReducer.js","reducers/divesReducer.js","services/userService.js","reducers/userReducer.js","services/bouserService.js","reducers/bouserReducer.js","store.js","components/Notification.js","components/Login.js","components/Logout.js","components/Home.js","utils/coordinates.js","components/TargetDetails.js","utils/dates.js","components/DiveDetails.js","components/Dive.js","components/Dives.js","components/Target.js","components/DivingEvent.js","components/FilterFields.js","components/FilterEventsForm.js","utils/JsonToCSV.js","components/Paginator.js","components/DivingEvents.js","components/FilterTargetDivesForm.js","components/TargetDives.js","components/FilterTargetsForm.js","components/Targets.js","components/InputFields.js","components/User.js","components/FilterUsersForm.js","components/Users.js","components/UpdateBOUserForm.js","components/CreateBOUserForm.js","components/BOUser.js","components/BOUsers.js","components/App.js","index.js"],"names":["kyppiUrl","serviceURL","concat","loginService","login","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","credentials","response","wrap","_context","prev","next","axios","post","sent","abrupt","data","stop","this","_x","apply","arguments","authenticationReducer","state","length","undefined","loggedUser","action","type","setNotification","notClass","notMessage","timeout","dispatch","setTimeout","notificationReducer","targetService","getAll","get","targetReducer","eventService","config","loggedUserJSON","token","window","localStorage","getItem","JSON","parse","headers","Authorization","console","log","eventReducer","divesReducer","userService","userReducer","getConfig","bouserService","create","_ref2","_callee2","username","password","admin","_context2","_x2","_x3","update","_ref3","_callee3","bouser","_context3","put","status","_x4","remove","_ref4","_callee4","_context4","delete","_id","_x5","initializeBOUsers","bousers","sort","b","toUpperCase","localeCompare","bouserReducer","toConsumableArray","map","filter","reducer","combineReducers","authentication","notification","targets","events","targetDives","users","store","createStore","applyMiddleware","thunk","connect","props","react_default","createElement","Alert","variant","mapDispatchToProps","loginUser","user","setItem","stringify","reLoginUser","_useState","useState","_useState2","slicedToArray","setUsername","_useState3","_useState4","setPassword","initializeAtStartUp","useEffect","storageUserToUser","handleLogin","event","preventDefault","location","href","t0","Form","onSubmit","Group","Label","Control","name","placeholder","onChange","target","value","Button","pathname","Redirect","to","logoutUser","clearEvents","clearDives","clearTargets","clearUsers","clearBOUsers","handleLogout","removeItem","Fragment","style","color","size","onClick","Container","Row","Col","id","decimalToDMS","coordinate","degrees","Math","floor","minutes","seconds","toFixed","TargetDetails","linkToKyppi","mj_id","margins","material","depth","lg","hylyt_link","Settings","defaultLocale","formatDate","date","format","dateTime","toLocaleString","objectSpread","weekday","DateTime","DATETIME_SHORT","fromISO","fromJSDate","DiveDetails","dive","latitude","longitude","Dive","showDiveDetails","setShowDiveDetails","aria-controls","elementId","aria-expanded","odd","backgroundColor","className","colSpan","startdate","enddate","Collapse","in","components_DiveDetails","Dives","dives","showDives","setShowDives","noMargins","width","index","components_Dive","key","Target","showTargetDetails","setShowTargetDetails","components_TargetDetails","components_Dives","DivingEvent","showEventDetails","setShowEventDetails","divingEvent","gotDescription","description","gotTarget","gotDives","creator","title","Table","debug","components_Target","StartFilter","startFilter","trigger","Text","EndFilter","endFilter","CreatorFilter","creatorFilter","TitleFilter","titleFilter","DescriptionFilter","descriptionFilter","LocationFilter","as","step","min","max","latitudeFilter","latitudeTrigger","longitudeFilter","longitudeTrigger","TargetFilter","targetFilter","UsernameFilter","usernameFilter","EmailFilter","emailFilter","FilterEventsForm","FilterFields_StartFilter","handleStartFiltering","FilterFields_EndFilter","handleEndFiltering","FilterFields_CreatorFilter","handleCreatorFiltering","FilterFields_TitleFilter","handleTitleFiltering","FilterFields_DescriptionFilter","handleDescriptionFiltering","FilterFields_TargetFilter","handleTargetFiltering","content","_ret","dataHeaders","filename","contentType","require","sep","dec","xdc","forEach","header","label","push","havingArray","arrayIndex","arrayMax","_loop","o","jsonObj","dataRow","val","quo","includes","arrKey","split","obj","objAttr","arr","Array","from","exception","toString","replace","v","blob","Blob","urlForCSV","URL","createObjectURL","React","download","downloadLink","Paginator","current","parseInt","pages","firstNum","lastNum","items","Pagination","Item","handlePageSelect","number","active","allEvents","currentPage","setCurrentPage","setStartFilter","_useState5","_useState6","useStart","setUseStart","_useState7","_useState8","setEndFilter","_useState9","_useState10","useEnd","setUseEnd","_useState11","_useState12","setTitleFilter","_useState13","_useState14","setDescriptionFilter","_useState15","_useState16","setTargetFilter","_useState17","_useState18","setCreatorFilter","initStuff","isValidDate","d","Date","isNaN","filteredEvents","filterByStartdate","filterByEnddate","filterByTitle","filterByDescription","filterByTarget","filterByCreator","ceil","components_FilterEventsForm","fromFormat","toJSDate","error","plus","days","utils_JsonToCSV","bordered","hover","offset","components_DivingEvent","eventsToDisplay","components_Paginator","FilterTargetsForm","FilterFields_LocationFilter","northFilter","handleNorthFiltering","westFilter","handleWestFiltering","southFilter","handleSouthFiltering","eastFilter","handleEastFiltering","setNorthFilter","setWestFilter","setSouthFilter","_useState19","_useState20","setEastFilter","filteredTargets","firstDive","lastDive","filterByNorth","filterByWest","filterBySouth","filterByEast","FilterTargetDivesForm","Number","targetsToDisplay","components_FilterTargetsForm","elementID","UsernameField","defaultValue","usernameField","PasswordField","passwordField","VerifyField","verifyField","AdminField","adminField","User","email","gotEvents","gotMessages","messages","FilterUsersForm","FilterFields_UsernameFilter","handleUsernameFiltering","FilterFields_EmailFilter","handleEmailFiltering","allUsers","setUsernameFilter","setEmailFilter","filteredUsers","filterByUsername","filterByEmail","components_FilterUsersForm","components_User","usersToDisplay","UpdateBOUserForm","InputFields_UsernameField","handleUsernameField","InputFields_AdminField","handleAdminField","InputFields_PasswordField","handlePasswordField","InputFields_VerifyField","handleVerifyField","bouserid","handleBOUserUpdate","handleBOUserCancel","handleBOUserDelete","CreateBOUserForm","handleBOUserCreate","createBOUser","newBOUser","updateBOUser","deleteBOUser","showBOUserDetails","setShowBOUserDetails","setUsernameField","setPasswordField","setVerifyField","setAdminField","clearFields","components_CreateBOUserForm","components_UpdateBOUserForm","confirm","bousersCount","components_BOUser","initializeTargets","initializeEvents","mapDivesToTargets","events2","targetDivesMap","Map","has","set","values","initializeUsers","navLinkStyle","components_Notification","components_Login","paddingTop","BrowserRouter","Navbar","fixed","collapseOnSelect","expand","bg","Toggle","Nav","Link","components_Logout","Route","exact","path","render","components_Home","components_Targets","components_TargetDives","components_DivingEvents","components_Users","components_BOUsers","ReactDOM","es","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.7e7c444b.chunk.js","sourcesContent":["export const storageKeyUser = 'sukeltajaBOUser'\nexport const kyppiUrl = 'https://www.kyppi.fi/to.aspx?id=112.'\n\n// Filenames for JsonTOCSV:\nexport const eventsfilename = 'sukellustapahtumat.csv'\nexport const targetdivesfilename = 'kohteidensukellukset.csv'\nexport const targetsfilename = 'kohteet.csv'\nexport const usersfilename = 'kayttajat.csv'\n\n// URL and APIs\n//export const baseURL = 'https://sukeltaja.herokuapp.com/' // When testing with the production backend\n//export const baseURL = 'http://localhost:3001/' // When testing with a local backend\nexport const baseURL = '' // When in production\n//export const baseURL = 'http://192.168.137.1:3001/'\nexport const eventsAPI = 'api/events/bo'\nexport const targetsAPI = 'api/targets'\nexport const loginAPI = 'api/login/BO'\nexport const usersAPI = 'api/users'\nexport const bousersAPI = 'api/bousers'\n\nexport default {\n  storageKeyUser,\n  kyppiUrl,\n  eventsfilename, targetdivesfilename, targetsfilename, usersfilename,\n  baseURL, eventsAPI, targetsAPI, loginAPI, usersAPI, bousersAPI\n}","import axios from 'axios'\nimport { baseURL, loginAPI } from '../utils/config'\n\nconst serviceURL = `${baseURL}${loginAPI}`\n\nconst login = async credentials => {\n  const response = await axios.post(serviceURL, credentials)\n  return response.data\n}\n\nexport default { login }","import { storageKeyUser } from '../utils/config'\nimport loginService from '../services/loginService'\n\nexport const loginUser = (username, password) => {\n  return async dispatch => {\n    const user = await loginService.login({\n      username: username,\n      password: password\n    })\n    await window.localStorage.setItem(storageKeyUser, JSON.stringify(user))\n    //console.log(\"Reducer:\", user)\n    await dispatch({\n      type: 'LOGIN_USER',\n      data: {\n        loggedUser: user\n      }\n    })\n  }\n}\n\nexport const reLoginUser = (user) => {\n  return async dispatch => {\n    dispatch({\n      type: 'RELOGIN_USER',\n      data: {\n        loggedUser: user\n      }\n    })\n  }\n}\n\nexport const logoutUser = () => {\n  return async dispatch => {\n    // Clear possible other states\n    dispatch({\n      type: 'LOGOUT_USER',\n      data: {\n        loggedUser: null\n      }\n    })\n  }\n}\n\nconst authenticationReducer = (state = { loggedUser: null }, action) => {\n  switch (action.type) {\n    case 'LOGIN_USER':\n    return action.data\n    case 'RELOGIN_USER':\n      return action.data\n    case 'LOGOUT_USER':\n      return action.data\n    default:\n      return state\n  }\n}\n\nexport default authenticationReducer","\nexport const setNotification = (notClass, notMessage, timeout) => {\n\n  return async dispatch => {\n    dispatch({\n      type: 'SET_NOTIFICATION',\n      data: {\n        notMessage: notMessage,\n        notClass: notClass\n       }\n    })\n    await setTimeout(() => {\n      dispatch({\n        type: 'CLEAR_NOTIFICATION'\n      })\n    }, (timeout * 1000))\n  }\n}\n\nexport const clearNotification = () => {\n  return {\n    type: 'CLEAR_NOTIFICATION'\n  }\n}\n\nconst notificationReducer = (state = { notMessage: '', notClass: 'info' }, action) => {\n  switch (action.type) {\n    case 'SET_NOTIFICATION':\n      return action.data\n    case 'CLEAR_NOTIFICATION':\n      return ''\n    default:\n      return state\n  }\n}\n\n\nexport default notificationReducer","import axios from 'axios'\nimport { baseURL, targetsAPI } from '../utils/config'\n\nconst serviceURL = `${baseURL}${targetsAPI}`\n\nconst getAll = async () => {\n  const response = await axios.get(serviceURL)\n  //console.log(response.data.length, 'targets')\n  return response.data\n}\n\nexport default { getAll }","import targetService from '../services/targetService'\n\nexport const initializeTargets = () => {\n  return async dispatch => {\n    let targets = await targetService.getAll()\n    // Sort the targets by 'name:mj_id'\n    targets = targets.sort((a, b) =>\n      `${a.name}:${a.mj_id}`.toUpperCase().localeCompare(`${b.name}:${b.mj_id}`.toUpperCase()))\n    //console.log('Initialized targets')\n    dispatch({\n      type: 'INIT_TARGETS',\n      data: targets\n    })\n  }\n}\n\nexport const clearTargets = () => {\n  return {\n    type: 'CLEAR_TARGETS'\n  }\n}\n\nconst targetReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'INIT_TARGETS':\n      return action.data\n    case 'CLEAR_TARGETS':\n      return null\n    default:\n      return state\n  }\n}\n\nexport default targetReducer","import axios from 'axios'\nimport { storageKeyUser, baseURL, eventsAPI } from '../utils/config'\n\nconst serviceURL = `${baseURL}${eventsAPI}`\n\nconst getAll = async () => {\n\n  let config = ''\n  const loggedUserJSON = window.localStorage.getItem(storageKeyUser)\n  if (loggedUserJSON && loggedUserJSON.length > 0 && loggedUserJSON !== 'null') {\n    const token = `bearer ${JSON.parse(loggedUserJSON).token}`\n    config = {\n      headers: { Authorization: token },\n    }\n  } else {\n    console.log('Unauthorized call in eventService')\n    return null\n  }\n\n  const response = await axios.get(serviceURL, config)\n  //console.log(response.data.length, 'events')\n  return response.data\n}\n\nexport default { getAll }","import eventService from '../services/eventService'\n\nexport const initializeEvents = () => {\n  return async dispatch => {\n    let events = await eventService.getAll()\n    events = events.sort((a, b) => new Date(b.startdate) - new Date(a.startdate))\n    //console.log('Initialized events')\n    dispatch({\n      type: 'INIT_EVENTS',\n      data: events\n    })\n  }\n}\n\nexport const clearEvents = () => {\n  return {\n    type: 'CLEAR_EVENTS'\n  }\n}\n\nconst eventReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'INIT_EVENTS':\n      return action.data\n    case 'CLEAR_EVENTS':\n      return null\n    default:\n      return state\n  }\n}\n\nexport default eventReducer","import eventService from '../services/eventService'\n\nexport const mapDivesToTargets = () => {\n  return async dispatch => {\n    let targetDives = {}\n    let events2 = await eventService.getAll()\n    // Targets doesn't give us dives. We'll have to scrape them from events.\n    if (events2 !== undefined && events2 !== null && events2.length !== 0) {\n      //console.log('We see', events2.length, 'events')\n      let targetDivesMap = new Map()\n      // First we combine dives from all events under targets\n      await events2.forEach((divingEvent) => {\n        if (divingEvent.target !== undefined && divingEvent.target !== null &&\n          divingEvent.dives !== undefined && divingEvent.dives !== null && divingEvent.dives.length > 0) {\n          let dives = {}\n          let target = {}\n          if (!targetDivesMap.has(`${divingEvent.target.name}${divingEvent.target.mj_id}`)) {\n            target = divingEvent.target\n            dives = Array.from(divingEvent.dives)\n          } else {\n            target = targetDivesMap.get(`${divingEvent.target.name}${divingEvent.target.mj_id}`)\n            dives = target.dives\n            dives.concat(divingEvent.dives)\n          }\n          dives = dives.sort((a, b) => new Date(b.startdate) - new Date(a.startdate))\n          dives.forEach((dive) => {\n            dive.username = dive.user.username\n          })\n          target.dives = dives\n          targetDivesMap.set(`${divingEvent.target.name}${divingEvent.target.mj_id}`, target)\n        }\n      })\n      // Then we need to sort them by target name + mj_id\n      targetDives = Array.from(targetDivesMap.values()).sort((a, b) => {\n        return `${a.name}:${a.mj_id}`.toUpperCase().localeCompare(`${b.name}:${b.mj_id}`.toUpperCase())\n      })\n      //console.log('targetDives', targetDives)\n    }\n    dispatch({\n      type: 'MAP_DIVES_TO_TARGETS',\n      data: targetDives\n    })\n  }\n\n}\n\nexport const clearDives = () => {\n  return {\n    type: 'CLEAR_DIVES'\n  }\n}\n\n\nconst divesReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'MAP_DIVES_TO_TARGETS':\n      return action.data\n    case 'CLEAR_DIVES':\n      return null\n    default:\n      return state\n  }\n}\n\nexport default divesReducer","import axios from 'axios'\nimport { storageKeyUser, baseURL, usersAPI } from '../utils/config'\n\nconst serviceURL = `${baseURL}${usersAPI}`\n\nconst getAll = async () => {\n\n  let config = ''\n  const loggedUserJSON = window.localStorage.getItem(storageKeyUser)\n  if (loggedUserJSON && loggedUserJSON.length > 0 && loggedUserJSON !== 'null') {\n    const token = `bearer ${JSON.parse(loggedUserJSON).token}`\n    config = {\n      headers: { Authorization: token },\n    }\n  } else {\n    console.log('Unauthorized call in userService')\n    return null\n  }\n  const response = await axios.get(serviceURL, config)\n  //console.log(response.data.length, 'users')\n  //console.log(response.data)\n  return response.data\n}\n\nexport default { getAll }","import userService from '../services/userService'\n\nexport const initializeUsers = () => {\n  return async dispatch => {\n    let users = await userService.getAll()\n    users = users.sort((a, b) => a.username.toUpperCase().localeCompare(b.username.toUpperCase()))\n    //console.log('Initialized users')\n    dispatch({\n      type: 'INIT_USERS',\n      data: users\n    })\n  }\n}\n\nexport const clearUsers = () => {\n  return {\n    type: 'CLEAR_USERS'\n  }\n}\n\nconst userReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'INIT_USERS':\n      return action.data\n    case 'CLEAR_USERS':\n      return null\n    default:\n      return state\n  }\n}\n\nexport default userReducer","import axios from 'axios'\nimport { storageKeyUser, baseURL, bousersAPI } from '../utils/config'\n\nconst serviceURL = `${baseURL}${bousersAPI}`\n\nconst getConfig = () => {\n  const loggedUserJSON = window.localStorage.getItem(storageKeyUser)\n  if (loggedUserJSON && loggedUserJSON.length > 0 && loggedUserJSON !== 'null') {\n    const token = `bearer ${JSON.parse(loggedUserJSON).token}`\n    const config = {\n      headers: { Authorization: token },\n    }\n    return config\n  } else {\n    console.log('Unauthorized call in bouserService')\n    return null\n  }\n\n}\n\nconst getAll = async () => {\n  const config = getConfig()\n  if (config !== null) {\n    const response = await axios.get(serviceURL, config)\n    //console.log(response.data.length, 'bousers')\n    //console.log(response.data)\n    return response.data\n  }\n  return null\n}\n\nconst create = async (username, password, admin) => {\n  //console.log('bouserService: add', username)\n  const config = getConfig()\n  if (config !== null) {\n    const response = await axios.post(serviceURL, { username: username, password: password, admin: admin }, config)\n    //console.log(response.data)\n    return response.data\n  }\n  return null\n}\n\nconst update = async (bouser) => {\n  console.log('bouserService: update', bouser)\n  let config = getConfig()\n  if (config !== null) {\n    console.log('config ok')\n    const response = await axios.put(serviceURL, bouser, config)\n    console.log('put response status:', response.status, 'data:', response.data)\n    return response\n  }\n  return null\n}\n\nconst remove = async (bouser) => {\n  let config = getConfig()\n  if (config !== null) {\n    const response = await axios.delete(`${serviceURL}/${bouser._id}`, config)\n    return response\n  }\n  return null\n}\n\nexport default { getAll, create, update, remove }","import bouserService from '../services/bouserService'\n\nexport const initializeBOUsers = () => {\n  return async dispatch => {\n    let bousers = await bouserService.getAll()\n    bousers = bousers.sort((a, b) => a.username.toUpperCase().localeCompare(b.username.toUpperCase()))\n    //console.log('Initialized users')\n    dispatch({\n      type: 'INIT_BOUSERS',\n      data: bousers\n    })\n  }\n}\n\nexport const createBOUser = (username, password, admin) => {\n  //console.log('At the reducer trying to add bouser', username)\n  return async dispatch => {\n    //console.log('bouserReducer:create:', username)\n    const newBOUser = await bouserService.create(username, password, admin)\n    //console.log('bouserReducer:new bouser:', newBOUser)\n    dispatch({\n      type: 'ADD_BOUSER',\n      data: newBOUser\n    })\n  }\n}\n\nexport const updateBOUser = bouser => {\n  //console.log('At the reducer trying to update bouser', bouser)\n  return async dispatch => {\n    console.log('bouserReducer:update', bouser)\n    const response = await bouserService.update(bouser)\n    console.log('bouserReducer:response', response)\n    if (response.status === 204) {\n      dispatch({\n        type: 'UPDATE_BOUSER',\n        data: bouser\n      })\n    } else {\n      console.log('Something went wrong when updating a bo user')\n      dispatch({\n        type: 'UPDATE_FAILED'\n      })\n    }\n  }\n}\n\nexport const deleteBOUser = (bouser) => {\n  console.log('At the reducer', bouser)\n  return async dispatch => {\n    console.log('bouserReducer:delete', bouser)\n    await bouserService.remove(bouser)\n    dispatch({\n      type: 'DELETE_BOUSER',\n      data: bouser\n    })\n  }\n}\n\nexport const clearBOUsers = () => {\n  return {\n    type: 'CLEAR_BOUSERS'\n  }\n}\n\nconst bouserReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'INIT_BOUSERS':\n      return action.data\n    case 'ADD_BOUSER':\n      state = [...state, action.data]\n      state.sort((a, b) => a.username.toUpperCase().localeCompare(b.username.toUpperCase()))\n      return state\n    case 'UPDATE_BOUSER':\n      state = state.map((bouser) => {\n        return (bouser._id === action.data._id ? action.data : bouser)\n      })\n      state.sort((a, b) => a.username.toUpperCase().localeCompare(b.username.toUpperCase()))\n      return state\n    case 'DELETE_BOUSER':\n      return state.filter(bouser => bouser._id !== action.data._id)\n    case 'CLEAR_BOUSERS':\n      return null\n    default:\n      return state\n  }\n}\n\nexport default bouserReducer","import { createStore, combineReducers, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\n\nimport authenticationReducer from './reducers/authenticationReducer'\nimport notificationReducer from './reducers/notificationReducer'\nimport targetReducer from './reducers/targetReducer'\nimport eventReducer from './reducers/eventReducer'\nimport divesReducer from './reducers/divesReducer'\nimport userReducer from './reducers/userReducer'\nimport bouserReducer from './reducers/bouserReducer'\n\nconst reducer = combineReducers({\n  authentication: authenticationReducer,\n  notification: notificationReducer,\n  targets: targetReducer,\n  events: eventReducer,\n  targetDives: divesReducer,\n  users: userReducer,\n  bousers: bouserReducer\n})\n\nconst store = createStore(reducer, applyMiddleware(thunk))\n\nexport default store","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Alert } from 'react-bootstrap'\nimport PropTypes from 'prop-types'\n\nconst Notification = (props) => {\n\n  if (props.notMessage === undefined || props.notMessage === null || props.notMessage === '') {\n    return null\n  } else {\n    return (\n      <div>\n        <div>\n          &nbsp;\n        </div>\n        <div>\n          <Alert variant={props.notClass}>{props.notMessage}</Alert>\n        </div>\n        <div>\n          &nbsp;\n        </div>\n      </div>\n    )\n  }\n}\n\nNotification.propTypes = {\n  notMessage: PropTypes.string,\n  notClass: PropTypes.string\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    notMessage: state.notification.notMessage,\n    notClass: state.notification.notClass\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  null\n)(Notification)","import React, { useEffect, useState } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { Form, Button } from 'react-bootstrap'\nimport PropTypes from 'prop-types'\nimport { storageKeyUser } from '../utils/config'\nimport { setNotification } from '../reducers/notificationReducer'\nimport { loginUser, reLoginUser } from '../reducers/authenticationReducer'\n\nconst Login = (props) => {\n\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n\n  const storageUserToUser = () => {\n    const loggedUserJSON = window.localStorage.getItem(storageKeyUser)\n    if (loggedUserJSON && loggedUserJSON.length > 0 && loggedUserJSON !== 'null') {\n      return JSON.parse(loggedUserJSON)\n    } else {\n      return null\n    }\n  }\n\n  const initializeAtStartUp = async () => {\n    //console.log('Initialize at Login')\n    // Any initializations at login should be done here async at login if necessary\n  }\n\n  useEffect(() => {\n    // First check from local storage if user is already logged\n    const user = storageUserToUser()\n    if (user !== undefined && user !== null) {\n      // A user token was found\n      // console.log(\"Storage user was\", user)\n      props.reLoginUser(user)\n      initializeAtStartUp()\n    }\n  }, [])\n\n  const handleUsername = (event) => {\n    setUsername(event.target.value)\n  }\n  const handlePassword = (event) => {\n    setPassword(event.target.value)\n  }\n\n  const handleLogin = async (event) => {\n    console.log(\"Logging in\", username)\n    event.preventDefault()\n    try {\n      await props.loginUser(username, password)\n      initializeAtStartUp()\n      window.location.href = \"/\"\n    } catch (exception) {\n      console.log('Exception trying to login', username)\n      await props.setNotification('danger', 'Käyttäjätunnus tai salasana on virheellinen', 5)\n    }\n  }\n\n  if (props.loggedUser === undefined || props.loggedUser === null) {\n    return (\n      <div>\n        <h2>Sukeltaja Back Office</h2>\n        <Form onSubmit={handleLogin}>\n          <Form.Group>\n            <Form.Label>Käyttäjätunnus</Form.Label>\n            <Form.Control type=\"text\" name=\"username\"\n              placeholder=\"Syötä käyttäjätunnus\" onChange={handleUsername} />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>Salasana</Form.Label>\n            <Form.Control type=\"password\" name=\"password\"\n              placeholder=\"Syötä salasana\" onChange={handlePassword} />\n          </Form.Group>\n          <Form.Group>\n            <Button variant=\"primary\" type=\"submit\">Kirjaudu</Button>\n          </Form.Group>\n          <p />\n        </Form>\n      </div >\n    )\n  } else {\n    if (window.location.pathname !== \"/\") {\n      console.log(\"Redirecting to /\")\n      return (\n        <Redirect to=\"/\"></Redirect>\n      )\n    } else {\n      return null\n    }\n  }\n\n}\nLogin.propTypes = {\n  loggedUser: PropTypes.object\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  loginUser,\n  reLoginUser,\n  setNotification\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Button } from 'react-bootstrap'\nimport PropTypes from 'prop-types'\nimport { storageKeyUser } from '../utils/config'\nimport { setNotification } from '../reducers/notificationReducer'\nimport { logoutUser } from '../reducers/authenticationReducer'\nimport { clearEvents } from '../reducers/eventReducer'\nimport { clearDives } from '../reducers/divesReducer'\nimport { clearTargets } from '../reducers/targetReducer'\nimport { clearUsers } from '../reducers/userReducer'\nimport { clearBOUsers } from '../reducers/bouserReducer'\n\nconst Logout = (props) => {\n\n  const handleLogout = async (event) => {\n    event.preventDefault()\n    try {\n      console.log('Logging out user', props.loggedUser.username)\n      await props.logoutUser()\n      window.localStorage.removeItem(storageKeyUser)\n      await props.clearEvents()\n      await props.clearDives()\n      await props.clearTargets()\n      await props.clearUsers()\n      await props.clearBOUsers()\n      await props.setNotification('success', 'Olet kirjautunut ulos', 5)\n      return\n    } catch (exception) {\n      props.setNotification('danger', 'Kautta Neptunuksen! Uloskirjautuminen meni pieleen!', 10)\n    }\n  }\n\n  const logoutForm = () => {\n    return (\n      <div style={{color:\"black\"}}>\n        Sukeltamassa {props.loggedUser.username}&nbsp;\n        <Button variant=\"primary\" size=\"sm\" type=\"button\" onClick={handleLogout}>Kirjaudu ulos</Button>\n      </div>\n    )\n  }\n\n  if (props.loggedUser === undefined || props.loggedUser === null) {\n    return (\n      <>&nbsp;</>\n    )\n  } else {\n    return (\n      <>{logoutForm()}</>\n    )\n  }\n\n}\nLogout.propTypes = {\n  loggedUser: PropTypes.object\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  logoutUser,\n  clearEvents,\n  clearDives,\n  clearTargets,\n  clearUsers,\n  clearBOUsers,\n  setNotification\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Logout)","import React from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { Container, Row, Col } from 'react-bootstrap'\nimport PropTypes from 'prop-types'\nimport { setNotification } from '../reducers/notificationReducer'\n\nconst Home = (props) => {\n\n  let popularTargets = props.targetDives\n\n  /*\n  if (popularTargets !== undefined && popularTargets !== null && popularTargets.length > 0) {\n    popularTargets = props.targetDives.filter((target) => {\n      return target.dives !== undefined && target.dives !== null && target.dives.length > 0\n    })\n    popularTargets = popularTargets.sort((a, b) => b.dives.length - a.dives.length)\n  }\n  */\n  /*\n  const initStuff = async () => {\n    // Do stuff if needed\n    let filt = await props.targetDives.filter((target) => {\n      return target.dives !== undefined && target.dives !== null && target.dives.length > 0\n    })\n    filt = await filt.sort((a, b) => b.dives.length - a.dives.length)\n    setPopularTargets(filt)\n  }\n\n  useEffect(() => {\n    initStuff()\n  }, [])\n  */\n\n  const displayPopTargs = () => {\n    /*\n    if (popularTargets !== undefined && popularTargets !== null && popularTargets.length > 0) {\n      return (\n        popularTargets.map((target) => {\n          return (\n            <Row key={target._id}>\n              <Col>{target.name}</Col><Col>{target.dives}</Col>\n            </Row>\n          )\n        })\n      )\n    } else {*/\n      return null\n    //}\n  }\n\n\n  if (props.loggedUser !== undefined || props.loggedUser !== null) {\n    return (\n      <div>\n        <div>\n          <h2>Sukeltaja Back Office</h2>\n          <div>\n          </div>\n        </div>\n        <div>\n          <Container>\n            <Row>\n              <Col>\n                <Row>\n                  <Col><h3>Suosituimmat sukelluskohteet</h3></Col>\n                </Row>\n                <Row>\n                  <Col id=\"caption\">Kohde</Col><Col id=\"caption\">Sukelluksia</Col>\n                </Row>\n                {displayPopTargs()}\n              </Col>\n            </Row>\n          </Container>\n        </div>\n      </div>\n    )\n  } else {\n    if (window.location.pathname !== \"/\") {\n      return (\n        <Redirect to=\"/\"></Redirect>\n      )\n    } else {\n      return null\n    }\n  }\n\n}\nHome.propTypes = {\n  setNotification: PropTypes.func.isRequired,\n  loggedUser: PropTypes.object\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    targetDives: state.targetDives,\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  //loginUser,\n  //reLoginUser,\n  setNotification\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)","// util\nconst decimalToDMS = (coordinate) => {\n  const mul = 60\n  const degrees = (coordinate) => Math.floor(coordinate)\n  const minutes = (coordinate) => Math.floor((coordinate - degrees(coordinate)) * mul)\n  const seconds = (coordinate) => ((coordinate - degrees(coordinate)) * mul - minutes(coordinate)) * mul\n  const formatted = `${degrees(coordinate)}° ${minutes(coordinate)}' ${seconds(coordinate).toFixed(4)}\"`\n  return formatted\n}\nexport default decimalToDMS\n","import React from 'react'\nimport { Container, Row, Col } from 'react-bootstrap'\nimport { kyppiUrl } from '../utils/config'\n\nconst TargetDetails = (props) => {\n\n  const linkToKyppi = (mj_id) => mj_id ? `${kyppiUrl}${mj_id}` : undefined\n\n  const noMargins = { \"margins\": \"0px\" }\n\n  if (props.target && props.target !== null) {\n    const target = props.target\n    return (\n      <Container id={target._id} style={noMargins}>\n        <Row>\n          <Col id=\"caption\">\n            Tyyppi:\n          </Col>\n          <Col >\n            {target.type}\n          </Col>\n          <Col id=\"caption\">\n            Materiaali:\n            </Col>\n          <Col >\n            {target.material}\n          </Col>\n          <Col id=\"caption\">\n            Syvyys:\n            </Col>\n          <Col >\n            {target.depth}\n          </Col>\n        </Row>\n        <Row>\n          <Col id=\"caption\">\n            Museovirasto:\n            </Col>\n          <Col lg={6}>\n            <a href={linkToKyppi(target.mj_id)}>{linkToKyppi(target.mj_id)}</a>\n          </Col>\n          <Col lg={4}>\n            &nbsp;\n            </Col>\n        </Row>\n        <Row>\n          <Col id=\"caption\">\n            Hylyt.net:\n            </Col>\n          <Col lg={6}>\n            <a href={target.hylyt_link}>{target.hylyt_link}</a>\n          </Col>\n          <Col lg={4}>\n            &nbsp;\n            </Col>\n        </Row>\n      </Container>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default TargetDetails","import { DateTime, Duration, Settings } from 'luxon'\n\nSettings.defaultLocale = 'fi'\n\n// Format given date, either a string or Date() object.\nexport const formatDate = (date) => {\n  const format = (dateTime) => {\n    return dateTime\n      .toLocaleString({\n        weekday: 'short',\n        ...DateTime.DATETIME_SHORT\n      })\n  }\n\n  if (typeof date === 'string') {\n    return format(DateTime.fromISO(date))\n  }\n\n  return format(DateTime.fromJSDate(date))\n}\n\n// Format given duration.\nexport const formatDuration = (duration) => {\n  const day = Duration.fromObject({ days: 1 })\n  const hour = Duration.fromObject({ hours: 1 })\n  const minute = Duration.fromObject({ minutes: 1 })\n\n  const format = [\"d'd'\", \"h'h'\", \"m'm'\", \"s's'\"]\n\n  if (duration >= day) {\n    return duration.toFormat(format.join(' '))\n  } else if (duration >= hour) {\n    return duration.toFormat(format.slice(1).join(' '))\n  } else if (duration >= minute) {\n    return duration.toFormat(format.slice(2).join(' '))\n  }\n\n  // return seconds\n  return duration.toFormat(format.slice(3).join(' '))\n}\n\n// Return current time with the precision of minutes.\nexport const now = () => {\n  const { year, month, day, hour, minute } = DateTime.local()\n\n  return DateTime\n    .local(year, month, day, hour, minute)\n    .toJSDate()\n}\n\n// Return current time plus one hour with the precision of minutes.\nexport const inOneHour = () => {\n  const { year, month, day, hour, minute } = DateTime.local()\n\n  return DateTime\n    .local(year, month, day, hour, minute)\n    .plus({ hours: 1 })\n    .toJSDate()\n}\n\n","import React from 'react'\nimport { Container, Row, Col } from 'react-bootstrap'\nimport decimalToDMS from '../utils/coordinates'\n\nconst DiveDetails = (props) => {\n\n  const noMargins = { \"margins\": \"0px\" }\n\n  if (props.dive && props.dive !== null) {\n    const dive = props.dive\n    return (\n      <Container id={dive._id} style={noMargins}>\n        <Row>\n          <Col id=\"caption\">\n            Sijainti:\n          </Col>\n          <Col lg={6}>\n            {`${decimalToDMS(dive.latitude)}`}{dive.latitude > 0 ? ' N ' : ' S '}\n            {`${decimalToDMS(dive.longitude)}`}{dive.longitude > 0 ? ' E ' : ' W '}\n          </Col>\n          <Col lg={4}>\n            &nbsp;\n          </Col>\n        </Row>\n      </Container>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default DiveDetails","import React, { useState } from 'react'\nimport { Collapse } from 'react-bootstrap'\nimport { formatDate } from '../utils/dates'\nimport DiveDetails from './DiveDetails';\n\nconst Dive = (props) => {\n\n  const [showDiveDetails, setShowDiveDetails] = useState(false)\n\n  if (props.dive) {\n    const dive = props.dive\n    return (\n      <>\n        <tr onClick={() => setShowDiveDetails(!showDiveDetails)}\n          aria-controls={props.elementId}\n          aria-expanded={showDiveDetails}\n          style={props.odd ? { backgroundColor: \"#ffffff\" } : { backgroundColor: \"#eeeeee\" }} >\n          <td>\n            <i className={showDiveDetails ? 'fas fa-caret-down' : 'fas fa-caret-right'}></i>\n          </td>\n          <td colSpan=\"2\" id=\"dive\">{dive.user.username}</td>\n          <td colSpan=\"2\" id=\"dive\">\n            {formatDate(dive.startdate)}\n          </td>\n          <td colSpan=\"2\" id=\"dive\">\n            {formatDate(dive.enddate)}\n          </td>\n        </tr>\n        <tr>\n          <Collapse in={showDiveDetails}>\n            <td colSpan=\"7\" id={dive._id}>\n              <DiveDetails dive={dive} />\n            </td>\n          </Collapse>\n        </tr>\n      </>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default Dive","import React, { useState } from 'react'\nimport { Collapse } from 'react-bootstrap'\nimport Dive from './Dive'\n\nconst Dives = (props) => {\n\n  const dives = props.dives\n\n  const [showDives, setShowDives] = useState(false)\n\n  const noMargins = { \"margins\": \"0px\" }\n\n  //<Container id={props.elementId} style={noMargins}>\n  //</Container>\n\n  if (dives && dives.length > 0) {\n\n    const rows = () => dives.map((dive, index) =>\n      <Dive key={`${dive._id}${index}`} dive={dive} odd={index % 2} />\n    )\n    return (\n      <>\n        <tr onClick={() => setShowDives(!showDives)}\n          aria-controls={props.elementId}\n          aria-expanded={showDives} width=\"100%\">\n          <td width=\"1%\"><i className={showDives ? 'fas fa-caret-down' : 'fas fa-caret-right'}></i></td>\n          <td colSpan=\"2\" id=\"caption\">Sukeltaja</td>\n          <td colSpan=\"2\" id=\"caption\">Alkuaika</td>\n          <td colSpan=\"2\" id=\"caption\">Loppuaika</td>\n        </tr>\n        <Collapse in={showDives}>\n          <tr id={props.elementId} style={noMargins}>\n            <td colSpan=\"7\" style={noMargins}>\n              <table style={noMargins} width=\"100%\">\n                <tbody>\n                  {rows()}\n                </tbody>\n              </table>\n            </td>\n          </tr>\n        </Collapse>\n      </>\n    )\n  } else {\n    return null\n  }\n}\nexport default Dives","import React, { useState } from 'react'\nimport { Collapse } from 'react-bootstrap'\nimport decimalToDMS from '../utils/coordinates'\nimport TargetDetails from './TargetDetails'\nimport Dives from './Dives'\n\nconst Target = (props) => {\n\n  const [showTargetDetails, setShowTargetDetails] = useState(false)\n\n  if (props.target !== undefined && props.target !== null) {\n    const target = props.target\n\n    const dives = () => {\n      if (target.dives !== undefined) {\n        return (\n            <Dives dives={target.dives} />\n        )\n      } else {\n        return null\n      }\n    }\n\n    return (\n      <>\n        <tr onClick={() => setShowTargetDetails(!showTargetDetails)}\n            aria-controls={props.elementId} aria-expanded={showTargetDetails}\n            style={target.dives !== undefined ? {backgroundColor: \"#ddddff\"} : {backgroundColor: \"#ffffff\"}} >\n          <td>\n            <i className={showTargetDetails? 'fas fa-caret-down' : 'fas fa-caret-right'}></i>\n          </td>\n          <td colSpan=\"2\">{target.name}</td>\n          <td colSpan=\"2\">\n            {`${decimalToDMS(target.latitude)}`}{target.latitude > 0 ? ' N ' : ' S '}\n          </td>\n          <td colSpan=\"2\">\n            {`${decimalToDMS(target.longitude)}`}{target.longitude > 0 ? ' E ' : ' W '}\n          </td>\n        </tr>\n          <Collapse in={showTargetDetails}>\n            <tr>\n              <td colSpan=\"7\" id={props.elementId}>\n                <TargetDetails target={target} />\n              </td>\n            </tr>\n          </Collapse>\n          {dives()}\n      </>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default Target","import React, { useState } from 'react'\nimport { Collapse, Table } from 'react-bootstrap'\nimport Target from './Target'\nimport Dives from './Dives'\nimport { formatDate } from '../utils/dates'\n\nconst DivingEvent = (props) => {\n\n  const [showEventDetails, setShowEventDetails] = useState(false)\n\n  const divingEvent = props.divingEvent\n  const gotDescription = (\n    divingEvent.description !== undefined && divingEvent.description !== null && divingEvent.description !== ''\n  )\n  const gotTarget = divingEvent.target !== undefined && divingEvent.target !== null\n  const gotDives = (\n    divingEvent.dives !== undefined && divingEvent.dives !== null && divingEvent.dives.length > 0\n  )\n\n  const dives = () => {\n    if (gotDives) {\n      return (\n        <Dives dives={divingEvent.dives} elementId={`divesOf${divingEvent}`} />\n      )\n    } else {\n      return null\n    }\n  }\n\n  const diveTarget = () => {\n    if (gotTarget) {\n      return (\n        <>\n          <tr id=\"target\">\n            <td width=\"2.5%\"></td>\n            <td width=\"40%\" colSpan=\"2\" id=\"caption\">Kohde</td>\n            <td width=\"57.5%\" colSpan=\"4\" id=\"caption\">Sijainti</td>\n          </tr>\n          <Target target={divingEvent.target} elementId={divingEvent._id.concat(divingEvent.target._id)} />\n        </>\n      )\n    } else {\n      return null\n    }\n  }\n\n  const eventDescription = () => {\n    if (gotDescription) {\n      return (\n        <tr>\n          <td colSpan=\"6\" debug=\"description\">{props.divingEvent.description}</td>\n        </tr>\n      )\n    } else {\n      return null\n    }\n  }\n\n  const detailCaret = () => {\n    if (gotDescription || gotTarget) {\n      return <i className={showEventDetails ? 'fas fa-caret-down' : 'fas fa-caret-right'}></i>\n    } else {\n      return null\n    }\n  }\n\n  const details = () => {\n    if (gotDescription || gotTarget) {\n      return (\n        <Collapse in={showEventDetails}>\n          <tr id={divingEvent._id}>\n            <td colSpan=\"7\">\n              <Table>\n                <tbody>\n                  {eventDescription()}\n                  {diveTarget()}\n                  {dives()}\n                </tbody>\n              </Table>\n            </td>\n          </tr>\n        </Collapse>\n      )\n    } else {\n      return null\n    }\n  }\n\n  return (\n    <>\n      <tr onClick={() => setShowEventDetails(!showEventDetails)}\n        aria-controls={divingEvent._id}\n        aria-expanded={showEventDetails}>\n        <td>{detailCaret()}</td>\n        <td>{formatDate(props.divingEvent.startdate)}</td>\n        <td>{formatDate(props.divingEvent.enddate)}</td>\n        <td>{props.divingEvent.creator.username}</td>\n        <td colSpan=\"3\">{props.divingEvent.title}</td>\n      </tr>\n      {details()}\n    </>\n  )\n\n}\n\nexport default DivingEvent\n","import React from 'react'\nimport { Form, Col } from 'react-bootstrap'\n\nexport const StartFilter = (props) => {\n  return (\n    <>\n      <Form.Label>Alkaen</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"pp.kk.vvvv\" name=\"startdateFilter\"\n        value={props.startFilter} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa alkamispäivän mukaan\n      </Form.Text>\n    </>\n  )\n}\n\nexport const EndFilter = (props) => {\n  return (\n    <>\n      <Form.Label>Päättyen</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"pp.kk.vvvv\" name=\"enddateFilter\"\n        value={props.endFilter} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa päättymispäivän mukaan\n      </Form.Text>\n    </>\n  )\n}\n\n/* Not in use at the moment\nexport const HasDivesFilter = (props) => {\n  return (\n    <>\n      <Form.Label>Sukelluksia tehty</Form.Label>\n      <div key={'inline-checkbox'} className=\"mb-3\">\n        <Form.Check inline label=\"Kyllä\" type=\"checkbox\" checked={props.hasDives} onChange={props.hasTrigger} id={'inline-checkbox-yes'} />\n        <Form.Check inline label=\"Ei\" type=\"checkbox\" checked={props.noDives} onChange={props.noTrigger} id={'inline-checkbox-no'} />\n      </div>\n      <Form.Text className=\"text-muted\">\n        Rajaa tehtyjen sukellusten mukaan\n      </Form.Text>\n    </>\n  )\n}\n*/\n\nexport const CreatorFilter = (props) => {\n  return (\n    <>\n      <Form.Label>Perustaja</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"Perustajan käyttäjänimi\" name=\"creatorFilter\"\n        value={props.creatorFilter} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa tapahtuman perustajan käyttäjänimen osalla\n      </Form.Text>\n    </>\n  )\n}\n\nexport const TitleFilter = (props) => {\n  return (\n    <>\n      <Form.Label>Nimi</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"Tapahtuman nimi\" name=\"titleFilter\"\n        value={props.titleFilter} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa tapahtuman nimen osalla\n      </Form.Text>\n    </>\n  )\n}\n\nexport const DescriptionFilter = (props) => {\n  return (\n    <>\n      <Form.Label>Kuvaus</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"Tapahtuman kuvaus\" name=\"descriptionFilter\"\n        value={props.descriptionFilter} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa tapahtuman kuvauksen osalla\n      </Form.Text>\n    </>\n  )\n}\n\nexport const LocationFilter = (props) => {\n  return (\n    <>\n      <Form.Group as={Col}>\n        <Form.Label>{props.title}</Form.Label>\n        <Form.Control type=\"number\" step=\"0.1\" min=\"-90.0\" max=\"90.0\"\n        placeholder=\"Esim 60,0\" name=\"latitudeFilter\"\n        value={props.latitudeFilter} onChange={props.latitudeTrigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa aluetta leveyspiirillä desimaaleina\n      </Form.Text>\n      </Form.Group>\n      <Form.Group as={Col}>\n        <Form.Control type=\"number\" step=\"0.1\" min=\"-180.0\" max=\"180.0\"\n        placeholder=\"Esim 25,0\" name=\"longitudeFilter\"\n        value={props.longitudeFilter} onChange={props.longitudeTrigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa aluetta pituuspiirillä desimaaleina\n      </Form.Text>\n      </Form.Group>\n    </>\n  )\n}\n\nexport const TargetFilter = (props) => {\n  return (\n    <>\n      <Form.Label>Kohde</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"Kohteen nimi\" name=\"targetFilter\"\n        value={props.targetFilter} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa kohteen nimen osalla\n      </Form.Text>\n    </>\n  )\n}\n\nexport const UsernameFilter = (props) => {\n  return (\n    <>\n      <Form.Label>Käyttäjä</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"Käyttäjänimi\" name=\"usernameFilter\"\n        value={props.usernameFilter} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa käyttäjänimen osalla\n      </Form.Text>\n    </>\n  )\n}\n\nexport const EmailFilter = (props) => {\n  return (\n    <>\n      <Form.Label>Sähköposti</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"joku@jossain.com\" name=\"emailFilter\"\n        value={props.emailFilter} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Rajaa sähköpostiosoitteen osalla\n      </Form.Text>\n    </>\n  )\n}\n","import React from 'react'\nimport { Form, Row, Col } from 'react-bootstrap'\nimport { StartFilter, EndFilter, CreatorFilter, TitleFilter, DescriptionFilter, TargetFilter} from './FilterFields'\n\nconst FilterEventsForm = (props) => {\n\n  return (\n\n    <div>\n      <div id=\"caption\">\n        Suodata näytettäviä tapahtumia\n      </div>\n      <Form>\n        <Row>\n          <Col>\n            <StartFilter value={props.startFilter} trigger={props.handleStartFiltering} />\n          </Col>\n          <Col>\n            <EndFilter value={props.endFilter} trigger={props.handleEndFiltering} />\n          </Col>\n          <Col>\n            <CreatorFilter value={props.creatorFilter} trigger={props.handleCreatorFiltering} />\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <TitleFilter value={props.titleFilter} trigger={props.handleTitleFiltering} />\n          </Col>\n          <Col>\n            <DescriptionFilter value={props.descriptionFilter} trigger={props.handleDescriptionFiltering} />\n          </Col>\n          <Col>\n            <TargetFilter value={props.targetFilter} trigger={props.handleTargetFiltering} />\n          </Col>\n        </Row>\n      </Form>\n    </div>\n  )\n\n}\n\nexport default FilterEventsForm\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport decimalToDMS from './coordinates'\nimport { eventsfilename, targetdivesfilename, targetsfilename, usersfilename } from './config'\n\n// We're making a link for downloading the json data in csv format:\nconst JsonToCSV = (props) => {\n\n  if (props.content !== undefined && props.content !== null) {\n\n    //console.log('Making a file for', props.contentType)\n\n    let dataHeaders = {}\n    let filename = ''\n    switch (props.contentType) {\n      case 'events':\n        dataHeaders = require('../utils/eventHeaders.json')\n        filename = eventsfilename\n        break\n      case 'targetDives':\n        dataHeaders = require('../utils/targetDiveHeaders.json')\n        filename = targetdivesfilename\n        break\n      case 'targets':\n        dataHeaders = require('../utils/targetHeaders.json')\n        filename = targetsfilename\n        break\n        case 'users':\n        dataHeaders = require('../utils/userHeaders.json')\n        filename = usersfilename\n        break\n      default:\n        break\n    }\n\n\n    const sep = props.sep // Field separator\n    const dec = props.dec // Decimal separator\n    const xdc = (props.dec === ',' ? '.' : ',')\n\n    let data = []\n\n    // First make the headers\n    let headers = '';\n    dataHeaders.forEach(header => {\n      headers = headers.concat('\"').concat(header.label).concat('\";')\n    })\n    headers = headers.concat('\\n')\n    data.push(headers)\n\n    // Then the actual rows of data\n    let havingArray = false\n    let arrayIndex = 0\n    let arrayMax = 0\n    for (let o = 0; o < props.content.length; !havingArray ? o++ : null) {\n      let jsonObj = props.content[o]\n      let dataRow = ''\n      // eslint-disable-next-line no-loop-func, cause I really really really want to do this\n      dataHeaders.forEach(header => {\n        let val = ''\n        const quo = (header[\"type\"] === \"Number\" ? '' : '\"')\n        if (header[\"type\"] === \"Count\" && jsonObj[header[\"key\"]] !== undefined && jsonObj[header[\"key\"]] !== null) {\n          // Special case first: Type: \"Count\"\n          val = jsonObj[header[\"key\"]].length\n        } else if (header[\"key\"].includes('.')) {\n          // It's an object\n          try {\n            // We'll fish the attribute out if it exists\n            const arrKey = header[\"key\"].split('.')\n            const obj = jsonObj[arrKey[0]]\n            const objAttr = obj[arrKey[1]]\n            if (arrKey[2] !== undefined) {\n              // It's an array of objects\n              havingArray = true\n              let arr = Array.from(obj)\n              arrayMax = arr.length - 1\n              val = arr[arrayIndex][arrKey[2]]\n            } else if (objAttr !== undefined && objAttr != null) {\n              // The attribute was eventually found\n              val = objAttr\n            }\n          } catch (exception) {\n            // Object was perhaps missing\n            // Do nothing\n          }\n        } else {\n          // Just a regular attribute\n          val = (jsonObj[header[\"key\"]] === undefined || jsonObj[header[\"key\"]] === null ? '' : jsonObj[header[\"key\"]])\n        }\n        if (val !== '') {\n          if (header[\"type\"] === \"Number\") {\n            val = val.toString().replace(xdc, dec)\n          } else if (header[\"type\"] === \"Latitude\") {\n            val = `${decimalToDMS(val)}`.concat(val > 0 ? ' N ' : ' S ')\n          } else if (header[\"type\"] === \"Longitude\") {\n            val = `${decimalToDMS(val)}`.concat(val > 0 ? ' E ' : ' W ')\n          }\n        }\n        dataRow = dataRow.concat(quo).concat(val).concat(quo).concat(sep)\n      })\n      dataRow = dataRow.concat('\\n')\n      data.push(dataRow)\n      if (arrayIndex >= arrayMax) {\n        havingArray = false\n        arrayIndex = 0\n      } else {\n        arrayIndex++\n      }\n    }\n    const downloadLink = () => {\n      const contentType = 'text/csv;charset=utf-8'\n      let blob = new Blob(data, { type: contentType })\n      let urlForCSV = window.URL.createObjectURL(blob)\n      const prompt = \"Lataa CSV\"\n      return React.createElement('a', { href: urlForCSV, type: contentType, download: filename }, prompt)\n    }\n\n    return (\n      <>{downloadLink()}</>\n    )\n\n  } else {\n    return null\n  }\n\n}\nconst mapStateToProps = (state) => {\n  return {\n    events: state.events\n  }\n}\n\nexport default connect(mapStateToProps, null)(JsonToCSV)","import React from 'react'\nimport { Pagination } from 'react-bootstrap'\n\n\nconst Paginator = (props) => {\n\n  const current = parseInt(props.current, 10)\n  const pages = props.pages\n  let firstNum = 1\n  let lastNum = pages\n  if (pages > 9) {\n    firstNum = Math.max(1, current - 4)\n    lastNum = Math.min(pages, firstNum + 8)\n    firstNum = Math.max(1, lastNum - 8)\n  }\n\n  let items = []\n  items.push(\n    <Pagination.Item key={-9999999} id={1} onClick={props.handlePageSelect}>\n      &#8676;\n    </Pagination.Item>)\n  items.push(\n    <Pagination.Item key={-9999998} id={Math.max(1, current - 1)} onClick={props.handlePageSelect}>\n      &#8592;\n    </Pagination.Item>)\n  if (firstNum > 1) {\n    items.push(\n      <Pagination.Item key={-9999997} id={Math.max(1, current - 9)} onClick={props.handlePageSelect}>\n        &#8230;\n      </Pagination.Item>)\n  }\n  for (let number = firstNum; number <= lastNum; number++) {\n    items.push(\n      <Pagination.Item key={number} id={number} active={number === current} onClick={props.handlePageSelect}>\n        {number}\n      </Pagination.Item>\n    );\n  }\n  if (lastNum < pages) {\n    items.push(\n      <Pagination.Item key={9999997} id={Math.min(pages, current + 9)} onClick={props.handlePageSelect}>\n        &#8230;\n      </Pagination.Item>)\n  }\n  items.push(\n    <Pagination.Item key={9999998} id={Math.min(pages, current + 1)} onClick={props.handlePageSelect}>\n      &#8594;\n    </Pagination.Item>)\n  items.push(\n    <Pagination.Item key={9999999} id={pages} onClick={props.handlePageSelect}>\n      &#8677;\n    </Pagination.Item>)\n\n  // We won't define onClick on the top level Pagination because then clicking outside the buttons would\n  // trigger unnecessary events without a valid id.\n  return (\n    <Pagination>\n      {items}\n    </Pagination>\n  )\n\n}\n\nexport default Paginator","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { Table } from 'react-bootstrap'\nimport { DateTime, Settings } from 'luxon'\nimport PropTypes from 'prop-types'\nimport { setNotification } from '../reducers/notificationReducer'\nimport DivingEvent from './DivingEvent'\nimport FilterEventsForm from './FilterEventsForm'\nimport JsonToCSV from '../utils/JsonToCSV'\nimport Paginator from './Paginator'\n\nconst DivingEvents = (props) => {\n\n  Settings.defaultLocale = 'fi'\n\n  const allEvents = props.events\n\n  const [currentPage, setCurrentPage] = useState(1)\n  const [startFilter, setStartFilter] = useState('')\n  const [useStart, setUseStart] = useState('')\n  const [endFilter, setEndFilter] = useState('')\n  const [useEnd, setUseEnd] = useState('')\n  const [titleFilter, setTitleFilter] = useState('')\n  const [descriptionFilter, setDescriptionFilter] = useState('')\n  const [targetFilter, setTargetFilter] = useState('')\n  const [creatorFilter, setCreatorFilter] = useState('')\n\n  const initStuff = async () => {\n    // If somenthing needs to be done when page loaded\n  }\n\n  useEffect(() => {\n    initStuff()\n  }, [])\n\n  function isValidDate(d) {\n    return d instanceof Date && !isNaN(d);\n  }\n\n  const handlePageSelect = (event) => {\n    try {\n      setCurrentPage(parseInt(event.target.id))\n    } catch (error) {\n      // Do nothing\n    }\n  }\n\n  const handleStartFiltering = (event) => {\n    try {\n      let startdate = DateTime.fromFormat(event.target.value, 'd.M.yyyy', 'fi-FI').toJSDate()\n      if (isValidDate(startdate)) {\n        setUseStart(startdate)\n      }\n      setStartFilter(event.target.value)\n    } catch (error) {\n      console.log(\"Error with startdate\", event.target.value)\n    }\n  }\n  const handleEndFiltering = (event) => {\n    try {\n      let enddate = DateTime.fromFormat(event.target.value, 'd.M.yyyy', 'fi-FI')\n        .plus({ days: 1 }).plus({ minutes: -1 }).toJSDate()\n      if (isValidDate(enddate)) {\n        setUseEnd(enddate)\n      }\n      setEndFilter(event.target.value)\n    } catch (error) {\n      console.log(\"Error with enddate\", event.target.value)\n    }\n  }\n\n  const handleTitleFiltering = (event) => {\n    setTitleFilter(event.target.value)\n  }\n  const handleDescriptionFiltering = (event) => {\n    setDescriptionFilter(event.target.value)\n  }\n  const handleTargetFiltering = (event) => {\n    setTargetFilter(event.target.value)\n  }\n  const handleCreatorFiltering = (event) => {\n    setCreatorFilter(event.target.value)\n  }\n\n  const filterByStartdate = (divingEvent) => {\n    return ((startFilter.length === 0) ||\n      (new Date(divingEvent.startdate) >= new Date(useStart)))\n  }\n  const filterByEnddate = (divingEvent) => {\n    return ((endFilter.length === 0) ||\n      (new Date(divingEvent.enddate) <= new Date(useEnd)))\n  }\n  const filterByTitle = (divingEvent) => {\n    return ((!(divingEvent.title) && titleFilter.length === 0) ||\n      (divingEvent.title && divingEvent.title.toUpperCase().includes(titleFilter.toUpperCase())))\n  }\n  const filterByDescription = (divingEvent) => {\n    return ((!(divingEvent.description) && descriptionFilter.length === 0) ||\n      (divingEvent.description && divingEvent.description.toUpperCase().includes(descriptionFilter.toUpperCase())))\n  }\n  const filterByTarget = (divingEvent) => {\n    return ((!(divingEvent.target) && targetFilter.length === 0) ||\n      (divingEvent.target && divingEvent.target.name.toUpperCase().includes(targetFilter.toUpperCase())))\n  }\n  const filterByCreator = (divingEvent) => {\n    return ((!(divingEvent.creator.username) && creatorFilter.length === 0) || (divingEvent.creator.username === undefined) ||\n      (divingEvent.creator && divingEvent.creator.username.toUpperCase().includes(creatorFilter.toUpperCase())))\n  }\n\n  const filteredEvents = allEvents.filter(divingEvent =>\n    filterByStartdate(divingEvent) &&\n    filterByEnddate(divingEvent) &&\n    filterByTitle(divingEvent) &&\n    filterByDescription(divingEvent) &&\n    filterByTarget(divingEvent) &&\n    filterByCreator(divingEvent)\n  )\n\n  const itemsOnPage = 20\n  const pages = Math.ceil(filteredEvents.length / itemsOnPage)\n\n  const eventsToDisplay = () => {\n    var offset = (currentPage - 1) * itemsOnPage\n    return (\n      filteredEvents.map((divingEvent, index) => {\n        if (index >= offset && index < (offset + itemsOnPage)) {\n          return <DivingEvent key={divingEvent._id} divingEvent={divingEvent} />\n        } else {\n          return null\n        }\n      })\n    )\n  }\n\n  const jsonToCSV = () => {\n    if (filteredEvents !== undefined && filteredEvents !== null) {\n      return (\n        <JsonToCSV contentType={'events'} content={filteredEvents} sep={';'} dec={','} />\n      )\n    } else {\n      return null\n    }\n  }\n\n  return (\n    <div>\n      <h2>Sukellustapahtumat</h2>\n      <FilterEventsForm\n        startFilter={startFilter}\n        handleStartFiltering={handleStartFiltering}\n        endFilter={endFilter}\n        handleEndFiltering={handleEndFiltering}\n        titleFilter={titleFilter}\n        handleTitleFiltering={handleTitleFiltering}\n        descriptionFilter={descriptionFilter}\n        handleDescriptionFiltering={handleDescriptionFiltering}\n        targetFilter={targetFilter}\n        handleTargetFiltering={handleTargetFiltering}\n        creatorFilter={creatorFilter}\n        handleCreatorFiltering={handleCreatorFiltering}\n      />\n      <div id=\"caption\">\n        Näytetään {filteredEvents.length}/{props.events.length} tapahtumaa.\n        &nbsp;\n        {jsonToCSV()}\n      </div>\n      <Table bordered hover size=\"sm\">\n        <thead>\n          <tr>\n            <th width=\"2.5%\"></th>\n            <th width=\"17.5%\">Alkuaika</th>\n            <th width=\"17.5%\">Loppuaika</th>\n            <th width=\"15%\">Perustaja</th>\n            <th width=\"47.5%\" colSpan=\"3\">Tapahtuma</th>\n          </tr>\n        </thead>\n        <tbody>\n          {eventsToDisplay()}\n        </tbody>\n      </Table>\n      <Paginator current={currentPage} pages={pages} handlePageSelect={handlePageSelect} />\n    </div>\n  )\n}\nDivingEvents.propTypes = {\n  setNotification: PropTypes.func.isRequired,\n  loggedUser: PropTypes.object\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    events: state.events,\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  setNotification\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DivingEvents)","import React from 'react'\nimport { Form, Row, Col } from 'react-bootstrap'\nimport { StartFilter, EndFilter, LocationFilter, TargetFilter} from './FilterFields'\n\nconst FilterTargetsForm = (props) => {\n\n  return (\n\n    <div>\n      <div id=\"caption\">\n        Suodata näytettäviä kohteita\n      </div>\n      <Form>\n        <Row>\n          <Col>\n            <StartFilter value={props.startFilter} trigger={props.handleStartFiltering} />\n          </Col>\n          <Col>\n            <EndFilter value={props.endFilter} trigger={props.handleEndFiltering} />\n          </Col>\n          <Col>\n            <TargetFilter value={props.targetFilter} trigger={props.handleTargetFiltering} />\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <LocationFilter title={'Alueen luoteisnurkka'} \n              latitudeFilter={props.northFilter} latitudeTrigger={props.handleNorthFiltering}\n              longitudeFilter={props.westFilter} longitudeTrigger={props.handleWestFiltering} />\n          </Col>\n          <Col>\n            <LocationFilter title={'Alueen kaakkoisnurkka'}\n              latitudeFilter={props.southFilter} latitudeTrigger={props.handleSouthFiltering}\n              longitudeFilter={props.eastFilter} longitudeTrigger={props.handleEastFiltering} />\n          </Col>\n        </Row>\n      </Form>\n    </div>\n  )\n\n}\n\nexport default FilterTargetsForm\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { Table } from 'react-bootstrap'\nimport { DateTime, Settings } from 'luxon'\nimport PropTypes from 'prop-types'\nimport { setNotification } from '../reducers/notificationReducer'\nimport Target from './Target'\nimport FilterTargetDivesForm from './FilterTargetDivesForm'\nimport JsonToCSV from '../utils/JsonToCSV'\nimport Paginator from './Paginator'\n\nconst TargetDives = (props) => {\n\n  Settings.defaultLocale = 'fi'\n\n  const [currentPage, setCurrentPage] = useState(1)\n  const [startFilter, setStartFilter] = useState('')\n  const [useStart, setUseStart] = useState('')\n  const [endFilter, setEndFilter] = useState('')\n  const [useEnd, setUseEnd] = useState('')\n  const [targetFilter, setTargetFilter] = useState('')\n  const [northFilter, setNorthFilter] = useState(70.1) // Finland northest point\n  const [westFilter, setWestFilter] = useState(19.0) // Finland most western point (at sea)\n  const [southFilter, setSouthFilter] = useState(59.4) // Finland southest point (at sea)\n  const [eastFilter, setEastFilter] = useState(31.6) // Finland most eastern point\n\n  const initStuff = async () => {\n    // Do stuff if needed\n  }\n\n  useEffect(() => {\n    initStuff()\n  }, [])\n\n  function isValidDate(d) {\n    return d instanceof Date && !isNaN(d);\n  }\n\n  const handlePageSelect = (event) => {\n    try {\n      setCurrentPage(parseInt(event.target.id))\n    } catch (error) {\n      // Do nothing\n    }\n  }\n\n  const handleStartFiltering = (event) => {\n    try {\n      let startdate = DateTime.fromFormat(event.target.value, 'd.M.yyyy', 'fi-FI').toJSDate()\n      if (isValidDate(startdate)) {\n        setUseStart(startdate)\n      }\n      setStartFilter(event.target.value)\n      setCurrentPage(1)\n    } catch (error) {\n      console.log(\"Error with startdate\", event.target.value)\n    }\n  }\n  const handleEndFiltering = (event) => {\n    try {\n      let enddate = DateTime.fromFormat(event.target.value, 'd.M.yyyy', 'fi-FI')\n        .plus({ days: 1 }).plus({ minutes: -1 }).toJSDate()\n      if (isValidDate(enddate)) {\n        setUseEnd(enddate)\n      }\n      setEndFilter(event.target.value)\n      setCurrentPage(1)\n    } catch (error) {\n      console.log(\"Error with enddate\", event.target.value)\n    }\n  }\n\n  const handleTargetFiltering = (event) => {\n    setTargetFilter(event.target.value)\n    setCurrentPage(1)\n  }\n  const handleNorthFiltering = (event) => {\n    try {\n      setNorthFilter(Number(event.target.value))\n      setCurrentPage(1)\n    } catch (error) {\n      setNorthFilter(null)\n    }\n  }\n  const handleWestFiltering = (event) => {\n    try {\n      setWestFilter(Number(event.target.value))\n      setCurrentPage(1)\n    } catch (error) {\n      setWestFilter(null)\n    }\n  }\n  const handleSouthFiltering = (event) => {\n    try {\n      setSouthFilter(Number(event.target.value))\n      setCurrentPage(1)\n    } catch (error) {\n      setSouthFilter(null)\n    }\n  }\n  const handleEastFiltering = (event) => {\n    try {\n      setEastFilter(Number(event.target.value))\n      setCurrentPage(1)\n    } catch (error) {\n      setEastFilter(null)\n    }\n  }\n\n  const filterByStartdate = (target) => {\n    return ((startFilter.length === 0) ||\n      ((target.dives !== undefined && new Date(target.firstDive) >= new Date(useStart))))\n  }\n  const filterByEnddate = (target) => {\n    return ((endFilter.length === 0) ||\n    ((target.dives !== undefined && new Date(target.lastDive) >= new Date(useEnd))))\n  }\n  const filterByTarget = (target) => {\n    return ((targetFilter.length === 0) ||\n      (target && target.name.toUpperCase().includes(targetFilter.toUpperCase())))\n  }\n  const filterByNorth = (target) => {\n    return ((northFilter !== null && northFilter.length === 0) ||\n      (target && target.latitude <= northFilter))\n  }\n  const filterByWest = (target) => {\n    return ((westFilter !== null && westFilter.length === 0) ||\n      (target && target.longitude >= westFilter))\n  }\n  const filterBySouth = (target) => {\n    return ((southFilter !== null && southFilter.length === 0) ||\n      (target && target.latitude >= southFilter))\n  }\n  const filterByEast = (target) => {\n    return ((eastFilter !== null && eastFilter.length === 0) ||\n      (target && target.longitude <= eastFilter))\n  }\n\n  const filteredTargets = props.targetDives.filter(target =>\n    filterByStartdate(target) &&\n    filterByEnddate(target) &&\n    filterByTarget(target) &&\n    filterByNorth(target) &&\n    filterByWest(target) &&\n    filterBySouth(target) &&\n    filterByEast(target)\n  )\n\n  const itemsOnPage = 20\n  const pages = Math.ceil(filteredTargets.length / itemsOnPage)\n\n  const targetsToDisplay = () => {\n    var offset = (currentPage - 1) * itemsOnPage\n    return (\n      filteredTargets.map((target, index) => {\n        if (index >= offset && index < (offset + itemsOnPage)) {\n          return <Target key={target._id} target={target} elementId={`divesOf${target._id}`} dives={target.dives}/>\n        } else {\n          return null\n        }\n      })\n    )\n  }\n\n  const jsonToCSV = () => {\n    if (filteredTargets !== undefined && filteredTargets !== null) {\n      return (\n        <JsonToCSV contentType={'targetDives'} content={filteredTargets} sep={';'} dec={','} />\n      )\n    } else {\n      return null\n    }\n  }\n\n  return (\n    <div>\n      <h2>Kohteiden sukellukset</h2>\n      <FilterTargetDivesForm\n        startFilter={startFilter}\n        handleStartFiltering={handleStartFiltering}\n        endFilter={endFilter}\n        handleEndFiltering={handleEndFiltering}\n        targetFilter={targetFilter}\n        handleTargetFiltering={handleTargetFiltering}\n        northFilter={northFilter}\n        handleNorthFiltering={handleNorthFiltering}\n        westFilter={westFilter}\n        handleWestFiltering={handleWestFiltering}\n        southFilter={southFilter}\n        handleSouthFiltering={handleSouthFiltering}\n        eastFilter={eastFilter}\n        handleEastFiltering={handleEastFiltering}\n      />\n      <div id=\"caption\">\n        Näytetään {filteredTargets.length}/{props.targetDives.length} kohteesta, joissa sukelluksia.\n        &nbsp;\n        {jsonToCSV()}\n      </div>\n      <Table bordered hover size=\"sm\">\n        <thead>\n          <tr id=\"target\">\n            <th width=\"2.5%\"></th>\n            <th width=\"40%\" colSpan=\"2\" id=\"caption\">Kohde</th>\n            <th width=\"57.5%\" colSpan=\"4\" id=\"caption\">Sijainti</th>\n          </tr>\n        </thead>\n        <tbody>\n          {targetsToDisplay()}\n        </tbody>\n      </Table>\n      <Paginator current={currentPage} pages={pages} handlePageSelect={handlePageSelect} />\n    </div>\n  )\n}\nTargetDives.propTypes = {\n  setNotification: PropTypes.func.isRequired,\n  loggedUser: PropTypes.object\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    targets: state.targets,\n    targetDives: state.targetDives,\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  setNotification\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TargetDives)","import React from 'react'\nimport { Form, Row, Col } from 'react-bootstrap'\nimport { LocationFilter, TargetFilter} from './FilterFields'\n\nconst FilterTargetsForm = (props) => {\n\n  return (\n\n    <div>\n      <div id=\"caption\">\n        Suodata näytettäviä kohteita\n      </div>\n      <Form>\n        <Row>\n          <Col>\n            <TargetFilter value={props.targetFilter} trigger={props.handleTargetFiltering} />\n          </Col>\n          <Col>\n            <LocationFilter title={'Alueen luoteisnurkka'} \n              latitudeFilter={props.northFilter} latitudeTrigger={props.handleNorthFiltering}\n              longitudeFilter={props.westFilter} longitudeTrigger={props.handleWestFiltering} />\n          </Col>\n          <Col>\n            <LocationFilter title={'Alueen kaakkoisnurkka'}\n              latitudeFilter={props.southFilter} latitudeTrigger={props.handleSouthFiltering}\n              longitudeFilter={props.eastFilter} longitudeTrigger={props.handleEastFiltering} />\n          </Col>\n        </Row>\n      </Form>\n    </div>\n  )\n\n}\n\nexport default FilterTargetsForm\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { Table } from 'react-bootstrap'\nimport PropTypes from 'prop-types'\nimport { setNotification } from '../reducers/notificationReducer'\nimport Target from './Target'\nimport FilterTargetsForm from './FilterTargetsForm'\nimport JsonToCSV from '../utils/JsonToCSV'\nimport Paginator from './Paginator'\n\nconst Targets = (props) => {\n\n  const [currentPage, setCurrentPage] = useState(1)\n  const [targetFilter, setTargetFilter] = useState('')\n  const [northFilter, setNorthFilter] = useState(70.1) // Finland northest point\n  const [westFilter, setWestFilter] = useState(19.0) // Finland most western point (at sea)\n  const [southFilter, setSouthFilter] = useState(59.4) // Finland southest point (at sea)\n  const [eastFilter, setEastFilter] = useState(31.6) // Finland most eastern point\n\n  const initStuff = async () => {\n    // Do stuff if needed\n  }\n\n  useEffect(() => {\n    initStuff()\n  }, [])\n\n  const handlePageSelect = (event) => {\n    try {\n      setCurrentPage(parseInt(event.target.id))\n    } catch (error) {\n      // Do nothing\n    }\n  }\n\n  const handleTargetFiltering = (event) => {\n    setTargetFilter(event.target.value)\n    setCurrentPage(1)\n  }\n  const handleNorthFiltering = (event) => {\n    try {\n      setNorthFilter(Number(event.target.value))\n      setCurrentPage(1)\n    } catch (error) {\n      setNorthFilter(null)\n    }\n  }\n  const handleWestFiltering = (event) => {\n    try {\n      setWestFilter(Number(event.target.value))\n      setCurrentPage(1)\n    } catch (error) {\n      setWestFilter(null)\n    }\n  }\n  const handleSouthFiltering = (event) => {\n    try {\n      setSouthFilter(Number(event.target.value))\n      setCurrentPage(1)\n    } catch (error) {\n      setSouthFilter(null)\n    }\n  }\n  const handleEastFiltering = (event) => {\n    try {\n      setEastFilter(Number(event.target.value))\n      setCurrentPage(1)\n    } catch (error) {\n      setEastFilter(null)\n    }\n  }\n\n  const filterByTarget = (target) => {\n    return ((targetFilter.length === 0) ||\n      (target && target.name.toUpperCase().includes(targetFilter.toUpperCase())))\n  }\n  const filterByNorth = (target) => {\n    return ((northFilter !== null && northFilter.length === 0) ||\n      (target && target.latitude <= northFilter))\n  }\n  const filterByWest = (target) => {\n    return ((westFilter !== null && westFilter.length === 0) ||\n      (target && target.longitude >= westFilter))\n  }\n  const filterBySouth = (target) => {\n    return ((southFilter !== null && southFilter.length === 0) ||\n      (target && target.latitude >= southFilter))\n  }\n  const filterByEast = (target) => {\n    return ((eastFilter !== null && eastFilter.length === 0) ||\n      (target && target.longitude <= eastFilter))\n  }\n\n  const filteredTargets = props.targets.filter(target =>\n    filterByTarget(target) &&\n    filterByNorth(target) &&\n    filterByWest(target) &&\n    filterBySouth(target) &&\n    filterByEast(target)\n  )\n\n  const itemsOnPage = 20\n  const pages = Math.ceil(filteredTargets.length / itemsOnPage)\n\n  const targetsToDisplay = () => {\n    var offset = (currentPage - 1) * itemsOnPage\n    return (\n      filteredTargets.map((target, index) => {\n        if (index >= offset && index < (offset + itemsOnPage)) {\n          return <Target key={target._id} target={target} elementID={target._id}/>\n        } else {\n          return null\n        }\n      })\n    )\n  }\n\n  const jsonToCSV = () => {\n    if (filteredTargets !== undefined && filteredTargets !== null) {\n      return (\n        <JsonToCSV contentType={'targets'} content={filteredTargets} sep={';'} dec={','} />\n      )\n    } else {\n      return null\n    }\n  }\n\n  return (\n    <div>\n      <h2>Kaikki kohteet</h2>\n      <FilterTargetsForm\n        targetFilter={targetFilter}\n        handleTargetFiltering={handleTargetFiltering}\n        northFilter={northFilter}\n        handleNorthFiltering={handleNorthFiltering}\n        westFilter={westFilter}\n        handleWestFiltering={handleWestFiltering}\n        southFilter={southFilter}\n        handleSouthFiltering={handleSouthFiltering}\n        eastFilter={eastFilter}\n        handleEastFiltering={handleEastFiltering}\n      />\n      <div id=\"caption\">\n        Näytetään {filteredTargets.length}/{props.targets.length} kohdetta.\n        &nbsp;\n        {jsonToCSV()}\n      </div>\n      <Table bordered hover size=\"sm\">\n        <thead>\n          <tr id=\"target\">\n            <th width=\"2.5%\"></th>\n            <th width=\"40%\" colSpan=\"2\" id=\"caption\">Kohde</th>\n            <th width=\"57.5%\" colSpan=\"4\" id=\"caption\">Sijainti</th>\n          </tr>\n        </thead>\n        <tbody>\n          {targetsToDisplay()}\n        </tbody>\n      </Table>\n      <Paginator current={currentPage} pages={pages} handlePageSelect={handlePageSelect} />\n    </div>\n  )\n}\nTargets.propTypes = {\n  setNotification: PropTypes.func.isRequired,\n  loggedUser: PropTypes.object\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    targets: state.targets,\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  setNotification\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Targets)","import React from 'react'\nimport { Form } from 'react-bootstrap'\n\nexport const UsernameField = (props) => {\n  return (\n    <>\n      <Form.Label>Käyttäjätunnus</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"Käyttäjätunnus\" name=\"usernameField\"\n        defaultValue={props.usernameField} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Syötä käyttäjätunnus\n      </Form.Text>\n    </>\n  )\n}\n\nexport const PasswordField = (props) => {\n  return (\n    <>\n      <Form.Label>Salasana</Form.Label>\n      <Form.Control type=\"password\" placeholder=\"Salasana\" name=\"passwordField\"\n        defaultValue={props.passwordField} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Syötä salasana\n      </Form.Text>\n    </>\n  )\n}\n\nexport const VerifyField = (props) => {\n  return (\n    <>\n      <Form.Label>Varmista salasana</Form.Label>\n      <Form.Control type=\"password\" placeholder=\"Salasana uudestaan\" name=\"verifyField\"\n        defaultValue={props.verifyField} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Syötä salasana uudestaan\n      </Form.Text>\n    </>\n  )\n}\n\nexport const EmailField = (props) => {\n  return (\n    <>\n      <Form.Label>Sähköposti</Form.Label>\n      <Form.Control type=\"email\" placeholder=\"joku@jossain.com\" name=\"emailField\"\n        defaultValue={props.emailField} onChange={props.trigger} />\n      <Form.Text className=\"text-muted\">\n        Syötä sähköpostiosoite\n      </Form.Text>\n    </>\n  )\n}\n\nexport const AdminField = (props) => {\n  return (\n    <>\n      <Form.Label>Pääkäyttäjä</Form.Label>\n      <Form.Control as=\"select\" name=\"adminField\" defaultValue={props.adminField ? true : false} onChange={props.trigger}>\n        <option value=\"false\">Ei</option>\n        <option value=\"true\">Kyllä</option>\n      </Form.Control>\n      <Form.Text className=\"text-muted\">\n        Valitse onko pääkäyttäjä\n      </Form.Text>\n    </>\n  )\n}","import React, { useState } from 'react'\nimport { Collapse } from 'react-bootstrap'\nimport UpdateUserForm from './UpdateUserForm'\n\nconst User = (props) => {\n\n  const user = props.user\n\n  const updatingInUse = false; // Updating regular users is not yet implemented in the backend\n\n  const [showUserDetails, setShowUserDetails] = useState(false)\n  const [usernameField, setUsernameField] = useState(user.username)\n  const [emailField, setEmailField] = useState(user.email)\n\n  const handleUsernameField = (event) => {\n    setUsernameField(event.target.value)\n  }\n  const handleEmailField = (event) => {\n    setEmailField(event.target.value)\n  }\n\n  const gotEvents = (\n    user.events !== undefined && user.events !== null && user.events.length > 0\n  )\n  const gotDives = (\n    user.dives !== undefined && user.dives !== null && user.dives.length > 0\n  )\n  const gotMessages = (\n    user.messages !== undefined && user.messages !== null && user.messages.length > 0\n  )\n\n  const handleUserUpdate = (event) => {\n    try {\n      console.log('Handle update, id =', event.target.value, 'username =', usernameField, 'email =', emailField)\n    } catch (error) {\n      console.log('Error handling update', error, event.target.value)\n    }\n  }\n\n  const details = () => {\n    return (\n      <Collapse in={showUserDetails}>\n        <tr id={user._id}>\n          <td colSpan=\"7\">\n            <UpdateUserForm userid={user._id}\n              usernameField={usernameField}\n              handleUsernameField={handleUsernameField}\n              emailField={emailField}\n              handleEmailField={handleEmailField}\n              handleUserUpdate={handleUserUpdate} />\n          </td>\n        </tr>\n      </Collapse>\n    )\n  }\n\n  if (updatingInUse) {\n    return (\n      <>\n        <tr onClick={() => setShowUserDetails(!showUserDetails)}\n          aria-controls={user._id}\n          aria-expanded={showUserDetails}>\n          <td><i className={showUserDetails ? 'fas fa-user-edit' : 'fas fa-user'}></i></td>\n          <td>{user.username}</td>\n          <td>{user.email}</td>\n          <td>{gotEvents ? user.events.length : 0}</td>\n          <td>{gotDives ? user.dives.length : 0}</td>\n          <td colSpan=\"2\">{gotMessages ? user.messages.length : 0}</td>\n        </tr>\n        {details()}\n      </>\n    )\n  } else {\n    return (\n        <tr>\n          <td><i className='fas fa-user'></i></td>\n          <td>{user.username}</td>\n          <td>{user.email}</td>\n          <td>{gotEvents ? user.events.length : 0}</td>\n          <td>{gotDives ? user.dives.length : 0}</td>\n          <td colSpan=\"2\">{gotMessages ? user.messages.length : 0}</td>\n        </tr>\n    )\n  }\n\n}\n\nexport default User\n","import React from 'react'\nimport { Form, Row, Col } from 'react-bootstrap'\nimport { UsernameFilter, EmailFilter} from './FilterFields'\n\nconst FilterUsersForm = (props) => {\n\n  return (\n\n    <div>\n      <div id=\"caption\">\n        Suodata näytettäviä käyttäjiä\n      </div>\n      <Form>\n        <Row>\n          <Col>\n            <UsernameFilter value={props.usernameFilter} trigger={props.handleUsernameFiltering} />\n          </Col>\n          <Col>\n            <EmailFilter value={props.emailFilter} trigger={props.handleEmailFiltering} />\n          </Col>\n        </Row>\n      </Form>\n    </div>\n  )\n\n}\n\nexport default FilterUsersForm\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { Table } from 'react-bootstrap'\nimport PropTypes from 'prop-types'\nimport { setNotification } from '../reducers/notificationReducer'\nimport User from './User'\nimport FilterUsersForm from './FilterUsersForm'\nimport JsonToCSV from '../utils/JsonToCSV'\nimport Paginator from './Paginator'\n\nconst Users = (props) => {\n\n  const allUsers = props.users\n\n  const [currentPage, setCurrentPage] = useState(1)\n  const [usernameFilter, setUsernameFilter] = useState('')\n  const [emailFilter, setEmailFilter] = useState('')\n\n  const initStuff = async () => {\n    // If something needs to be done when page loaded\n  }\n\n  useEffect(() => {\n    initStuff()\n  }, [])\n\n  const handlePageSelect = (event) => {\n    try {\n      setCurrentPage(parseInt(event.target.id))\n    } catch (error) {\n      // Do nothing\n    }\n  }\n\n  const handleUsernameFiltering = (event) => {\n    setUsernameFilter(event.target.value)\n  }\n  const handleEmailFiltering = (event) => {\n    setEmailFilter(event.target.value)\n  }\n\n  const filterByUsername = (user) => {\n    return ((!(user.username) && usernameFilter.length === 0) ||\n      (user.username && user.username.toUpperCase().includes(usernameFilter.toUpperCase())))\n  }\n  const filterByEmail = (user) => {\n    return ((!(user.email) && emailFilter.length === 0) ||\n      (user.email && user.email.toUpperCase().includes(emailFilter.toUpperCase())))\n  }\n\n  const filteredUsers = allUsers.filter(user =>\n    filterByUsername(user) &&\n    filterByEmail(user)\n  )\n\n  const itemsOnPage = 20\n  const pages = Math.ceil(filteredUsers.length / itemsOnPage)\n\n  const usersToDisplay = () => {\n    var offset = (currentPage - 1) * itemsOnPage\n    return (\n      filteredUsers.map((user, index) => {\n        if (index >= offset && index < (offset + itemsOnPage)) {\n          return <User key={user._id} user={user} />\n        } else {\n          return null\n        }\n      })\n    )\n  }\n\n  const jsonToCSV = () => {\n    if (filteredUsers !== undefined && filteredUsers !== null) {\n      return (\n        <JsonToCSV contentType={'users'} content={filteredUsers} sep={';'} dec={','} />\n      )\n    } else {\n      return null\n    }\n  }\n\n  return (\n    <div>\n      <h2>Sukeltajat</h2>\n      <FilterUsersForm\n        usernameFilter={usernameFilter}\n        handleUsernameFiltering={handleUsernameFiltering}\n        emailFilter={emailFilter}\n        handleEmailFiltering={handleEmailFiltering}\n      />\n      <div id=\"caption\">\n        Näytetään {filteredUsers.length}/{props.users.length} käyttäjää.\n        &nbsp;\n        {jsonToCSV()}\n      </div>\n      <Table bordered hover size=\"sm\">\n        <thead>\n          <tr>\n            <th width=\"2.5%\"></th>\n            <th width=\"30%\">Käyttäjä</th>\n            <th width=\"30%\">Sähköposti</th>\n            <th width=\"12.5%\">Tapahtumia</th>\n            <th width=\"12.5%\">Sukelluksia</th>\n            <th width=\"12.5%\" colSpan=\"2\">Viestejä</th>\n          </tr>\n        </thead>\n        <tbody>\n          {usersToDisplay()}\n        </tbody>\n      </Table>\n      <Paginator current={currentPage} pages={pages} handlePageSelect={handlePageSelect} />\n    </div>\n  )\n}\nUsers.propTypes = {\n  setNotification: PropTypes.func.isRequired,\n  loggedUser: PropTypes.object\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    users: state.users,\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  setNotification\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Users)","import React from 'react'\nimport { Form, Row, Col, Button } from 'react-bootstrap'\nimport { UsernameField, PasswordField, VerifyField, AdminField } from './InputFields'\n\nconst UpdateBOUserForm = (props) => {\n\n  return (\n    <div>\n      <Form>\n        <Row>\n          <Col>\n            <UsernameField usernameField={props.usernameField} trigger={props.handleUsernameField} />\n          </Col>\n          <Col>\n            <AdminField adminField={props.adminField} trigger={props.handleAdminField} />\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <PasswordField passwordField={props.passwordField} trigger={props.handlePasswordField} />\n          </Col>\n          <Col>\n            <VerifyField verifyField={props.verifyField} trigger={props.handleVerifyField} />\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <Button variant=\"success\" type=\"button\" value={props.bouserid}\n              onClick={props.handleBOUserUpdate}>Päivitä</Button>\n            &nbsp;\n            <Button variant=\"primary\" type=\"button\" value={props.bouserid}\n              onClick={props.handleBOUserCancel}>Peru</Button>\n            &nbsp;\n            <Button variant=\"danger\" type=\"button\" value={props.bouserid}\n              onClick={props.handleBOUserDelete}>Poista</Button>\n          </Col>\n          <Col>\n          </Col>\n          <Col>\n          </Col>\n        </Row>\n      </Form>\n    </div>\n  )\n\n}\n\nexport default UpdateBOUserForm\n","import React from 'react'\nimport { Form, Row, Col, Button } from 'react-bootstrap'\nimport { UsernameField, PasswordField, VerifyField, AdminField } from './InputFields'\n\nconst CreateBOUserForm = (props) => {\n\n  return (\n    <div>\n      <Form>\n        <Row>\n          <Col>\n            <UsernameField usernameField={props.usernameField} trigger={props.handleUsernameField} />\n          </Col>\n          <Col>\n            <AdminField adminField={props.adminField} trigger={props.handleAdminField} />\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <PasswordField passwordField={props.passwordField} trigger={props.handlePasswordField} />\n          </Col>\n          <Col>\n            <VerifyField verifyField={props.verifyField} trigger={props.handleVerifyField} />\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <Button variant=\"success\" type=\"button\" value={props.bouserid}\n              onClick={props.handleBOUserCreate}>Lisää</Button>\n            &nbsp;\n            <Button variant=\"primary\" type=\"button\" value={props.bouserid}\n              onClick={props.handleBOUserCancel}>Peru</Button>\n          </Col>\n          <Col>\n          </Col>\n          <Col>\n          </Col>\n        </Row>\n      </Form>\n    </div>\n  )\n\n}\n\nexport default CreateBOUserForm\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { Collapse } from 'react-bootstrap'\nimport UpdateBOUserForm from './UpdateBOUserForm'\nimport CreateBOUserForm from './CreateBOUserForm'\nimport { createBOUser, updateBOUser, deleteBOUser, initializeBOUsers } from '../reducers/bouserReducer'\n\nconst BOUser = (props) => {\n\n  const bouser = props.bouser\n\n  const [showBOUserDetails, setShowBOUserDetails] = useState(false)\n  const [usernameField, setUsernameField] = useState(bouser.username)\n  const [passwordField, setPasswordField] = useState('')\n  const [verifyField, setVerifyField] = useState('')\n  const [adminField, setAdminField] = useState(bouser.admin)\n\n  const handleUsernameField = (event) => {\n    setUsernameField(event.target.value)\n  }\n  const handlePasswordField = (event) => {\n    setPasswordField(event.target.value)\n  }\n  const handleVerifyField = (event) => {\n    setVerifyField(event.target.value)\n  }\n  const handleAdminField = (event) => {\n    setAdminField(event.target.value)\n  }\n\n  const clearFields = () => {\n    setUsernameField('')\n    setPasswordField('')\n    setAdminField(false)\n    setShowBOUserDetails(false)\n  }\n\n  const handleBOUserCancel = (event) => {\n    event.preventDefault()\n    clearFields()\n  }\n\n  const handleBOUserCreate = (event) => {\n    event.preventDefault()\n    if (passwordField === verifyField) {\n      try {\n        props.createBOUser(usernameField, passwordField, adminField)\n        clearFields()\n      } catch (error) {\n        console.log('Error handling create', error, event.target.value)\n      }\n    }\n  }\n\n  const handleBOUserUpdate = (event) => {\n    event.preventDefault()\n    if (passwordField === verifyField) {\n      try {\n        console.log('Handle update, id =', event.target.value, 'username =', usernameField, 'admin =', adminField)\n        bouser.username = usernameField\n        bouser.password = passwordField\n        bouser.admin = adminField\n        props.updateBOUser(bouser)\n        setShowBOUserDetails(false)\n      } catch (error) {\n        console.log('Error handling update', error, event.target.value)\n      }\n    }\n  }\n\n  const handleBOUserDelete = (event) => {\n    event.preventDefault()\n    try {\n      if (window.confirm(`Haluatko varmasti poistaa käyttäjän ${usernameField}?`)) {\n        console.log('Handle delete, id =', event.target.value, 'username =', usernameField, 'admin =', adminField)\n        props.deleteBOUser(bouser)\n      }\n    } catch (error) {\n      console.log('Error handling delete', error, event.target.value)\n    }\n  }\n\n  if (bouser._id === 'newBOUser') {\n    return (\n      <>\n        <tr onClick={() => setShowBOUserDetails(!showBOUserDetails)}\n          aria-controls={bouser._id}\n          aria-expanded={showBOUserDetails}>\n          <td><i className='fas fa-user-plus'></i></td>\n          <td>Lisää uusi Back Office käyttäjä</td>\n          <td>&nbsp;</td>\n        </tr>\n        <Collapse in={showBOUserDetails}>\n          <tr id={bouser._id}>\n            <td colSpan=\"7\">\n              <CreateBOUserForm bouserid={bouser._id}\n                usernameField={usernameField}\n                handleUsernameField={handleUsernameField}\n                passwordField={passwordField}\n                handlePasswordField={handlePasswordField}\n                verifyField={verifyField}\n                handleVerifyField={handleVerifyField}\n                adminField={adminField}\n                handleAdminField={handleAdminField}\n                handleBOUserCancel={handleBOUserCancel}\n                handleBOUserCreate={handleBOUserCreate} />\n            </td>\n          </tr>\n        </Collapse>\n      </>\n    )\n  } else {\n    return (\n      <>\n        <tr onClick={() => setShowBOUserDetails(!showBOUserDetails)}\n          aria-controls={bouser._id}\n          aria-expanded={showBOUserDetails}>\n          <td><i className={showBOUserDetails ? 'fas fa-user-edit' : 'fas fa-user'}></i></td>\n          <td>{bouser.username}</td>\n          <td>{adminField ? 'Pääkäyttäjä' : ''}</td>\n        </tr>\n        <Collapse in={showBOUserDetails}>\n          <tr id={bouser._id}>\n            <td colSpan=\"7\">\n              <UpdateBOUserForm bouserid={bouser._id}\n                usernameField={usernameField}\n                handleUsernameField={handleUsernameField}\n                passwordField={passwordField}\n                handlePasswordField={handlePasswordField}\n                verifyField={verifyField}\n                handleVerifyField={handleVerifyField}\n                adminField={adminField}\n                handleAdminField={handleAdminField}\n                handleBOUserCancel={handleBOUserCancel}\n                handleBOUserUpdate={handleBOUserUpdate}\n                handleBOUserDelete={handleBOUserDelete} />\n            </td>\n          </tr>\n        </Collapse>\n      </>\n    )\n  }\n\n\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    bousers: state.bousers,\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  createBOUser, updateBOUser, deleteBOUser, initializeBOUsers\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BOUser)","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { Table } from 'react-bootstrap'\nimport PropTypes from 'prop-types'\nimport { setNotification } from '../reducers/notificationReducer'\nimport BOUser from './BOUser'\n\nconst BOUsers = (props) => {\n\n  const bousers = props.bousers\n  const bousersCount = ((props.bousers === undefined || props.bousers === null) ? 0 : props.bousers.length)\n\n  const initStuff = async () => {\n    // If something needs to be done when page loaded\n  }\n\n  useEffect(() => {\n    initStuff()\n  }, [])\n\n  const usersToDisplay = () => {\n    if (bousers !== undefined && bousers !== null) {\n      //console.log('Logged user', props.loggedUser)\n      return (\n        bousers.map((bouser) => {\n          return <BOUser key={bouser._id} bouser={bouser} />\n        })\n      )\n    } else {\n      return null\n    }\n  }\n\n  return (\n    <div>\n      <h2>Back Office käyttäjät</h2>\n      <div id=\"caption\">\n        Näytetään {bousersCount}/{bousersCount} Back Office käyttäjää.\n      </div>\n      <Table bordered hover size=\"sm\">\n        <thead>\n          <tr>\n            <th width=\"2.5%\"></th>\n            <th width=\"47.5%\">Käyttäjä</th>\n            <th width=\"50%\">Pääkäyttäjä</th>\n          </tr>\n        </thead>\n        <tbody>\n          <BOUser key={'newBOUser'} bouser={{\"_id\": \"newBOUser\", \"admin\": false}} />\n          {usersToDisplay()}\n        </tbody>\n      </Table>\n    </div>\n  )\n}\nBOUsers.propTypes = {\n  setNotification: PropTypes.func.isRequired,\n  loggedUser: PropTypes.object\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    bousers: state.bousers,\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  setNotification\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BOUsers)","import React, { useEffect } from 'react'\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { Navbar, Nav, Container } from 'react-bootstrap'\nimport { storageKeyUser } from '../utils/config'\nimport { initializeTargets } from '../reducers/targetReducer'\nimport { initializeEvents } from '../reducers/eventReducer'\nimport { mapDivesToTargets } from '../reducers/divesReducer'\nimport { initializeUsers } from '../reducers/userReducer'\nimport { initializeBOUsers } from '../reducers/bouserReducer'\nimport { setNotification } from '../reducers/notificationReducer'\nimport Notification from './Notification'\nimport Login from './Login'\nimport Logout from './Logout'\nimport Home from './Home'\nimport DivingEvents from './DivingEvents'\nimport TargetDives from './TargetDives'\nimport Targets from './Targets'\nimport Users from './Users'\nimport BOUsers from './BOUsers'\n\nconst App = (props) => {\n\n  const haveUser = () => {\n    return (props.loggedUser !== undefined && props.loggedUser !== null)\n  }\n\n  const storageUserToUser = () => {\n    const loggedUserJSON = window.localStorage.getItem(storageKeyUser)\n    if (loggedUserJSON && loggedUserJSON.length > 0 && loggedUserJSON !== 'null') {\n      return JSON.parse(loggedUserJSON)\n    } else {\n      return null\n    }\n  }\n\n  const initializeAtStartUp = async () => {\n    //console.log('Initialize at App')\n    // Any initializations at login should be done here async at login if necessary\n    props.setNotification('success', 'Tervetuloa! Muista hengittää rauhallisesti!', 5)\n    if (props.events === undefined || props.events === null || props.events.length === 0) {\n      await props.initializeEvents()\n      await props.mapDivesToTargets()\n    }\n    if (props.targets === undefined || props.targets === null || props.targets.length === 0) {\n      await props.initializeTargets()\n    }\n    if (props.users === undefined || props.users === null || props.users.length === 0) {\n      await props.initializeUsers()\n    }\n    if (props.bousers === undefined || props.bousers === null || props.bousers.length === 0) {\n      await props.initializeBOUsers()\n    }\n  }\n\n  useEffect(() => {\n    //console.log(\"Checking if we have a token...\")\n    const user = storageUserToUser()\n    if (user !== undefined && user !== null) {\n      //console.log(\"Storage user was\", user)\n      initializeAtStartUp()\n    }\n  }, [])\n\n\n  // Define preferred link style in Nav\n  const navLinkStyle = {}\n\n  // This is to prevent the top of the page to be hiding behind the Navbar\n  const topPadding = { \"paddingTop\": \"70px\" }\n\n  if (!haveUser()) {\n    return (\n      <Container>\n        <div className=\"justify-content-sm-center\">\n          &nbsp;\n        </div>\n        <div className=\"justify-content-sm-center\">\n          <Notification />\n        </div>\n        <div className=\"justify-content-sm-center\">\n          <Login />\n        </div>\n      </Container>\n    )\n  } else {\n    return (\n      <Container style={topPadding}>\n        <Router>\n          <div>\n            <div>\n              <Navbar fixed=\"top\" collapseOnSelect expand=\"md\" bg=\"warning\" variant=\"dark\">\n                <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n                <Navbar.Collapse id=\"responsive-navbar-nav\">\n                  <Nav>\n                    <Nav.Link as=\"span\">\n                      <Link style={navLinkStyle} to=\"/\">Alkuun</Link>\n                    </Nav.Link>\n                    <Nav.Link as=\"span\">\n                      <Link style={navLinkStyle} to=\"/targets\">Kohteet</Link>\n                    </Nav.Link>\n                    <Nav.Link as=\"span\">\n                      <Link style={navLinkStyle} to=\"/targetDives\">Kohteiden sukellukset</Link>\n                    </Nav.Link>\n                    <Nav.Link as=\"span\">\n                      <Link style={navLinkStyle} to=\"/events\">Sukellustapahtumat</Link>\n                    </Nav.Link>\n                    <Nav.Link as=\"span\">\n                      <Link style={navLinkStyle} to=\"/users\">Sukeltajat</Link>\n                    </Nav.Link>\n                    <Nav.Link as=\"span\">\n                      <Link style={navLinkStyle} to=\"/bousers\">Backofficerit</Link>\n                    </Nav.Link>\n                    <Navbar.Text as=\"span\">\n                      <Logout />\n                    </Navbar.Text>\n                  </Nav>\n                </Navbar.Collapse>\n              </Navbar>\n            </div>\n            <div>\n              <div>\n                <Notification />\n                <Route exact path=\"/\" render={() => <Home />} />\n                <Route exact path=\"/targets\" render={() => <Targets />} />\n                <Route exact path=\"/targetDives\" render={() => <TargetDives />} />\n                <Route exact path=\"/events\" render={() => <DivingEvents />} />\n                <Route exact path=\"/users\" render={() => <Users />} />\n                <Route exact path=\"/bousers\" render={() => <BOUsers />} />\n              </div>\n            </div>\n          </div>\n        </Router>\n      </Container>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    targets: state.targets,\n    events: state.events,\n    targetDives: state.targetDives,\n    users: state.users,\n    bousers: state.bousers,\n    loggedUser: state.authentication.loggedUser\n  }\n}\n\nconst mapDispatchToProps = {\n  initializeTargets,\n  initializeEvents,\n  mapDivesToTargets,\n  initializeUsers,\n  initializeBOUsers,\n  setNotification\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport store from './store' \nimport App from './components/App'\nimport './index.css'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)\n\n"],"sourceRoot":""}